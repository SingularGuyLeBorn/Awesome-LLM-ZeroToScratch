====================
文件: .\.deepwiki.yml
====================

# FILE: .deepwiki.yml
# Deep-Wiki Configuration for Awesome-LLM-ZeroToScratch

# 项目名称，将显示在Deep-Wiki页面上
name: "Awesome LLM ZeroToScratch"

# 项目的简短描述
description: "An end-to-end, code-driven tutorial for pre-training and fine-tuning LLMs and VLMs, designed to be both nanny-level accessible and industrial-grade robust."

# 定义文档的根文件，通常是README
root: "README.md"

# 指定代码和文档的路径，帮助Deep-Wiki聚焦于最重要的部分
sources:
  - path: "src/"
    description: "Core source code for models, trainers, inference, and evaluation logic."
  - path: "docs/"
    description: "Detailed step-by-step tutorial documentation."
  - path: "configs/"
    description: "YAML configuration files for all experiments (data, models, training)."
  - path: "scripts/"
    description: "Shell scripts to launch training and inference jobs."

# 指定需要排除的路径，避免扫描不必要的文件
exclude:
  - "data/"
  - "checkpoints/"
  - "wandb/"
  - ".idea/"
  - ".vscode/"
  - "__pycache__/"
  - "*.egg-info/"
  - "/autodl-tmp/"

# (可选) 为项目添加标签，方便分类和搜索
tags:
  - "LLM"
  - "VLM"
  - "Pre-training"
  - "Fine-tuning"
  - "PyTorch"
  - "DeepSpeed"
  - "Tutorial"

====================
文件: .\create_project_structure.py
====================

# FILE: create_project_structure.py
"""
Bedrock Protocol v: Absolute Provenance Edition
Project: Awesome-LLM-ZeroToScratch
Task: Automated generation of the complete project directory and file skeleton.

This script is a self-contained utility to bootstrap the project structure.
It creates all necessary directories and placeholder files as defined in the
Bedrock Workflow, ensuring a clean, consistent, and reproducible starting point.

This script embodies the Mandate of Intentionality: its sole, deliberate
purpose is to construct the project's foundational scaffold.
"""

import os
import sys
from pathlib import Path
from typing import List

# --- CORE CONFIGURATION ---

# Mandate of Intentionality: The root directory name is explicitly defined.
ROOT_DIR_NAME: str = "Awesome-LLM-ZeroToScratch"

# Mandate of Structural Integrity: The entire project structure is defined
# declaratively. Each entry is a deliberate component of the grand design.
PROJECT_STRUCTURE: List[str] = [
    ".gitignore",
    "README.md",
    "LICENSE",  # Added LICENSE here to ensure it's created.
    "requirements.txt",
    "setup.sh",
    "configs/data/text_pretrain.yaml",
    "configs/data/vlm_pretrain.yaml",
    "configs/model/0.5B_dense.yaml",
    "configs/model/0.8B_moe.yaml",
    "configs/model/llama2-7b.yaml",
    "configs/training/pretrain_llm.yaml",
    "configs/training/finetune_sft.yaml",
    "configs/training/finetune_dpo.yaml",
    "data_processing/download_and_reproduce.py",
    "data_processing/process_text.py",
    "data_processing/process_vlm.py",
    "data_processing/build_tokenizer.py",
    "data_processing/__init__.py",
    "src/__init__.py",
    "src/models/__init__.py",
    "src/models/attention/__init__.py",
    "src/models/attention/standard_attention.py",
    "src/models/attention/flash_attention.py",
    "src/models/ffn.py",
    "src/models/moe.py",
    "src/models/language_model.py",
    "src/trainers/__init__.py",
    "src/trainers/pretrain_trainer.py",
    "src/trainers/sft_trainer.py",
    "src/trainers/dpo_trainer.py",
    "src/utils/__init__.py",
    "src/inference/__init__.py",  # Added for completeness in structure generation
    "src/inference/inference.py",  # Added for completeness in structure generation
    "src/evaluation/__init__.py",  # Added for completeness in structure generation
    "src/evaluation/evaluate_llm.py",  # Added for completeness in structure generation
    "scripts/run_pretrain.sh",
    "scripts/run_sft.sh",
    "scripts/run_dpo.sh",
    "scripts/run_inference.sh",  # Added for completeness in structure generation
    "scripts/run_evaluation.sh",  # Added for completeness in structure generation
    "docs/01_environment_setup.md",
    "docs/02_data_pipeline.md",
    "docs/03_track_a_pretraining.md",
    "docs/04_track_b_finetuning.md",
    "docs/05_deployment_and_evaluation.md",
]

# Mandate of Zero Ambiguity: Content for critical files is defined explicitly,
# leaving no room for misinterpretation.
GITIGNORE_CONTENT: str = """
# Byte-compiled / optimized / DLL files
__pycache__/
*.py[cod]
*$py.class

# C extensions
*.so

# Distribution / packaging
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
pip-wheel-metadata/
share/python-wheels/
*.egg-info/
.installed.cfg
*.egg
MANIFEST

# PyInstaller
#  Usually these files are written by a python script from a template
#  before PyInstaller builds the exe, so as to inject date/other infos into it.
*.manifest
*.spec

# Installer logs
pip-log.txt
pip-delete-this-directory.txt

# Unit test / coverage reports
htmlcov/
.tox/
.nox/
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
*.py,cover
.hypothesis/
.pytest_cache/

# Environments
.env
.venv
env/
venv/
ENV/
env.bak/
venv.bak/

# IDEs
.idea/
.vscode/
*.swp
*.sublime-workspace
*.sublime-project

# AutoDL / Cloud specific
.autodl/
/autodl-tmp/
/autodl-fs/

# Jupyter Notebook
.ipynb_checkpoints

# Data files
# Raw, processed, or tokenized data should not be in git.
# Use download scripts and mount network storage instead.
*.bin
*.pt
*.arrow
*.parquet
/data/
/datasets/
/wudao_200g/
*.jsonl

# Trained models & logs
# Checkpoints, models, and logs are artifacts, not source code.
/models/
/checkpoints/
/runs/
/logs/

# W&B local artifacts
/wandb/

# Tokenizer files
*.model
*.vocab
"""

README_CONTENT: str = """
# Awesome-LLM-ZeroToScratch

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

An end-to-end, code-driven tutorial for pre-training and fine-tuning
Large Language Models (LLMs) and Vision Language Models (VLMs).

This repository is built following the **Bedrock Protocol v: Absolute Provenance Edition**,
ensuring theoretical and practical robustness, clarity, and reproducibility.

## Core Philosophy

This project is designed with a dual-purpose philosophy:

*   **保姆级 (Nanny-Level):** Providing meticulously detailed, step-by-step guidance with ready-to-run code and commands, specifically tailored for platforms like AutoDL. It's designed for users who have a theoretical understanding but lack hands-on experience with large-scale model training.
*   **工业级 (Industrial-Grade):** The codebase is highly modular, configuration-driven (using YAML), and built for scalability. It clearly demonstrates the key architectural and strategic adjustments needed to scale from a small 0.5B parameter model to a 70B+ giant (e.g., parallelism strategies, memory optimization).

## Project Structure

The repository is organized into a clear, modular structure:
Use code with caution.
Python
/Awesome-LLM-ZeroToScratch
|-- README.md
|-- LICENSE
|-- requirements.txt
|-- setup.sh
|-- configs/ # YAML configs for data, models, and training
|-- data_processing/ # Scripts for data download, processing, tokenization
|-- docs/ # Detailed markdown tutorials
|-- scripts/ # Shell scripts to launch training jobs
`-- src/ # Core, modular source code for models and trainers
Generated code
## Getting Started

To begin your journey, please start with the first document which details the complete environment setup process on the AutoDL platform.

**➡️ Start here: [docs/01_environment_setup.md](./docs/01_environment_setup.md)**

## License

This project is licensed under the MIT License. See the [LICENSE](./LICENSE) file for details.
"""

LICENSE_CONTENT: str = """
MIT License

Copyright (c) 2025 Bedrock

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
"""


def main() -> None:
    """
    Main execution function to generate the project skeleton.
    """
    print("--- Bedrock Protocol: Initiating Project Scaffolding ---")

    # Mandate of Proactive Defense: Check for existing directory to prevent
    # accidental data loss.
    root_path = Path(ROOT_DIR_NAME)
    if root_path.exists():
        print(f"Error: Directory '{ROOT_DIR_NAME}' already exists.")
        print("Scaffolding aborted to prevent overwriting existing work.")
        sys.exit(1)

    print(f"Creating root directory: {root_path}")
    root_path.mkdir()

    # Create all files and directories
    for file_path_str in PROJECT_STRUCTURE:
        # Mandate of Type Purity: Use pathlib for robust, OS-agnostic path handling.
        file_path = root_path / file_path_str

        # Ensure parent directories exist
        print(f"  - Ensuring path: {file_path.parent}")
        file_path.parent.mkdir(parents=True, exist_ok=True)

        # Create empty file
        print(f"    - Creating file: {file_path}")
        file_path.touch()

    # --- POPULATE SPECIAL FILES ---
    # Mandate of Zero Ambiguity: Write predefined content to essential files.

    print("\nPopulating special files with initial content...")

    # Write .gitignore
    gitignore_path = root_path / ".gitignore"
    gitignore_path.write_text(GITIGNORE_CONTENT.strip())
    print(f"  - Wrote content to {gitignore_path}")

    # Write README.md
    readme_path = root_path / "README.md"
    readme_path.write_text(README_CONTENT.strip())
    print(f"  - Wrote content to {readme_path}")

    # Write LICENSE
    license_path = root_path / "LICENSE"
    license_path.write_text(LICENSE_CONTENT.strip())
    print(f"  - Wrote content to {license_path}")

    # Fill __init__.py files to make packages importable
    for file_path_str in PROJECT_STRUCTURE:
        if file_path_str.endswith("__init__.py"):
            init_path = root_path / file_path_str
            # Mandate of Intentionality: Add a clear comment to __init__.py
            init_path.write_text("# Bedrock: This file makes the directory a Python package.\n")
            print(f"  - Populated package marker in {init_path}")

    print("\n--- Project Scaffolding Complete ---")
    print(f"The project structure for '{ROOT_DIR_NAME}' has been successfully created.")
    print("Each file is a testament to our commitment to absolute provenance.")


if __name__ == "__main__":
    # The script is invoked, beginning the process of creation.
    main()

# END OF FILE: create_project_structure.py

====================
文件: .\getAllCode.py
====================

import os


def merge_files_to_txt(folder_path, target_extensions, output_filename, excluded_folders=None):
    """
    将指定文件夹（包括子文件夹）下所有指定后缀文件的内容合并到一个 TXT 文件中。

    参数:
    folder_path (str): 要遍历的文件夹路径。
    target_extensions (list): 要查找的文件的后缀名列表（例如：['.txt', '.py', '.md']）。
    output_filename (str): 输出的 TXT 文件的名称。
    excluded_folders (list, optional): 要跳过的文件夹名称列表。默认为 None (不跳过任何文件夹)。
    """
    if excluded_folders is None:
        excluded_folders = []  # 如果没有提供，则初始化为空列表

    try:
        # 确保每个目标后缀都以 '.' 开头
        # 使用列表推导式更简洁地处理
        processed_extensions = [ext if ext.startswith('.') else '.' + ext for ext in target_extensions]

        # 获取输出文件的完整路径
        output_filepath = os.path.join(folder_path, output_filename)

        # 记录实际跳过的文件夹
        actual_excluded_dirs = []

        with open(output_filepath, 'w', encoding='utf-8') as outfile:
            # os.walk() 会遍历指定目录下的所有文件夹和文件
            # dirnames 是当前目录下的子目录列表
            for dirpath, dirnames, filenames in os.walk(folder_path):
                # ==========================================================
                # 关键修改：根据 excluded_folders 参数排除文件夹
                # 需要在这里创建一个 dirnames 的副本，因为直接修改 dirnames 列表会影响 os.walk 的遍历行为
                # 或者更直接的方式是修改 dirnames 自身，让 os.walk 不再进入这些目录
                # 我们直接从 dirnames 中移除，以跳过这些目录

                # 创建一个需要移除的目录列表，避免在遍历的同时修改列表
                dirs_to_remove = [d for d in dirnames if d in excluded_folders]
                for d in dirs_to_remove:
                    dirnames.remove(d)
                    actual_excluded_dirs.append(os.path.join(dirpath, d))  # 记录完整路径

                # ==========================================================

                for filename in filenames:
                    # 检查文件是否以任一目标后缀结尾
                    # 同时确保空后缀（无后缀文件）也能被正确处理
                    is_match = False
                    if '' in processed_extensions and '.' not in filename:  # 如果包含空后缀且文件无后缀
                        is_match = True
                    elif any(filename.endswith(ext) for ext in processed_extensions):  # 如果有匹配的后缀
                        is_match = True

                    if is_match:
                        filepath = os.path.join(dirpath, filename)

                        # 写入文件分隔符和文件名，方便区分不同文件的内容
                        outfile.write(f'{"=" * 20}\n')
                        outfile.write(f'文件: {filepath}\n')
                        outfile.write(f'{"=" * 20}\n\n')

                        try:
                            with open(filepath, 'r', encoding='utf-8') as infile:
                                outfile.write(infile.read())
                                outfile.write('\n\n')  # 在每个文件内容后添加空行，增加可读性
                        except Exception as e:
                            outfile.write(f'读取文件 {filepath} 时出错: {e}\n\n')

        print(f'成功！所有 {", ".join(processed_extensions)} 文件的内容已合并到 {output_filepath}')
        if actual_excluded_dirs:
            print(f'注意：已跳过以下文件夹及其内容:')
            for d in set(actual_excluded_dirs):  # 使用set去重，避免打印重复路径
                print(f'- {d}')
        else:
            print(f'没有指定或实际跳过任何文件夹。')

    except FileNotFoundError:
        print(f'错误：文件夹 "{folder_path}" 不存在。')
    except Exception as e:
        print(f'发生未知错误: {e}')


# --- 使用示例 ---
if __name__ == '__main__':
    # 1. 设置要遍历的文件夹路径
    source_folder = '.'  # '.' 表示当前脚本所在的文件夹

    # 2. 设置要查找的文件后缀名列表
    file_extensions = ['.md', '.py', 'sh', 'yaml', 'yml', 'txt']

    # 3. 设置输出的 TXT 文件名
    output_file = 'merged_multiple_contents_custom_exclude.txt'

    # 4. 设置要跳过的文件夹名称列表
    #    这里可以添加任何你不想遍历的文件夹名称
    folders_to_exclude = ['.venv', '__pycache__', 'node_modules', '.git']

    # 5. 调用函数
    merge_files_to_txt(source_folder, file_extensions, output_file, folders_to_exclude)

====================
文件: .\merged_multiple_contents_custom_exclude.txt
====================

====================
文件: .\.deepwiki.yml
====================

# FILE: .deepwiki.yml
# Deep-Wiki Configuration for Awesome-LLM-ZeroToScratch

# 项目名称，将显示在Deep-Wiki页面上
name: "Awesome LLM ZeroToScratch"

# 项目的简短描述
description: "An end-to-end, code-driven tutorial for pre-training and fine-tuning LLMs and VLMs, designed to be both nanny-level accessible and industrial-grade robust."

# 定义文档的根文件，通常是README
root: "README.md"

# 指定代码和文档的路径，帮助Deep-Wiki聚焦于最重要的部分
sources:
  - path: "src/"
    description: "Core source code for models, trainers, inference, and evaluation logic."
  - path: "docs/"
    description: "Detailed step-by-step tutorial documentation."
  - path: "configs/"
    description: "YAML configuration files for all experiments (data, models, training)."
  - path: "scripts/"
    description: "Shell scripts to launch training and inference jobs."

# 指定需要排除的路径，避免扫描不必要的文件
exclude:
  - "data/"
  - "checkpoints/"
  - "wandb/"
  - ".idea/"
  - ".vscode/"
  - "__pycache__/"
  - "*.egg-info/"
  - "/autodl-tmp/"

# (可选) 为项目添加标签，方便分类和搜索
tags:
  - "LLM"
  - "VLM"
  - "Pre-training"
  - "Fine-tuning"
  - "PyTorch"
  - "DeepSpeed"
  - "Tutorial"

====================
文件: .\create_project_structure.py
====================

# FILE: create_project_structure.py
"""
Bedrock Protocol v: Absolute Provenance Edition
Project: Awesome-LLM-ZeroToScratch
Task: Automated generation of the complete project directory and file skeleton.

This script is a self-contained utility to bootstrap the project structure.
It creates all necessary directories and placeholder files as defined in the
Bedrock Workflow, ensuring a clean, consistent, and reproducible starting point.

This script embodies the Mandate of Intentionality: its sole, deliberate
purpose is to construct the project's foundational scaffold.
"""

import os
import sys
from pathlib import Path
from typing import List

# --- CORE CONFIGURATION ---

# Mandate of Intentionality: The root directory name is explicitly defined.
ROOT_DIR_NAME: str = "Awesome-LLM-ZeroToScratch"

# Mandate of Structural Integrity: The entire project structure is defined
# declaratively. Each entry is a deliberate component of the grand design.
PROJECT_STRUCTURE: List[str] = [
    ".gitignore",
    "README.md",
    "LICENSE",  # Added LICENSE here to ensure it's created.
    "requirements.txt",
    "setup.sh",
    "configs/data/text_pretrain.yaml",
    "configs/data/vlm_pretrain.yaml",
    "configs/model/0.5B_dense.yaml",
    "configs/model/0.8B_moe.yaml",
    "configs/model/llama2-7b.yaml",
    "configs/training/pretrain_llm.yaml",
    "configs/training/finetune_sft.yaml",
    "configs/training/finetune_dpo.yaml",
    "data_processing/download_and_reproduce.py",
    "data_processing/process_text.py",
    "data_processing/process_vlm.py",
    "data_processing/build_tokenizer.py",
    "data_processing/__init__.py",
    "src/__init__.py",
    "src/models/__init__.py",
    "src/models/attention/__init__.py",
    "src/models/attention/standard_attention.py",
    "src/models/attention/flash_attention.py",
    "src/models/ffn.py",
    "src/models/moe.py",
    "src/models/language_model.py",
    "src/trainers/__init__.py",
    "src/trainers/pretrain_trainer.py",
    "src/trainers/sft_trainer.py",
    "src/trainers/dpo_trainer.py",
    "src/utils/__init__.py",
    "src/inference/__init__.py",  # Added for completeness in structure generation
    "src/inference/inference.py",  # Added for completeness in structure generation
    "src/evaluation/__init__.py",  # Added for completeness in structure generation
    "src/evaluation/evaluate_llm.py",  # Added for completeness in structure generation
    "scripts/run_pretrain.sh",
    "scripts/run_sft.sh",
    "scripts/run_dpo.sh",
    "scripts/run_inference.sh",  # Added for completeness in structure generation
    "scripts/run_evaluation.sh",  # Added for completeness in structure generation
    "docs/01_environment_setup.md",
    "docs/02_data_pipeline.md",
    "docs/03_track_a_pretraining.md",
    "docs/04_track_b_finetuning.md",
    "docs/05_deployment_and_evaluation.md",
]

# Mandate of Zero Ambiguity: Content for critical files is defined explicitly,
# leaving no room for misinterpretation.
GITIGNORE_CONTENT: str = """
# Byte-compiled / optimized / DLL files
__pycache__/
*.py[cod]
*$py.class

# C extensions
*.so

# Distribution / packaging
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
pip-wheel-metadata/
share/python-wheels/
*.egg-info/
.installed.cfg
*.egg
MANIFEST

# PyInstaller
#  Usually these files are written by a python script from a template
#  before PyInstaller builds the exe, so as to inject date/other infos into it.
*.manifest
*.spec

# Installer logs
pip-log.txt
pip-delete-this-directory.txt

# Unit test / coverage reports
htmlcov/
.tox/
.nox/
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
*.py,cover
.hypothesis/
.pytest_cache/

# Environments
.env
.venv
env/
venv/
ENV/
env.bak/
venv.bak/

# IDEs
.idea/
.vscode/
*.swp
*.sublime-workspace
*.sublime-project

# AutoDL / Cloud specific
.autodl/
/autodl-tmp/
/autodl-fs/

# Jupyter Notebook
.ipynb_checkpoints

# Data files
# Raw, processed, or tokenized data should not be in git.
# Use download scripts and mount network storage instead.
*.bin
*.pt
*.arrow
*.parquet
/data/
/datasets/
/wudao_200g/
*.jsonl

# Trained models & logs
# Checkpoints, models, and logs are artifacts, not source code.
/models/
/checkpoints/
/runs/
/logs/

# W&B local artifacts
/wandb/

# Tokenizer files
*.model
*.vocab
"""

README_CONTENT: str = """
# Awesome-LLM-ZeroToScratch

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

An end-to-end, code-driven tutorial for pre-training and fine-tuning
Large Language Models (LLMs) and Vision Language Models (VLMs).

This repository is built following the **Bedrock Protocol v: Absolute Provenance Edition**,
ensuring theoretical and practical robustness, clarity, and reproducibility.

## Core Philosophy

This project is designed with a dual-purpose philosophy:

*   **保姆级 (Nanny-Level):** Providing meticulously detailed, step-by-step guidance with ready-to-run code and commands, specifically tailored for platforms like AutoDL. It's designed for users who have a theoretical understanding but lack hands-on experience with large-scale model training.
*   **工业级 (Industrial-Grade):** The codebase is highly modular, configuration-driven (using YAML), and built for scalability. It clearly demonstrates the key architectural and strategic adjustments needed to scale from a small 0.5B parameter model to a 70B+ giant (e.g., parallelism strategies, memory optimization).

## Project Structure

The repository is organized into a clear, modular structure:
Use code with caution.
Python
/Awesome-LLM-ZeroToScratch
|-- README.md
|-- LICENSE
|-- requirements.txt
|-- setup.sh
|-- configs/ # YAML configs for data, models, and training
|-- data_processing/ # Scripts for data download, processing, tokenization
|-- docs/ # Detailed markdown tutorials
|-- scripts/ # Shell scripts to launch training jobs
`-- src/ # Core, modular source code for models and trainers
Generated code
## Getting Started

To begin your journey, please start with the first document which details the complete environment setup process on the AutoDL platform.

**➡️ Start here: [docs/01_environment_setup.md](./docs/01_environment_setup.md)**

## License

This project is licensed under the MIT License. See the [LICENSE](./LICENSE) file for details.
"""

LICENSE_CONTENT: str = """
MIT License

Copyright (c) 2025 Bedrock

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
"""


def main() -> None:
    """
    Main execution function to generate the project skeleton.
    """
    print("--- Bedrock Protocol: Initiating Project Scaffolding ---")

    # Mandate of Proactive Defense: Check for existing directory to prevent
    # accidental data loss.
    root_path = Path(ROOT_DIR_NAME)
    if root_path.exists():
        print(f"Error: Directory '{ROOT_DIR_NAME}' already exists.")
        print("Scaffolding aborted to prevent overwriting existing work.")
        sys.exit(1)

    print(f"Creating root directory: {root_path}")
    root_path.mkdir()

    # Create all files and directories
    for file_path_str in PROJECT_STRUCTURE:
        # Mandate of Type Purity: Use pathlib for robust, OS-agnostic path handling.
        file_path = root_path / file_path_str

        # Ensure parent directories exist
        print(f"  - Ensuring path: {file_path.parent}")
        file_path.parent.mkdir(parents=True, exist_ok=True)

        # Create empty file
        print(f"    - Creating file: {file_path}")
        file_path.touch()

    # --- POPULATE SPECIAL FILES ---
    # Mandate of Zero Ambiguity: Write predefined content to essential files.

    print("\nPopulating special files with initial content...")

    # Write .gitignore
    gitignore_path = root_path / ".gitignore"
    gitignore_path.write_text(GITIGNORE_CONTENT.strip())
    print(f"  - Wrote content to {gitignore_path}")

    # Write README.md
    readme_path = root_path / "README.md"
    readme_path.write_text(README_CONTENT.strip())
    print(f"  - Wrote content to {readme_path}")

    # Write LICENSE
    license_path = root_path / "LICENSE"
    license_path.write_text(LICENSE_CONTENT.strip())
    print(f"  - Wrote content to {license_path}")

    # Fill __init__.py files to make packages importable
    for file_path_str in PROJECT_STRUCTURE:
        if file_path_str.endswith("__init__.py"):
            init_path = root_path / file_path_str
            # Mandate of Intentionality: Add a clear comment to __init__.py
            init_path.write_text("# Bedrock: This file makes the directory a Python package.\n")
            print(f"  - Populated package marker in {init_path}")

    print("\n--- Project Scaffolding Complete ---")
    print(f"The project structure for '{ROOT_DIR_NAME}' has been successfully created.")
    print("Each file is a testament to our commitment to absolute provenance.")


if __name__ == "__main__":
    # The script is invoked, beginning the process of creation.
    main()

# END OF FILE: create_project_structure.py

====================
文件: .\README.md
====================

# Awesome-LLM-ZeroToScratch

[](https://opensource.org/licenses/MIT)
[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/SingularGuyLeBorn/Awesome-LLM-ZeroToScratch)

一个端到端、代码驱动的教程，用于从零开始预训练和微调大语言模型（LLMs）和视觉语言模型（VLMs）。

本仓库遵循 **Bedrock Protocol v: Absolute Provenance Edition** 构建，确保了理论与实践的鲁棒性、清晰度和可复现性。

## 核心理念

本项目采用双重理念设计，旨在同时满足不同用户的需求：

  * **保姆级 (Nanny-Level):** 提供极其详尽的、手把手的指南，包含可以直接运行的代码和命令，特别针对 AutoDL 等云平台进行了优化。它为具备理论知识但缺乏大规模模型训练实践经验的用户量身打造。
  * **工业级 (Industrial-Grade):** 代码库高度模块化、配置驱动（使用YAML），并为可扩展性而构建。它清晰地展示了将模型从0.5B参数扩展到70B+巨型模型所需的关键架构和策略调整（例如，并行策略、内存优化）。

## 主要特性

  * **端到端完整流程:** 覆盖从数据处理、分词器训练，到模型预训练、微调、推理和评估的全过程。
  * **双技术路线:**
      * **从零预训练 (Track A):** 学习如何构建并预训练一个自定义的Transformer模型，支持密集型（Dense）和专家混合（MoE）架构。
      * **高效微调 (Track B):** 学习如何使用LoRA技术对现有开源模型（如Llama, TinyLlama）进行有监督微调（SFT）和直接偏好优化（DPO）。
  * **模块化与可配置:** 所有实验均由YAML文件驱动，可以轻松切换模型架构、数据集和训练策略。
  * **先进技术集成:**
      * **分布式训练:** 通过 `Hugging Face Accelerate` 无缝支持 `DeepSpeed` (ZeRO-2, ZeRO-3) 和 `FSDP`。
      * **高效训练与推理:** 集成 `FlashAttention`、`bitsandbytes` 4位量化 和 `torch.compile` 等最新优化技术。
      * **实验追踪:** 内置 `Weights & Biases` 集成，方便监控训练过程。
  * **详尽的文档:** 提供保姆级的系列教程文档，解释每一步背后的原理和操作细节。

## 项目结构 (完整版)

仓库被组织成一个清晰、模块化的结构，以下是**完整、准确**的文件和目录说明：

```
/Awesome-LLM-ZeroToScratch
|-- .gitignore                  # 定义了Git应忽略的文件和目录
|-- README.md                   # 您正在阅读的文件
|-- LICENSE                     # MIT 许可证
|-- requirements.txt            # Python依赖清单，确保环境可复现
|-- setup.sh                    # 一键式环境安装脚本，专为稳定高效构建而设计
|-- create_project_structure.py # 用于自动生成项目骨架的脚本
|
|-- configs/                    # 所有YAML配置文件
|   |-- data/
|   |   |-- text_pretrain.yaml  # 文本预训练的数据处理配置
|   |   `-- vlm_pretrain.yaml   # VLM预训练的数据处理配置
|   |-- deepspeed/
|   |   |-- zero_stage2_config.json # DeepSpeed ZeRO Stage 2 配置文件
|   |   `-- zero_stage3_config.json # DeepSpeed ZeRO Stage 3 配置文件
|   |-- model/
|   |   |-- 0.5B_dense.yaml     # 0.5B参数密集型模型架构配置
|   |   |-- 0.8B_moe.yaml       # 0.8B参数专家混合(MoE)模型架构配置
|   |   `-- llama2-7b.yaml      # Llama-2 7B 模型的配置模板
|   `-- training/
|       |-- pretrain_llm.yaml   # 从零预训练的训练流程配置
|       |-- finetune_sft.yaml   # SFT微调的训练流程配置
|       `-- finetune_dpo.yaml   # DPO微调的训练流程配置
|
|-- data_processing/            # 数据下载、处理、分词器训练脚本
|   |-- __init__.py             # 使该目录成为一个Python包
|   |-- download_and_reproduce.py # 数据处理主入口，自动化下载、清洗和保存
|   |-- process_text.py       # 文本数据清洗逻辑
|   |-- process_vlm.py        # VLM(图文)数据处理逻辑
|   `-- build_tokenizer.py    # SentencePiece分词器训练脚本
|
|-- docs/                       # 详细的Markdown教程文档
|   |-- 01_environment_setup.md # Part 1: 环境搭建指南
|   |-- 02_data_pipeline.md     # Part 2: 数据流水线指南
|   |-- 03_track_a_pretraining.md # Part 3A: 从零预训练路线
|   |-- 04_track_b_finetuning.md  # Part 3B: 微调路线
|   |-- 05_deployment_and_evaluation.md # Part 4: 部署与评估
|   `-- SET_UP_GUIDE.md         # (补充)环境搭建指南的另一版本
|
|-- scripts/                    # 用于一键启动各项任务的Shell脚本
|   |-- run_pretrain.sh         # 启动预训练
|   |-- run_sft.sh              # 启动SFT微调
|   |-- run_dpo.sh              # 启动DPO微调
|   |-- run_inference.sh        # 启动命令行推理
|   `-- run_evaluation.sh       # (概念性)启动模型评估
|
`-- src/                        # 核心模块化源代码
    |-- __init__.py             # 暴露顶层组件
    |-- models/                 # 模型定义
    |   |-- __init__.py         # 暴露模型核心组件
    |   |-- attention/          # 注意力机制实现
    |   |   |-- __init__.py
    |   |   |-- standard_attention.py # 标准多头注意力
    |   |   `-- flash_attention.py    # FlashAttention的封装
    |   |-- ffn.py              # 前馈网络(FFN)实现，支持SwiGLU
    |   |-- moe.py              # 专家混合(MoE)层实现
    |   `-- language_model.py   # 核心模型构建器，组装所有模块
    |-- trainers/               # 训练器
    |   |-- __init__.py         # 暴露训练器函数
    |   |-- pretrain_trainer.py # 从零预训练的训练循环
    |   |-- sft_trainer.py      # SFT微调训练器(使用TRL)
    |   `-- dpo_trainer.py      # DPO微调训练器(使用TRL)
    |-- inference/              # 推理逻辑
    |   |-- init.py             # (注意: 文件名为init.py)
    |   `-- inference.py        # 命令行交互式推理脚本
    |-- evaluation/             # 评估逻辑
    |   |-- init.py             # (注意: 文件名为init.py)
    |   `-- evaluate_llm.py     # (概念性)模型评估脚本
    `-- utils/                  # 工具函数
        `-- __init__.py
```

## 快速开始

### 1\. 环境搭建

我们提供了一个一键安装脚本，可以自动处理所有依赖，包括 `PyTorch`, `DeepSpeed` 和 `flash-attn` 等。

详细的环境配置指南，请**务必首先阅读**：
**➡️ [docs/01\_environment\_setup.md](https://www.google.com/search?q=./docs/01_environment_setup.md)**

简要步骤如下：

```bash
# 推荐创建一个独立的 Conda 环境
conda create -n awesome-llm-env python=3.10 -y
conda activate awesome-llm-env

# 进入项目根目录
cd /path/to/Awesome-LLM-ZeroToScratch

# 运行一键安装脚本
bash setup.sh
```

### 2\. 数据准备

在开始训练之前，您需要准备数据集和分词器。

详细的数据流水线说明，请参考：
**➡️ [docs/02\_data\_pipeline.md](https://www.google.com/search?q=./docs/02_data_pipeline.md)**

运行以下命令来自动完成文本数据的处理和分词器训练：

```bash
# 执行文本数据流水线 (下载、清洗、保存处理后数据)
python data_processing/download_and_reproduce.py text

# 训练分词器 (参数来自configs/data/text_pretrain.yaml)
python data_processing/build_tokenizer.py \
    --output_path_prefix ./data/tokenizers/wikitext_spm \
    --corpus_path ./data/processed/wikitext/corpus.txt \
    --vocab_size 8000 \
    --model_type unigram
```

## 使用指南

### Track A: 从零预训练

此路线将引导您训练一个全新的语言模型。

详细的预训练指南，请参考：
**➡️ [docs/03\_track\_a\_pretraining.md](https://www.google.com/search?q=./docs/03_track_a_pretraining.md)**

1.  **配置:**
      * 打开 `configs/training/pretrain_llm.yaml`。
      * 通过修改 `model_config_path` 来选择模型架构，例如 `"configs/model/0.5B_dense.yaml"` 或 `"configs/model/0.8B_moe.yaml"`。
      * 确保 `dataset_dir` 指向您处理好的数据目录。
2.  **启动训练:**
    ```bash
    bash scripts/run_pretrain.sh
    ```

### Track B: 微调开源模型

此路线将教您如何高效地微调现有的强大开源模型。

详细的微调指南，请参考：
**➡️ [docs/04\_track\_b\_finetuning.md](https://www.google.com/search?q=./docs/04_track_b_finetuning.md)**

#### 1\. 有监督微调 (SFT)

1.  **配置:**
      * 打开 `configs/training/finetune_sft.yaml`。
      * 确认 `model_name_or_path` 指向您想微调的基础模型（例如 `"TinyLlama/TinyLlama-1.1B-Chat-v1.0"`）。
      * 确认 `dataset_name` 指向SFT数据集。
2.  **启动训练:**
    ```bash
    bash scripts/run_sft.sh
    ```

#### 2\. 直接偏好优化 (DPO)

DPO在SFT模型的基础上进行，以更好地对齐人类偏好。

1.  **配置:**
      * 打开 `configs/training/finetune_dpo.yaml`。
      * **至关重要:** 确保 `model_name_or_path` 指向上一步SFT训练产出的**适配器(adapter)目录**（例如 `"./checkpoints/sft-tinyllama-guanaco/final_model"`）。
2.  **启动训练:**
    ```bash
    bash scripts/run_dpo.sh
    ```

### 模型推理

使用我们提供的命令行界面（CLI）与您训练好的模型进行交互。

详细的部署与推理指南，请参考：
**➡️ [docs/05\_deployment\_and\_evaluation.md](https://www.google.com/search?q=./docs/05_deployment_and_evaluation.md)**

```bash
# 运行推理，将 <path_to_your_model_or_adapter> 替换为您的模型路径
bash scripts/run_inference.sh <path_to_your_model_or_adapter>
```

例如，要与SFT微调后的模型交互：

```bash
bash scripts/run_inference.sh ./checkpoints/sft-tinyllama-guanaco/final_model
```

### 模型评估

我们提供了一个概念性的脚本来演示如何使用 `lm-evaluation-harness` 等工具进行评估。

```bash
# 运行评估脚本
bash scripts/run_evaluation.sh <path_to_your_model_or_adapter>
```

## 许可证

本项目采用 MIT 许可证。详情请见 `LICENSE` 文件。

====================
文件: .\requirements-cpu.txt
====================

# FILE: requirements-cpu.txt
# 终极版：一个自给自足、版本精确锁定的本地CPU测试依赖文件。

# --- 指定额外的包索引地址 ---
# 告诉uv/pip，要去PyTorch的CPU官方地址寻找包
--extra-index-url https://download.pytorch.org/whl/cpu

# --- 核心深度学习框架 (CPU版本) ---
torch==2.3.0
torchvision==0.18.0
numpy<2.0

# --- Hugging Face 生态系统 (核心) ---
transformers==4.41.2
datasets==2.19.0
accelerate==0.30.1
tokenizers==0.19.1
# [新增] TRL (Transformer Reinforcement Learning) 是SFT和DPO训练器必需的核心库
trl==0.8.6
# [新增] PEFT for parameter-efficient fine-tuning techniques like LoRA.
peft==0.10.0
# [新增] Quantization library, also needed for some trainer functionalities.
bitsandbytes==0.43.1

# --- 数据处理与工具库 ---
sentencepiece==0.2.0
pyyaml==6.0.1
Pillow==10.4.0
tqdm==4.66.4
wandb==0.17.0

# --- 代码质量工具 ---
ruff==0.4.4

====================
文件: .\requirements.txt
====================

# FILE: requirements.txt
# 修正与完善版：确保在GPU服务器上所有功能都能正常运行。

# --- 核心深度学习框架 ---
# Pinned to a specific CUDA-compatible version.
torch==2.3.0
torchvision==0.18.0 # [新增] 与torch版本匹配

# --- Hugging Face 生态系统 ---
# The backbone for models, datasets, and training acceleration.
transformers==4.41.2
datasets==2.19.0
accelerate==0.30.1
tokenizers==0.19.1
# [新增] TRL (Transformer Reinforcement Learning) 是SFT和DPO训练器必需的核心库
trl==0.8.6

# --- 分布式训练与优化 ---
# DeepSpeed for robust large-scale training.
deepspeed==0.14.2
# PEFT for parameter-efficient fine-tuning techniques like LoRA.
peft==0.10.0
# For memory-efficient attention.
# NOTE: This is installed separately and robustly via setup.sh.
# flash-attn==2.5.8
# Quantization library for running models with less memory.
bitsandbytes==0.43.1

# --- 实验追踪 ---
# For logging metrics, configurations, and artifacts.
wandb==0.17.0

# --- 数据处理与工具库 ---
# For training custom tokenizers.
sentencepiece==0.2.0
# For language detection during data cleaning.
fasttext-langdetect==1.0.5
# For parsing YAML configuration files.
pyyaml==6.0.1
Pillow==10.4.0 # [新增] 图像处理库，VLM数据处理时需要
tqdm==4.66.4 # [新增] 用于显示进度条

# --- 代码质量与格式化 ---
# Used for linting and maintaining code style.
ruff==0.4.4

# --- 推理与服务 ---
# High-performance web framework for serving models.
fastapi==0.111.0
# ASGI server for FastAPI.
uvicorn==0.29.0
# For creating a command-line interface.
jsonargparse==4.27.2

# --- Testing ---
# Industry-standard testing framework.
pytest==8.2.2

====================
文件: .\setup.sh
====================

#!/bin/bash

# ==============================================================================
# Bedrock Protocol: One-Click Environment Setup Script
# ==============================================================================
# This script provides a deterministic, robust, and fast setup for the project
# environment. It embodies the "保姆级" (nanny-level) philosophy by handling
# potential issues like network instability and missing tools.
#
# The script will exit immediately if any command fails.
set -e

echo "--- [Bedrock] Starting Environment Setup ---"

# --- Helper Function to Ensure Command Exists ---
# Before we use any tool, we make sure it's installed.
ensure_command() {
    if ! command -v "$1" &> /dev/null; then
        echo "--- Command '$1' not found. Attempting to install..."
        # 修正：根据不同的命令，安装包名可能不同
        if [ "$1" == "pip" ]; then
            apt-get update -y && apt-get install -y python3-pip
        elif [ "$1" == "uv" ]; then
            # uv 会在后面通过 pip 安装，这里不直接 apt-get
            echo "--- 'uv' will be installed via pip in the next step."
        elif [ "$1" == "aria2c" ]; then
            apt-get update -y && apt-get install -y aria2
        else
            apt-get update -y && apt-get install -y "$2" # 尝试使用提供的第二个参数作为包名
        fi
        echo "--- '$1' installed successfully."
    else
        echo "--- Command '$1' is already installed."
    fi
}


# --- Step 1: Verify and Install Essential Tools ---
echo "[1/5] Verifying essential tools (pip, aria2c)..."
ensure_command pip python3-pip # 确保 pip 已安装
ensure_command aria2c aria2 # 确保 aria2c 已安装

# --- Step 2: Install/Upgrade uv using pip ---
# We use pip for the initial install of uv, our high-speed package manager.
# A mirror is configured first to speed up this step itself.
echo "[2/5] Installing/Upgrading uv..."
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
pip install -U uv
echo "--- uv installed/updated successfully."


# --- Step 3: Install All Dependencies EXCEPT Flash Attention ---
# We install everything else first. flash-attn is handled separately
# due to its large size and potential for network-related download failures.
echo "[3/5] Installing all packages from requirements.txt (except flash-attn)..."
# Define mirror arguments for uv. This is crucial for speed.
# NOTE: Ensure 'cu121' matches your target environment's CUDA version.
UV_MIRROR_ARGS="--extra-index-url https://pypi.tuna.tsinghua.edu.cn/simple --extra-index-url https://download.pytorch.org/whl/cu121"

# 我们使用 uv 从 requirements.txt 安装，比 pip 快得多。
# 我们明确排除 flash-attn，在下一步单独处理。
# 修正：增加 --index-strategy unsafe-best-match 参数
uv pip install -r requirements.txt $UV_MIRROR_ARGS --index-strategy unsafe-best-match
echo "--- Core dependencies installed successfully."


# --- Step 4: Robustly Download Flash Attention ---
# This is the most critical step. We download the large pre-compiled wheel
# file using a robust downloader BEFORE trying to install it. This is the
# key to overcoming network timeouts.
echo "[4/5] Robustly downloading Flash Attention wheel..."
# This URL is for torch 2.3.0 and CUDA 12.1/12.2/12.4. CHANGE IF YOUR ENV IS DIFFERENT.
# 修正：确保 URL 匹配 PyTorch 2.3.0 + CUDA 12.1
FLASH_ATTN_WHEEL_URL="https://github.com/Dao-AILab/flash-attention/releases/download/v2.5.8/flash_attn-2.5.8+cu121torch2.3cxx11abiTRUE-cp310-cp310-linux_x86_64.whl"
FLASH_ATTN_WHEEL_FILE=$(basename "$FLASH_ATTN_WHEEL_URL")

# Use aria2c for fast, multi-connection download.
# The -c flag allows resuming if the download is interrupted.
aria2c -c -x 16 -s 16 -o "$FLASH_ATTN_WHEEL_FILE" "$FLASH_ATTN_WHEEL_URL"
echo "--- Flash Attention wheel downloaded successfully."


# --- Step 5: Install Flash Attention From Local File ---
# Now that the file is local, installation is instant and immune to network issues.
echo "[5/5] Installing Flash Attention from local wheel file..."
uv pip install "$FLASH_ATTN_WHEEL_FILE"
echo "--- Flash Attention installed successfully."


# --- Finalization ---
echo ""
echo "================================================="
echo "✅ [Bedrock] Environment Setup Complete!"
echo "All packages, including the tricky ones, are now installed."
echo "You are ready to proceed with your project."
echo "================================================="

# END OF FILE

====================
文件: .\configs\data\text_pretrain.yaml
====================

# FILE: configs/data/text_pretrain.yaml

# Bedrock 协议：文本预训练数据管道的集中配置文件。
# 所有与数据相关的路径和超参数都写在这里，体现“工业级”配置即代码的理念。
# 本文件只关心“数据从哪里来、要存到哪里、怎么加工”，与模型结构无关。

# ── 数据集指定 ───────────────────────────────
# Hugging Face 上的数据集 ID（含版本号，确保可复现）。
dataset_name: wikitext
dataset_config_name: wikitext-2-raw-v1

# ── 输出与缓存目录 ──────────────────────────
# 生产环境请用绝对路径，这里用相对路径只是方便在不同机器上开箱即用。
# 若跑在 AutoDL 等云实例，建议把 base_output_dir 指向 /root/autodl-tmp 这类网络挂载盘。
base_output_dir: ./data

# 原始数据下载后落盘的位置。
raw_data_dir: ${base_output_dir}/raw/wikitext-2-raw-v1

# 清洗/去重/过滤后的正式数据集存放目录。
processed_data_dir: ${base_output_dir}/processed/wikitext-2-raw-v1

# 训练好的 SentencePiece 分词器保存路径。
tokenizer_output_path: ${base_output_dir}/tokenizers/wikitext_spm

# ── 数据处理细节 ───────────────────────────
# Hugging Face 数据集中真正包含文本的列名。
text_column: text

# ── 分词器训练超参数 ────────────────────────
# 训练分词器时所用“纯文本大文件”的路径（由 processed_data_dir 生成）。
tokenizer_training_corpus: ${processed_data_dir}/corpus.txt
vocab_size: 8000            # 演示用小词表，真正大模型常用 32k/50k/100k。
model_type: unigram         # SentencePiece 官方推荐，兼顾压缩率与解码速度。
character_coverage: 1.0     # 英文场景 1.0 即可；多语言场景通常设 0.9995。

# ── 调试/快速验证专用 ──────────────────────
# 如果 >0，则只加载数据集的前 N 条样本，方便冒烟测试；设为 0 就全量加载。
dataset_subset_size: 1000

# END OF FILE: configs/data/text_pretrain.yaml

====================
文件: .\configs\data\vlm_pretrain.yaml
====================

# FILE: configs/data/vlm_pretrain.yaml
# Bedrock Protocol: Configuration for the VLM pre-training data pipeline.

# --- Dataset Specification ---
# 更换为完全公开且易于加载的 COCO 验证集子集
dataset_name: "lmms-lab/COCO-Caption2017" # 更换为 lmms-lab/COCO-Caption2017
# 使用一个较小的样本数进行演示，以确保快速运行
num_samples_to_process: 3 # 增加到500个样本，更具代表性

# --- Output & Cache Directories ---
base_output_dir: ./data

# Subdirectory for the raw downloaded dataset.
raw_data_dir: ${base_output_dir}/raw/coco_val_demo # 更改目录名以匹配新数据集

# Subdirectory for the processed and cleaned dataset.
processed_data_dir: ${base_output_dir}/processed/coco_val_demo # 更改目录名

# --- Data Processing Parameters ---
# 根据 nielsr/coco-2017-val 数据集调整列名
image_column: image
text_column: caption # 该数据集的文本列名为 'caption'

# --- Conceptual Data Distillation ---
distillation:
  enabled: false # 默认为关闭，防止产生 API 费用
  max_prompts: 5
  prompt_template: "Provide a detailed, high-quality caption for this image."

# --- VLM 数据增强配置 (概念性) ---
augmentation:
  enabled: false # 设置为 true 以启用概念性增强
  # 例如，你可以添加更多参数来控制未来实际增强的类型和强度
  # image_transforms: ["random_crop", "color_jitter"]
  # text_transforms: ["back_translation"]

# END OF FILE : configs/data/vlm_pretrain.yaml

====================
文件: .\configs\model\0.5B_dense.yaml
====================

# FILE: configs/model/0.5B_dense.yaml
# Bedrock Protocol: Configuration for a 0.5 Billion (approx) Dense LLM.
# This defines the architectural hyperparameters for from-scratch pre-training.

model_type: "DenseLLM" # Custom identifier for our internal model builder

# --- Core Transformer Architecture Parameters ---
# Calculated to achieve ~0.5B parameters.
vocab_size: 32000          # Vocabulary size. Should match your tokenizer.
hidden_size: 1024          # Dimensionality of the embeddings and Transformer blocks (d_model).
intermediate_size: 4096    # Dimensionality of the feed-forward layer (d_ffn). Typically 4 * hidden_size.
num_hidden_layers: 4      # Number of Transformer blocks (L).
num_attention_heads: 16    # Number of attention heads (h). hidden_size must be divisible by num_attention_heads.
num_key_value_heads: 16    # For Multi-Head Attention (MHA), this is equal to num_attention_heads.
                             # For Grouped-Query Attention (GQA), it's a smaller number.
hidden_act: "silu"         # Activation function for the FFN (e.g., "gelu", "relu", "silu", "swiglu").
max_position_embeddings: 2048 # Maximum sequence length the model can handle.

# --- Attention Specifics ---
# Determines which attention implementation to use.
# "standard" uses PyTorch native Scaled Dot-Product Attention (SDPA) or custom.
# "flash" uses FlashAttention (if available and compatible).
attention_type: "standard" # or "flash"

# --- Tokenizer Configuration (for model loading context) ---
# This links to the tokenizer used for pre-training.
tokenizer_path: "./data/tokenizers/wikitext_spm" # Path to the trained SentencePiece tokenizer.

# --- VLM Specifics (if used with a vision encoder) ---
# For pure LLM pre-training, these are not used.
# vision_encoder_model_name_or_path: "openai/clip-vit-large-patch14"
# vision_projector_hidden_size: 2048 # MLP hidden size for mapping vision features to text embedding space.
# vision_projector_num_layers: 2     # Number of MLP layers for the vision projector.

# END OF FILE: configs/model/0.5B_dense.yaml

====================
文件: .\configs\model\0.8B_moe.yaml
====================

# FILE: configs/model/0.8B_moe.yaml
# Bedrock Protocol: Configuration for a 0.8 Billion (approx) Mixture-of-Experts (MoE) LLM.
# This defines the architectural hyperparameters, showcasing MoE integration.

model_type: "MoELLM" # Custom identifier for our internal MoE model builder

# --- Core Transformer Architecture Parameters (Base for MoE) ---
vocab_size: 32000
hidden_size: 1024
# For MoE, intermediate_size defines the size of each *expert's* FFN.
intermediate_size: 4096
num_hidden_layers: 4
num_attention_heads: 16
num_key_value_heads: 16
hidden_act: "silu"
max_position_embeddings: 2048

# --- Attention Specifics ---
attention_type: "standard" # or "flash"

# --- MoE Specific Parameters ---
num_experts: 8             # Total number of experts in each MoE layer.
num_experts_per_tok: 2     # Number of experts to activate per token. (k)
router_aux_loss_coef: 0.001 # Coefficient for the router auxiliary loss (load balancing).

# --- Tokenizer Configuration (for model loading context) ---
tokenizer_path: "./data/tokenizers/wikitext_spm"

# END OF FILE: configs/model/0.8B_moe.yaml

====================
文件: .\configs\model\llama2-7b.yaml
====================

# FILE: configs/model/llama2-7b.yaml
# Bedrock Protocol: Model configuration template for a LLaMA-class model.
# While we load most configurations directly from the Hugging Face hub,
# this file serves as a template for specifying overrides or custom parameters.

model_name_or_path: "meta-llama/Llama-2-7b-hf" # Placeholder, will be overridden by training config
model_type: "LlamaForCausalLM"

# --- Key Architectural Parameters ---
# These are typically defined by the pre-trained model and not changed during fine-tuning.
vocab_size: 32000
hidden_size: 4096
intermediate_size: 11008
num_hidden_layers: 32
num_attention_heads: 32
num_key_value_heads: 32
hidden_act: "silu"
max_position_embeddings: 4096 # Can be extended via RoPE scaling, etc.
rope_theta: 10000.0
tie_word_embeddings: false

# --- Quantization Configuration ---
# Example for loading with bitsandbytes for lower memory usage.
quantization_config:
  load_in_4bit: true
  bnb_4bit_quant_type: "nf4"
  bnb_4bit_compute_dtype: "bfloat16" # torch.bfloat16
  bnb_4bit_use_double_quant: true

# --- Attention Implementation ---
# Use 'flash_attention_2' for significant speedup and memory savings on compatible hardware.
attn_implementation: "flash_attention_2" # or "eager" or "sdpa"

# END OF FILE: configs/model/llama2-7b.yaml

====================
文件: .\configs\training\finetune_dpo.yaml
====================

# FILE: configs/training/finetune_dpo.yaml
# Bedrock Protocol: Configuration for Direct Preference Optimization (DPO).

# --- Model & Tokenizer ---
# DPO starts from a supervised fine-tuned (SFT) model.
# This should be the path to the SFT model you trained in the previous step.
model_name_or_path: "./checkpoints/sft-tinyllama-guanaco/final_model" # Points to the saved adapter
use_fast_tokenizer: true

# --- Dataset ---
# DPO requires a preference dataset with 'prompt', 'chosen', and 'rejected' columns.
# We use a standard dataset for this demonstration.
dataset_name: "trl-internal-testing/hh-rlhf-trl-style"
# We only use a small subset for a quick run.
dataset_subset_size: 1000

# --- DPO Specific Parameters ---
# Beta is the temperature parameter for the DPO loss. A value of 0.1 is a good starting point.
beta: 0.1

# --- Training Arguments ---
# Many arguments are similar to SFT, but batch sizes are often smaller.
output_dir: "./checkpoints/dpo-tinyllama-guanaco"
num_train_epochs: 1
per_device_train_batch_size: 1
per_device_eval_batch_size: 1
gradient_accumulation_steps: 4
optim: "paged_adamw_8bit"
learning_rate: 5e-5
weight_decay: 0.001 # Aligned with pretrain for consistency.
fp16: false
bf16: true
max_grad_norm: 1.0 # Aligned with pretrain for consistency.
logging_steps: 10
max_length: 1024
max_prompt_length: 512
max_target_length: 512
warmup_ratio: 0.1
lr_scheduler_type: "linear"

# --- PEFT is still used for DPO ---
lora_r: 16
lora_alpha: 32
lora_dropout: 0.05
lora_target_modules:
  - "q_proj"
  - "k_proj"
  - "v_proj"
  - "o_proj"

# --- Experiment Tracking ---
report_to: "wandb"
run_name: "dpo-tinyllama-guanaco-demo"

# END OF FILE: configs/training/finetune_dpo.yaml

====================
文件: .\configs\training\finetune_sft.yaml
====================

# FILE: configs/training/finetune_sft.yaml
# Bedrock Protocol: Configuration for Supervised Fine-Tuning (SFT) using LoRA.

# --- Model & Tokenizer ---
# We use a smaller, community-fine-tuned model for this demo to ensure it runs quickly on a single GPU.
# For a more powerful base, consider "meta-llama/Llama-3-8B-Instruct".
model_name_or_path: "TinyLlama/TinyLlama-1.1B-Chat-v1.0"
use_fast_tokenizer: true

# --- Dataset ---
# A small, high-quality dataset formatted for instruction tuning.
dataset_name: "mlabonne/guanaco-llama2-1k"
dataset_text_field: "text" # The column in the dataset that contains the conversation text.
max_seq_length: 512 # Max sequence length to train on.

# --- PEFT / LoRA Configuration ---
# Configuration for Parameter-Efficient Fine-Tuning (PEFT) with LoRA.
lora_r: 16                     # LoRA rank. A higher rank means more parameters are trained. 16 is a good starting point.
lora_alpha: 32                 # LoRA alpha, a scaling factor. Typically 2 * lora_r.
lora_dropout: 0.05             # Dropout probability for LoRA layers.
# Target modules to apply LoRA to. For Llama-like models, these are the query, key, value, and output projection layers.
# You can inspect a model's named modules to find these (e.g., model.named_modules()).
lora_target_modules:
  - "q_proj"
  - "k_proj"
  - "v_proj"
  - "o_proj"

# --- Training Arguments ---
# Corresponds to Hugging Face `TrainingArguments`.
output_dir: "./checkpoints/sft-tinyllama-guanaco"
num_train_epochs: 1
per_device_train_batch_size: 2
gradient_accumulation_steps: 4
optim: "paged_adamw_8bit"      # Memory-efficient optimizer.
save_steps: 100
logging_steps: 10
learning_rate: 2e-4
weight_decay: 0.001
fp16: false
bf16: true                     # Use bfloat16 for mixed-precision training. Requires Ampere or newer GPU.
max_grad_norm: 1.0             # Aligned with pretrain for consistency.
max_steps: -1                  # If > 0, overrides num_train_epochs.
warmup_ratio: 0.03
lr_scheduler_type: "cosine"    # Learning rate scheduler.

# --- Experiment Tracking ---
report_to: "wandb" # Log metrics and results to Weights & Biases.
run_name: "sft-tinyllama-guanaco-demo"

# END OF FILE: configs/training/finetune_sft.yaml

====================
文件: .\configs\training\pretrain_llm.yaml
====================

# FILE: configs/training/pretrain_llm.yaml
# Bedrock Protocol: Comprehensive configuration for LLM/VLM from-scratch pre-training.
# This file centralizes all training-related hyperparameters and strategies.

# --- Global Training Settings ---
seed: 42
output_dir: "./checkpoints/pretrain_llm_demo"
# Checkpoint interval. Set to -1 to only save at the end.
save_steps: 1
logging_steps: 11
eval_steps: 1 # Evaluate every X steps.
max_steps: 100 # Total training steps. Set to -1 to train for num_train_epochs.
num_train_epochs: -1 # If max_steps > 0, this is ignored. Set to 1 for a quick demo epoch.

# --- Model Configuration ---
# Path to the specific model architecture YAML (e.g., 0.5B_dense.yaml, 0.8B_moe.yaml).
model_config_path: "configs/model/0.5B_dense.yaml" # Change this to switch models.

# --- Data Configuration ---
# Path to the processed text data or VLM data.
# This should point to the directory where data_processing/download_and_reproduce.py saved the data.
dataset_dir: "./data/processed/wikitext"
# Name of the column containing text data in the dataset.
dataset_text_field: "text"
# Max sequence length for tokenization and model input.
max_seq_length: 1024

# --- Optimizer ---
optimizer: "adamw_torch" # "adamw_torch", "adamw_8bit", "lion"
learning_rate: 3e-4
weight_decay: 0.01
adam_beta1: 0.9
adam_beta2: 0.95
adam_epsilon: 1e-8
max_grad_norm: 1.0

# --- Learning Rate Scheduler ---
lr_scheduler_type: "cosine" # "linear", "cosine", "polynomial", "constant"
warmup_ratio: 0.01 # Percentage of total steps for linear warmup.

# --- Batching & Parallelism ---
per_device_train_batch_size: 2 # Batch size per GPU.
gradient_accumulation_steps: 16 # Accumulate gradients over X steps. Effective batch size = per_device_train_batch_size * gradient_accumulation_steps * num_gpus.
# Mixed precision training. "bf16" is recommended for Ampere+ GPUs (A100, RTX30/40 series).
# "fp16" is for older GPUs or when bf16 is not available.
mixed_precision: "bf16" # "no", "fp16", "bf16"

# --- DeepSpeed Configuration ---
# Path to a DeepSpeed config JSON. Leave empty to use Accelerate's default DDP or FSDP.
# For ZeRO-3 or Pipeline Parallelism, a DeepSpeed config JSON is essential.
deepspeed_config: "" # e.g., "configs/deepspeed/zero3_config.json"

# --- Memory Optimization (If not using DeepSpeed config) ---
# These are Accelerate's native FSDP (Fully Sharded Data Parallel) options.
# DeepSpeed Zero-3 offers similar benefits and is often preferred.
# use_fsdp: false
# fsdp_strategy: "SHARD_GRAD_OP" # "FULL_SHARD", "SHARD_GRAD_OP"
# fsdp_cpu_offload: false # Offload optimizer states to CPU.

# --- Efficiency Optimizations ---
# torch.compile: Accelerates PyTorch code. Highly recommended.
use_torch_compile: true
# FlashAttention: Leveraged within model architecture (language_model.py) based on attention_type.

# --- Experiment Tracking ---
report_to: "wandb" # "wandb", "tensorboard", "none"
run_name: "pretrain-0.5b-dense-demo" # Unique name for your W&B run.

# END OF FILE: configs/training/pretrain_llm.yaml

====================
文件: .\data\processed\wikitext\corpus.txt
====================

Senjō no Valkyria 3 : Unrecorded Chronicles ( Japanese : 戦場のヴァルキュリア3 , lit . Valkyria of the Battlefield 3 ) , commonly referred to as Valkyria Chronicles III outside Japan , is a tactical role @-@ playing video game developed by Sega and Media.Vision for the PlayStation Portable . Released in January 2011 in Japan , it is the third game in the Valkyria series . Employing the same fusion of tactical and real @-@ time gameplay as its predecessors , the story runs parallel to the first game and follows the " Nameless " , a penal military unit serving the nation of Gallia during the Second Europan War who perform secret black operations and are pitted against the Imperial unit " Calamaty Raven " .
The game began development in 2010 , carrying over a large portion of the work done on Valkyria Chronicles II . While it retained the standard features of the series , it also underwent multiple adjustments , such as making the game more forgiving for series newcomers . Character designer Raita Honjou and composer Hitoshi Sakimoto both returned from previous entries , along with Valkyria Chronicles II director Takeshi Ozawa . A large team of writers handled the script . The game 's opening theme was sung by May 'n .
It met with positive sales in Japan , and was praised by both Japanese and western critics . After release , it received downloadable content , along with an expanded edition in November of that year . It was also adapted into manga and an original video animation series . Due to low sales of Valkyria Chronicles II , Valkyria Chronicles III was not localized , but a fan translation compatible with the game 's expanded edition was released in 2014 . Media.Vision would return to the franchise with the development of Valkyria : Azure Revolution for the PlayStation 4 .
As with previous Valkyira Chronicles games , Valkyria Chronicles III is a tactical role @-@ playing game where players take control of a military unit and take part in missions against enemy forces . Stories are told through comic book @-@ like panels with animated character portraits , with characters speaking partially through voiced speech bubbles and partially through unvoiced text . The player progresses through a series of linear missions , gradually unlocked as maps that can be freely scanned through and replayed as they are unlocked . The route to each story location on the map varies depending on an individual player 's approach : when one option is selected , the other is sealed off to the player . Outside missions , the player characters rest in a camp , where units can be customized and character growth occurs . Alongside the main story missions are character @-@ specific sub missions relating to different squad members . After the game 's completion , additional episodes are unlocked , some of them having a higher difficulty than those found in the rest of the game . There are also love simulation elements related to the game 's two main heroines , although they take a very minor role .
The game 's battle system , the BliTZ system , is carried over directly from Valkyira Chronicles . During missions , players select each unit using a top @-@ down perspective of the battlefield map : once a character is selected , the player moves the character around the battlefield in third @-@ person . A character can only act once per @-@ turn , but characters can be granted multiple turns at the expense of other characters ' turns . Each character has a field and distance of movement limited by their Action Gauge . Up to nine characters can be assigned to a single mission . During gameplay , characters will call out if something happens to them , such as their health points ( HP ) getting low or being knocked out by enemy attacks . Each character has specific " Potentials " , skills unique to each character . They are divided into " Personal Potential " , which are innate skills that remain unaltered unless otherwise dictated by the story and can either help or impede a character , and " Battle Potentials " , which are grown throughout the game and always grant boons to a character . To learn Battle Potentials , each character has a unique " Masters Table " , a grid @-@ based skill table that can be used to acquire and link different skills . Characters also have Special Abilities that grant them temporary boosts on the battlefield : Kurt can activate " Direct Command " and move around the battlefield without depleting his Action Point gauge , the character Reila can shift into her " Valkyria Form " and become invincible , while Imca can target multiple enemy units with her heavy weapon .
Troops are divided into five classes : Scouts , Shocktroopers , Engineers , Lancers and Armored Soldier . Troopers can switch classes by changing their assigned weapon . Changing class does not greatly affect the stats gained while in a previous class . With victory in battle , experience points are awarded to the squad , which are distributed into five different attributes shared by the entire squad , a feature differing from early games ' method of distributing to different unit types .
The game takes place during the Second Europan War . Gallian Army Squad 422 , also known as " The Nameless " , are a penal military unit composed of criminals , foreign deserters , and military offenders whose real names are erased from the records and thereon officially referred to by numbers . Ordered by the Gallian military to perform the most dangerous missions that the Regular Army and Militia will not do , they are nevertheless up to the task , exemplified by their motto , Altaha Abilia , meaning " Always Ready . " The three main characters are No.7 Kurt Irving , an army officer falsely accused of treason who wishes to redeem himself ; Ace No.1 Imca , a female Darcsen heavy weapons specialist who seeks revenge against the Valkyria who destroyed her home ; and No.13 Riela Marcellis , a seemingly jinxed young woman who is unknowingly a descendant of the Valkyria . Together with their fellow squad members , these three are tasked to fight against a mysterious Imperial unit known as Calamity Raven , consisting of mostly Darcsen soldiers .
As the Nameless officially do not exist , the upper echelons of the Gallian Army exploit the concept of plausible deniability in order to send them on missions that would otherwise make Gallia lose face in the war . While at times this works to their advantage , such as a successful incursion into Imperial territory , other orders cause certain members of the 422nd great distress . One such member , Gusurg , becomes so enraged that he abandons his post and defects into the ranks of Calamity Raven , attached to the ideal of Darcsen independence proposed by their leader , Dahau . At the same time , elements within Gallian Army Command move to erase the Nameless in order to protect their own interests . Hounded by both allies and enemies , and combined with the presence of a traitor within their ranks , the 422nd desperately move to keep themselves alive while at the same time fight to help the Gallian war effort . This continues until the Nameless 's commanding officer , Ramsey Crowe , who had been kept under house arrest , is escorted to the capital city of Randgriz in order to present evidence exonerating the weary soldiers and expose the real traitor , the Gallian General that had accused Kurt of Treason .
Partly due to these events , and partly due to the major losses in manpower Gallia suffers towards the end of the war with the Empire , the Nameless are offered a formal position as a squad in the Gallian Army rather than serve as an anonymous shadow force . This is short @-@ lived , however , as following Maximilian 's defeat , Dahau and Calamity Raven move to activate an ancient Valkyrian super weapon within the Empire , kept secret by their benefactor . Without the support of Maximilian or the chance to prove themselves in the war with Gallia , it is Dahau 's last trump card in creating a new Darcsen nation . As an armed Gallian force invading the Empire just following the two nations ' cease @-@ fire would certainly wreck their newfound peace , Kurt decides to once again make his squad the Nameless , asking Crowe to list himself and all under his command as killed @-@ in @-@ action . Now owing allegiance to none other than themselves , the 422nd confronts Dahau and destroys the Valkyrian weapon . Each member then goes their separate ways in order to begin their lives anew .
Concept work for Valkyria Chronicles III began after development finished on Valkyria Chronicles II in early 2010 , with full development beginning shortly after this . The director of Valkyria Chronicles II , Takeshi Ozawa , returned to that role for Valkyria Chronicles III . Development work took approximately one year . After the release of Valkyria Chronicles II , the staff took a look at both the popular response for the game and what they wanted to do next for the series . Like its predecessor , Valkyria Chronicles III was developed for PlayStation Portable : this was due to the team wanting to refine the mechanics created for Valkyria Chronicles II , and they had not come up with the " revolutionary " idea that would warrant a new entry for the PlayStation 3 . Speaking in an interview , it was stated that the development team considered Valkyria Chronicles III to be the series ' first true sequel : while Valkyria Chronicles II had required a large amount of trial and error during development due to the platform move , the third game gave them a chance to improve upon the best parts of Valkyria Chronicles II due to being on the same platform . In addition to Sega staff from the previous games , development work was also handled by Media.Vision. The original scenario was written Kazuki Yamanobe , while the script was written by Hiroyuki Fujii , Koichi Majima , Kishiko Miyagi , Seiki Nagakawa and Takayuki Shouji . Its story was darker and more somber than that of its predecessor .
The majority of material created for previous games , such as the BLiTZ system and the design of maps , was carried over . Alongside this , improvements were made to the game 's graphics and some elements were expanded , such as map layouts , mission structure , and the number of playable units per mission . A part of this upgrade involved creating unique polygon models for each character 's body . In order to achieve this , the cooperative elements incorporated into the second game were removed , as they took up a large portion of memory space needed for the improvements . They also adjusted the difficulty settings and ease of play so they could appeal to new players while retaining the essential components of the series ' gameplay . The newer systems were decided upon early in development . The character designs were done by Raita Honjou , who had worked on the previous Valkyria Chronicles games . When creating the Nameless Squad , Honjou was faced with the same problem he had had during the first game : the military uniforms essentially destroyed character individuality , despite him needing to create unique characters the player could identify while maintaining a sense of reality within the Valkyria Chronicles world . The main color of the Nameless was black . As with the previous Valkyria games , Valkyria Chronicles III used the CANVAS graphics engine . The anime opening was produced by Production I.G.
The music was composed by Hitoshi Sakimoto , who had also worked on the previous Valkyria Chronicles games . When he originally heard about the project , he thought it would be a light tone similar to other Valkyria Chronicles games , but found the themes much darker than expected . An early theme he designed around his original vision of the project was rejected . He redid the main theme about seven times through the music production due to this need to reassess the game . The main theme was initially recorded using orchestra , then Sakimoto removed elements such as the guitar and bass , then adjusted the theme using a synthesizer before redoing segments such as the guitar piece on their own before incorporating them into the theme . The rejected main theme was used as a hopeful tune that played during the game 's ending . The battle themes were designed around the concept of a " modern battle " divorced from a fantasy scenario by using modern musical instruments , constructed to create a sense of atonality . While Sakimoto was most used to working with synthesized music , he felt that he needed to incorporate live instruments such as orchestra and guitar . The guitar was played by Mitsuhiro Ohta , who also arranged several of the later tracks . The game 's opening theme song , " If You Wish for ... " ( もしも君が願うのなら , Moshimo Kimi ga Negauno Nara ) , was sung by Japanese singer May 'n . Its theme was the reason soldiers fought , in particular their wish to protect what was precious to them rather than a sense of responsibility or duty . Its lyrics were written by Seiko Fujibayashi , who had worked on May 'n on previous singles .
In September 2010 , a teaser website was revealed by Sega , hinting at a new Valkyria Chronicles game . In its September issue , Famitsu listed that Senjō no Valkyria 3 would be arriving on the PlayStation Portable . Its first public appearance was at the 2010 Tokyo Game Show ( TGS ) , where a demo was made available for journalists and attendees . During the publicity , story details were kept scant so as not to spoil too much for potential players , along with some of its content still being in flux at the time of its reveal . To promote the game and detail the story leading into the game 's events , an episodic Flash visual novel written by Fujii began release in January 2011 . The game was released January 27 , 2011 . During an interview , the development team said that the game had the capacity for downloadable content ( DLC ) , but that no plans were finalized . Multiple DLC maps , featuring additional missions and recruitable characters , were released between February and April 2011 . An expanded edition of the game , Valkyria Chronicles III Extra Edition , released on November 23 , 2011 . Packaged and sold at a lower price than the original , Extra Edition game with seven additional episodes : three new , three chosen by staff from the game 's DLC , and one made available as a pre @-@ order bonus . People who also owned the original game could transfer their save data between versions .
Unlike its two predecessors , Valkyria Chronicles III was not released in the west . According to Sega , this was due to poor sales of Valkyria Chronicles II and the general unpopularity of the PSP in the west . An unofficial fan translation patch began development in February 2012 : players with a copy of Valkyria Chronicles III could download and apply the patch , which translated the game 's text into English . Compatible with the Extra Edition , the patch was released in January 2014 .
On its day of release in Japan , Valkyria Chronicles III topped both platform @-@ exclusive and multi @-@ platform sales charts . By early February , the game sold 102 @,@ 779 units , coming in second overall to The Last Story for the Wii . By the end of the year , the game had sold just over 152 @,@ 500 units .
Famitsu enjoyed the story , and were particularly pleased with the improvements to gameplay . Japanese gaming site Game Watch Impress , despite negatively noting its pacing and elements recycled from previous games , was generally positive about its story and characters , and found its gameplay entertaining despite off @-@ putting difficulty spikes . 4Gamer.net writer Naohiko Misuosame , in a " Play Test " article based on the game 's PSN demo , felt that Valkyria Chronicles III provided a " profound feeling of closure " for the Valkyria Chronicles series . He praised its gameplay despite annoying limitations to aspects such as special abilities , and positively noted its shift in story to a tone similar to the first game .
PlayStation Official Magazine - UK praised the story 's blurring of Gallia 's moral standing , art style , and most points about its gameplay , positively noting the latter for both its continued quality and the tweaks to balance and content . Its one major criticism were multiple difficulty spikes , something that had affected the previous games . Heath Hindman of gaming website PlayStation Lifestyle praised the addition of non @-@ linear elements and improvements or removal of mechanics from Valkyria Chronicles II in addition to praising the returning gameplay style of previous games . He also positively noted the story 's serious tone . Points criticized in the review were recycled elements , awkward cutscenes that seemed to include all characters in a scene for no good reason , pacing issues , and occasional problems with the game 's AI .
In a preview of the TGS demo , Ryan Geddes of IGN was left excited as to where the game would go after completing the demo , along with enjoying the improved visuals over Valkyria Chronicles II . Kotaku 's Richard Eisenbeis was highly positive about the game , citing is story as a return to form after Valkyria Chronicles II and its gameplay being the best in the series . His main criticisms were its length and gameplay repetition , along with expressing regret that it would not be localized .
Kurt and Riela were featured in the Nintendo 3DS crossover Project X Zone , representing the Valkyria series . Media.Vision would return to the series to develop Valkyria : Azure Revolution , with Ozawa returning as director . Azure Revolution is a role @-@ playing video game for the PlayStation 4 that forms the beginning of a new series within the Valkyria franchise .
Valkyria Chronicles 3 was adapted into a two @-@ episode original video animation series in the same year of its release . Titled Senjō no Valkyria 3 : Taga Tame no Jūsō ( 戦場のヴァルキュリア３ 誰がための銃瘡 , lit . Valkyria of the Battlefield 3 : The Wound Taken for Someone 's Sake ) , it was originally released through PlayStation Network and Qriocity between April and May 2011 . The initially @-@ planned release and availability period needed to be extended due to a stoppage to PSN during the early summer of that year . It later released for DVD on June 29 and August 31 , 2011 , with separate " Black " and " Blue " editions being available for purchase . The anime is set during the latter half of Valkyria Chronicles III , detailing a mission by the Nameless against their Imperial rivals Calamity Raven . The anime was first announced in November 2010 . It was developed by A @-@ 1 Pictures , produced by Shinji Motoyama , directed by Nobuhiro Kondō , and written by Hiroshi Ōnogi . Sakimoto 's music for the game was used in the anime .
The anime 's title was inspired by the principle purpose of the Nameless : to suffer in battle for the goals of others . A subtitle attached to the project during development was " The Road to Kubinka " , which referenced the Kubinka Tank Museum in Moscow . The game 's main theme was how the characters regained their sense of self when stripped of their names and identities , along with general themes focused on war and its consequences . While making the anime , the production team were told by Sega to make it as realistic as possible , with the consequence that the team did extensive research into aspects such as what happened when vehicles like tanks were overturned or damaged . Due to it being along the same timeline as the original game and its television anime adaptation , the cast of Valkyria Chronicles could make appearances , which pleased the team . The opening theme , " Akari ( Light ) -Tomoshibi- " ( 灯 @-@ TOMOSHIBI- ) , was sung by Japanese singer Faylan . The ending theme , " Someday the Flowers of Light Will Bloom " ( いつか咲く光の花 , Itsuka Saku Hikari no Hana ) , was sung by Minami Kuribayashi . Both songs ' lyrics were written by their respective artists .
Two manga adaptations were produced , following each of the game 's main female protagonists Imca and Riela . They were Senjō no Valkyria 3 : Namo naki Chikai no Hana ( 戦場のヴァルキュリア3 名もなき誓いの花 , lit . Valkyria of the Battlefield 3 : The Flower of the Nameless Oath ) , illustrated by Naoyuki Fujisawa and eventually released in two volumes after being serialized in Dengeki Maoh between 2011 and 2012 ; and Senjō no Valkyria 3 : -Akaki Unmei no Ikusa Otome- ( 戦場のヴァルキュリア3 -赤き運命の戦乙女- , lit . Valkyria of the Battlefield 3 -The Valkyrie of the Crimson Fate ) , illustrated by Mizuki Tsuge and eventually released in a single volume by Kadokawa Shoten in 2012 .
The Tower Building of the Little Rock Arsenal , also known as U.S. Arsenal Building , is a building located in MacArthur Park in downtown Little Rock , Arkansas . Built in 1840 , it was part of Little Rock 's first military installation . Since its decommissioning , The Tower Building has housed two museums . It was home to the Arkansas Museum of Natural History and Antiquities from 1942 to 1997 and the MacArthur Museum of Arkansas Military History since 2001 . It has also been the headquarters of the Little Rock Æsthetic Club since 1894 .
The building receives its name from its distinct octagonal tower . Besides being the last remaining structure of the original Little Rock Arsenal and one of the oldest buildings in central Arkansas , it was also the birthplace of General Douglas MacArthur , who became the supreme commander of US forces in the South Pacific during World War II . It was also the starting place of the Camden Expedition . In 2011 it was named as one of the top 10 attractions in the state of Arkansas by Arkansas.com.
The arsenal was constructed at the request of Governor James Sevier Conway in response to the perceived dangers of frontier life and fears of the many Native Americans who were passing through the state on their way to the newly established Oklahoma Territory . Thirty @-@ six acres were appropriated on the outskirts of Little Rock by Major Robert B. Lee of the U.S. Army . The land had been previously used as a racetrack by the local jockey club . John Wormley Walker , a builder for the Federal Government , supervised the construction . Originally $ 14 @,@ 000 was allocated for the construction of the arsenal , but proved inadequate . The budget was later increased to $ 30 @,@ 000 . Work began on the Tower Building in 1840 , and it was the first permanent structure of the arsenal to be built . Being originally constructed to store ammunition , the building was designed with 3 @-@ foot @-@ thick ( 0 @.@ 91 m ) exterior walls . The original plans called for it to be built of stone , however , masonry was used instead . The Arkansas Gazette referred to the structure as " A splendid specimen of masonry " .
For several years the arsenal , which was owned by the federal government , served as a simple arms depot and was staffed with only a handful of soldiers . But in November 1860 , with the American Civil War on the horizon , a company of the Second United States Artillery , consisting of sixty @-@ five men , was transferred to Little Rock under the command of Captain James Totten . On January 15 , 1861 , the state legislature decided to hold a referendum to determine if a state convention should be held to consider the issue of secession and to elect delegates to such a convention . It was planned for February 18 ; however , events at the arsenal , would not wait . On January 28 , then Governor Henry Massey Rector informed Captain Totten that he and his soldiers would be " permitted to remain in the possession of the Federal officers until the State , by authority of the people , shall have determined to sever their connection with the General Government , " Totten responded to this by telling the Governor that his orders came from the United States Government and began a desperate but ultimately futile dispatch of letters and telegrams asking for reinforcements , although rumors were widely spread that they were already coming . The first telegraph wire to span between Little Rock and Memphis had recently been completed . Local attorney John M Harrel was asked to compose the first telegraph dispatched from Arkansas 's capital . In his message , Harrel reported unconfirmed rumors that more federal troops had been sent to reinforce the Little Rock Arsenal .
The United States troops at the outposts of the western frontier of the state and in the Indian nation have all been recalled from winter quarters to reinforce the garrison at Fort Smith . The garrison at Fort Smith had been previously transferred to the United States Arsenal in this city ( Little Rock ) . The arsenal is one of the richest depositories of military stores in the United States and is supposed to be the ultimate destination of the tropps [ sic ] ordered from the frontier .
The item was intended simply as a piece of news , but telegraph lines quickly spread the news throughout the state , fueling procession sentiment . The rumor was interpreted by some Arkansans as a call from the governor to assemble to help expel the federal troops from the arsenal . By February 5 , six militia units , consisting of 1 @,@ 000 men , with a guarantee that the numbers could be increased to 5 @,@ 000 if the situations deemed it necessary , had assembled in Little Rock . Governor Rector vehemently denied ordering the troops to assemble or giving any order at all in connection with the troops . Faced with the fact that the military had assembled believing they were following his orders and the consensus of the citizens of Little Rock against any armed conflict between the civilian army and federal troops , Governor Rector was forced to take control of the situation . On February 6 , he sent a formal demand for surrender of the arsenal to Captain Totten ,
This movement is prompted by the feeling that pervades the citizens of this State that in the present emergency the arms and munitions of war in the Arsenal should be under the control of the State authorities , in order to their security . This movement , although not authorized by me , has assumed such an aspect that it becomes my duty , as the executive of this Sate , to interpose my official authority to prevent a collision between the people of the State and the Federal troops under your command . I therefore demand in the name of the State the delivery of the possession of the Arsenal and munitions of war under your charge to the State authorities , to be held subject to the action of the convention to be held on the 4th of March next .
Perhaps because Abraham Lincoln had not yet been inaugurated as President , Captain Totten received no instructions from his superiors and was forced to withdraw his troops . He agreed to surrender the arsenal as long as the governor agreed to three provisions :
The governor would take possession of the arsenal in the name of the United States .
The soldiers would be allowed safe passage in any direction carrying any personal and public property besides munitions of war .
The soldiers would be allowed to march away as men leaving under orders , not as conquered and surrendering soldiers .
On the morning of February 8 , 1861 , Rector and Totten signed an agreement placing the arsenal in the hands of state officials . That afternoon , the citizen militia marched to the arsenal with Governor Rector at its head . All of the federal troops had left at this point , except Totten who had stayed behind to listen to the Governor 's speech and to hand the arsenal over in person .
The Little Rock Arsenal was classified in 1860 as an " arsenal of deposit , " meaning that it was simply a warehouse for the storage of weapons intended for the use of the state militia in times of crisis . Thus there were no substantial operations for ordnance fabrication or repairs , nor for the manufacture of cartridges at the time the Arsenal fell into State hands . Most of these operations were started from scratch through the efforts of the Arkansas Military Board .
Inside the Little Rock Arsenal after its seizure in February , 1861 , the Confederates inventoried some 10 @,@ 247 weapons , 250 @,@ 000 musket cartridges , and 520 @,@ 000 percussion caps , as well as the four bronze cannon of Totten 's battery . Long arms in the Arsenal 's inventory consisted of :
Of this number , approximately 9600 weapons were serviceable , or ready @-@ for @-@ issue . Note there were only 1 @,@ 364 percussion weapons available . Disposition of the weapons found in the Arsenal is somewhat sketchy , but from various records it can be surmised that the 5th , 6th , 7th , and 8th Arkansas Infantry Regiments , mustered in June , 1861 , were issued M1816 / M1822 .69 caliber flintlocks . The 9th and 10th Arkansas , four companies of Kelly 's 9th Arkansas Battalion , and the 3rd Arkansas Cavalry Regiment were issued flintlock Hall 's Rifles . The units comprising the infantry force of Van Dorn 's Army of the West were the 1st and 2nd Arkansas Mounted Rifles were also armed with M1822 flintlocks from the Little Rock Arsenal . By the time the 11th and 12th Arkansas Infantry Regiments mustered in at Little Rock , the supply of arms had been almost completely exhausted , and only old " junker " weapons were left .
Most of the equipment , arms , and machinery at the Little Rock Arsenal was removed to east of the Mississippi River by order of Maj. Gen. Earl Van Dorn in April and May 1862 , and accountability for it is lost at that point . By all appearances , the equipment was sent down the river to Napoleon , Arkansas , and from there to Jackson Mississippi , where it was probably destroyed during the Vicksburg campaign in the early summer of 1863 .
Major General Thomas C. Hindman , sent to command the district of Arkansas in May , 1862 , found the state nearly destitute of military material . Hindman established another armory at Arkadelphia , and revived the Little Rock Arsenal as a collection point and depot for armaments and ammunition manufacture for small arms . Hindman recorded :
" Machinery was made for manufacturing percussion caps and small arms , and both were turned out in small quantity , but of excellent quality . Lead mines were opened and worked , and a chemical laboratory was established and successfully operated in aid of the Ordnance Department and in the manufacture of calomel , castor oil , spirits of nitre , the various tinctures of iron , and other valuable medicines . Most of these works were located at or near Arkadelphia on the Ouachita River , 75 miles south from Little Rock . The tools , machinery , and the material were gathered piecemeal or else made by hand labor . Nothing of this sort had been before attempted on Government account in Arkansas to my knowledge , except for the manufacture of small arms , the machinery for which was taken away by General Van Dorn and there was neither capital nor sufficient enterprise among the citizens to engage in such undertakings � A further supply , along with lead and caps , was procured from the citizens of Little Rock and vicinity by donation , purchases , and impressments .
This ammunition , and that which I brought with me , was rapidly prepared for use at the Laboratory established at the Little Rock Arsenal for that purpose . As illustrating as the pitiful scarcity of material in the country , the fact may be stated that it was found necessary to use public documents of the State Library for cartridge paper . Gunsmiths were employed or conscripted , tools purchased or impressed , and the repair of the damaged guns I brought with me and about an equal number found at Little Rock commenced at once . But , after inspecting the work and observing the spirit of the men I decided that a garrison 500 strong could hold out against Fitch and that I would lead the remainder - about 1500 - to Gen 'l Rust as soon as shotguns and rifles could be obtained from Little Rock instead of pikes and lances , with which most of them were armed . Two days elapsed before the change could be effected . "
The Confederate ordnance establishment at Little Rock was reactivated in August , 1862 . Looking around for a suitable person to head this activity , General Hindman turned to the Confederate Navy and borrowed Lieutenant John W. Dunnington . Lt. Dunnington was the commander of the gunboat C.S.S. Ponchartrain , which had been brought to Little Rock in hopes of converting it to an ironclad . Dunnington was selected to head the ordnance works at Little Rock , and although he continued to draw his pay from the Confederate Navy Department , he was placed in charge of all Confederate ordnance activities ( which included artillery functions ) there with the rank of lieutenant colonel .
Lt. Col. Dunnington 's " Returns for the month of August , 1862 , at Little Rock Arsenal , C.S.A. , " are found in Vol . 149 , Chapter IV of the " Captured Rebel Ordnance Records , " and are most enlightening as to the scope of Confederate ordnance activities at Little Rock during this crucial time . According to Dunnington , " When I assumed command at this Post , all material had been removed to Arkadelphia . There were no persons employed . No shops were open for repair of arms or for fabricating ammunition . Material , tools , etc . , had to be procured as well as the employment of laborers . Work commenced the last part of the month . "
The military force at Little Rock under Dunnington 's command consisted of four officers : himself , Major John B. Lockman , Captain C.C. Green , and 2nd Lt. W.W. Murphy . In addition to these , he had 20 enlisted men and a civilian force composed of a foreman , 2 clerks , 3 gunsmiths for repairing small arms , a laboratorian , 26 laborers in the ammunition laboratory , and a carpenter for making packing boxes .
During the month of August , 1862 , the following work was performed : " Fabricated : one pair of musket bullet moulds ; 10 @,@ 000 buck & ball shot cartridges ; repaired : 750 muskets , shotguns , and rifles ; received and repaired : ordnance stores and ordnances ; performed : guard , office , and police duties ; inspected : Posts at Camden and Arkadelphia . "
Lt. Col. Dunnington continued to build up his works at Little Rock until November 1862 , when Captain Sanford C. Faulkner ( composer of The Arkansas Traveler ) was placed in charge of the Arsenal . Dunnington presumably returned to his naval duties and the Ponchartrain .
A " Summary of the Work Done for November , 1862 , Little Rock Arsenal " shows : Fabrication :
2 @,@ 236 shotguns and rifles ( repaired mostly for troops in service )
23 pistols ( repaired mostly for troops in service )
752 packages of ordnance and ordnance stores received and mostly issued to troops in service .
Perhaps the most illuminating points of the above " Summary of Work " and those for following months are that the standard ammunition made was . " buck & ball " , indicating that the .69 caliber smoothbores and shotguns remained the predominant caliber weapon in use , and of this , nearly one sixth or more of all small arms ammunition was still for flintlock weapons , indicating that no less than a sixth of the Confederate troops in this vicinity were still armed with obsolete flintlock weapons .
The " Summaries of Work done at Little Rock Arsenal , C.S.A. " continue at about the same pace and scale from August 1862 until August 1863 . Appended to the " Summary " for August , 1863 is the ominous notation , " During the last week in the month , nearly all stores at the Arsenal have been packed and sent to Arkadelphia , in obedience to orders from Chief of Ordnance , District of Arkansas . " This then marks the beginning of the evacuation of ordnance activities from Little Rock , with the city being surrendered to the advancing Federal troops of Frederick Steele 's Arkansas Expedition on September 11 , 1863 .
In 1864 , after Little Rock fell to the Union Army and the arsenal had been recaptured , General Fredrick Steele marched 8 @,@ 500 troops from the arsenal beginning the Camden Expedition .
The arsenal was briefly seized once more by Joseph Brooks loyalists during the Brooks @-@ Baxter War of 1874 .
In 1873 , the building was renamed Little Rock Barracks and used as a barracks for married officers and their families . The building was drastically altered the inside and outside . Prior to renovation , a rear basement door provided the only entrance to the building , while the tower served as a hoist to move munitions between floors . By 1868 , front and rear porches had been added to the building , as well as interior walls and stairs , some of which remain today , including the central staircase . In 1880 , Douglas MacArthur was born on the northwest upper floor of this building while his father , Captain Arthur MacArthur , was stationed there .
In the 1880s , the federal government began closing many small arsenals around the country in favor of smaller ones built near railroads for quick deployment . The arsenal commander received word from Washington that the Little Rock site must be abandoned " not later than October 1 , 1890 . " On April 12 , 1893 the tower building and the surrounding buildings were traded to the city of Little Rock for 1 @,@ 000 acres ( 4 km ² ) in North Little Rock under the condition that the building and land be " forever exclusively devoted to the uses and purposes of a public park " for 1 @,@ 000 acres ( 4 km ² ) in Big Rock Mountain on the north side of the Arkansas River , present day North Little Rock . That site later became Fort Logan H. Roots . All of the original buildings surrounding the Tower Building were demolished .
In 1894 the Little Rock Æsthetic Club , one of the oldest women 's societies west of the Mississippi River , moved into the Tower Building . This was prompted due to increased membership and a need for larger , more permanent quarters . The previous year , club members working with women 's organizations throughout the state , raised money to furnish the Arkansas Building of the Columbian Exposition at The Chicago World 's Fair . At the fair 's conclusion , artifacts from the exhibit were displayed in the Tower Building , with the Æsthetic Club invited to meet in the " Columbian Room . "
Except for Æsthetic Club meetings , the Tower Building remained largely unoccupied for almost fifty years and suffered significant deterioration . The Æsthetic Club provided much @-@ needed financial support during the period and even paid the electric bill during the Great Depression . The Æsthetic Club is still headquartered in the Tower Building .
The building and the surrounding park were used for many public purposes throughout the early 20th century . The Tower Building served as headquarters for the United Confederate Veterans Reunion , May 15 – 18 , 1911 . Over 106 @,@ 000 Civil War veterans , the largest popular gathering in the history of the city up to that time , attended and were housed in the building or camped in the park , which had also become a popular camping area . Later the building served as an armory for the Arkansas National Guard . In 1912 , the second floor of the Tower Building became Little Rock 's first public library . In 1917 , Little Rock built a fire station in the park , that building is now gone . A band shell named for H. H. Foster also was built in the park during this time , but also no longer exists . In 1936 , Works Progress Administration built the Museum of Fine Arts , now called the Arkansas Arts Center , just south of the Tower Building .
The arsenal was listed in the National Register of Historic Places in 1970 . Due to its association with the Camden Expedition of 1864 , the arsenal may be included in the Camden Expedition Sites National Historic Landmark designated in 1994 .
In 1942 , the Tower Building was renovated due to the efforts of the Æsthetic Club , Little Rock philanthropist Frederick W. Allsop , and the Works Progress Administration . It became the new home of The Arkansas Museum of Natural History and Antiquities , which had been located in Little Rock City Hall . The museum remained in the tower building for approximately fifty @-@ five years . The area surrounding the Tower Building had been known as Arsenal Park when the first decommissioned and then later renamed City Park . Due to the efforts of Bernie Babcock , however , the city finally named it MacArthur Park in 1942 in honor of Douglas MacArthur .
In 1997 , the Museum of Science and Natural History merged with the Little Rock Children 's Museum , which had been located in Union Station , to form the Arkansas Museum of Discovery . The new museum was relocated to a historic building in the Little Rock River Market District . The MacArthur Museum of Arkansas Military History opened on May 19 , 2001 in the Tower Building . The new museum 's goal is to educate and inform visitors about the military history of Arkansas , preserve the Tower Building , honor servicemen and servicewomen of the United States and commemorate the birthplace of Douglas MacArthur .
Cicely Mary Barker ( 28 June 1895 – 16 February 1973 ) was an English illustrator best known for a series of fantasy illustrations depicting fairies and flowers . Barker 's art education began in girlhood with correspondence courses and instruction at the Croydon School of Art . Her earliest professional work included greeting cards and juvenile magazine illustrations , and her first book , Flower Fairies of the Spring , was published in 1923 . Similar books were published in the following decades .
Barker was a devout Anglican , and donated her artworks to Christian fundraisers and missionary organizations . She produced a few Christian @-@ themed books such as The Children ’ s Book of Hymns and , in collaboration with her sister Dorothy , He Leadeth Me . She designed a stained glass window for St. Edmund 's Church , Pitlake , and her painting of the Christ Child , The Darling of the World Has Come , was purchased by Queen Mary .
Barker was equally proficient in watercolour , pen and ink , oils , and pastels . Kate Greenaway and the Pre @-@ Raphaelites were the principal influences on her work . She claimed to paint instinctively and rejected artistic theories . Barker died in 1973 . Though she published Flower Fairy books with spring , summer , and autumn themes , it wasn 't until 1985 that a winter collection was assembled from her remaining work and published posthumously .
Barker was born the second daughter and youngest child of Walter Barker , a partner in a seed supply company and an amateur artist , and his wife Mary Eleanor ( Oswald ) Barker on 28 June 1895 at home at 66 Waddon Road in Croydon , Surrey , England . Barker was an epileptic as a child , and cared for at home by her parents . Later , her sister and elder by two years , Dorothy Oswald Barker , continued the care .
The family of four was moderately well off , and belonged to the lower end of the upper middle class . A nanny , a governess , and a cook to prepare special meals for Barker were hired . She spent much time in bed at home amusing herself with painting books and a nursery library that included the works of Kate Greenaway and Randolph Caldecott – two artists who exerted strong influences on her later art .
Barker took correspondence courses in art , probably until about 1919 . In 1908 at 13 years , she entered an evening class at the Croydon School of Art , and attended the school into the 1940s . In time , she received a teaching position .
In 1911 , Raphael Tuck & Sons bought four of Barker 's " little drawings " for half a sovereign , and published them as postcards . In October 1911 , she won second prize in the Croydon Art Society 's poster competition , and shortly afterward was elected the youngest member of the Society . The art critic for the Croydon Advertiser remarked , " Her drawings show a remarkable freedom of spirit . She has distinct promise . "
Following her father ’ s death in June 1912 , the seventeen @-@ year @-@ old Barker submitted art and poetry to My Magazine , Child ’ s Own , Leading Strings , and Raphael Tuck annuals in an effort to support both her mother and sister . Her sister Dorothy taught kindergarten in two private schools before opening a kindergarten at home . She brought in some money for the family 's support while supervising the household .
Fairies became a popular theme in art and literature in the early 20th century following the releases of The Coming of the Fairies by Sir Arthur Conan Doyle , Peter Pan by J.M. Barrie , and the fairy @-@ themed work of Australian Ida Rentoul Outhwaite . Queen Mary made such themes even more popular by sending Outhwaite postcards to friends during the 1920s . In 1918 , Barker produced a postcard series depicting elves and fairies .
In 1923 , Barker sent her flower fairy paintings to various publishers . Blackie paid £ 25 for 24 paintings with accompanying verses , but it wasn 't until publication of Flower Fairies of the Summer in 1925 that Barker received royalties for her work . Mary Violet Clayton Calthrop , wife of author Dion Clayton Calthrop , wrote in April 1925 about Barker and Flower Fairies of the Spring : " She has such exquisite taste , besides draughtsmanship . "
In 1924 , the family moved into a four @-@ level , semi @-@ detached Victorian house at 23 The Waldrons . Barker had a studio built in the garden and her sister conducted a kindergarten in a room at the back of the house . The family lived frugally and attended both St. Edmund 's and St. Andrew 's in Croydon – " low " churches for the less privileged . Barker sometimes incorporated portraits of her fellow parishioners in her religious works . She was described by Canon Ingram Hill as " one of the pillars " of St. Andrew 's .
The children in the kindergarten modelled for the Flower Fairies until the kindergarten closed in 1940 . In an interview in 1958 , Barker said , " My sister ran a kindergarten and I used to borrow her students for models . For many years I had an atmosphere of children about me – I never forgot it . " She also painted the children of relatives as well as Gladys Tidy , the Barkers ' young housekeeper , who posed for the Primrose Fairy in 1923 . The plants were painted from life , and if a specimen was not readily at hand , Kew Gardens staff would provide her the specimens needed . Barker designed and built the Flower Fairy costumes , and based each on the flowers and leaves of the particular plant to be illustrated . The costumes were kept in a trunk in her studio along with wings made of twigs and gauze . Each was broken down after an illustration was completed and the parts recycled for other costumes . She often referred to Dion Clayton Calthrop 's English Costume .
In the late 1920s , Barker began to doubt she was doing enough for the church and considered focusing solely on sacred works . Family and friends recommended she continue secular and sacred works , which she did .
Barker continued to attend evening classes at the Croydon Art School between the 1920s and the 1940s , eventually receiving a teaching position . She took sketching trips to Amberley and Storrington in Sussex and to Cornwall and the southern coast with family and friends . She visited and stayed with artist Margaret Tarrant in Gomshall , Surrey and with family in Ugglebarnby , Near Whitby , North Yorkshire .
In 1940 , the Barker 's live @-@ in maid retired , and Dorothy Barker closed her school at the back of the house in The Waldrons . She continued to supervise the household , and to give both her mother and sister the care they needed . Dorothy and her sister collaborated upon only two books : Our Darling 's First Book and the Christian @-@ themed , He Leadeth Me . In 1954 Dorothy Barker died of a heart attack . Barker was unable to pursue her art to any significant extent following her sister 's death , as all the care of her aged mother devolved upon her , but she did manage to begin planning a stained glass window design in her sister 's memory for St. Edmund 's , Pitlake .
Barker 's mother died in 1960 , and , in 1961 , Barker moved from 23 The Waldrons to 6 Duppas Avenue in Croydon . She restored a maisonette in Storrington , Sussex , England , bequeathed by her friend Edith Major , and named it St. Andrew 's . After taking up residence , her health began to deteriorate . She was in and out of nursing and convalescent homes , and tended by relatives and friends .
Barker died at Worthing Hospital on 16 February 1973 , aged 77 years . Two funeral services were held – one in Storrington Church and one in Barker 's maisonette . Her ashes were scattered in Storrington churchyard . In 1989 , Frederick Warne , a division of Penguin Books since 1983 , acquired the Flower Fairies properties .
Barker worked principally in watercolor with pen @-@ and @-@ ink , but she was equally competent in black @-@ and @-@ white , in oils , and in pastels . She carried a sketchbook with her for capturing interesting children . She once indicated , " I have always tried to paint instinctively in a way that comes naturally to me , without any real thought or attention to artistic theories . "
Kate Greenaway was a childhood favorite and an influence on her art . Barker 's child subjects wear nostalgic clothing as Greenaway 's children do , though Barker 's children are less melancholy and less flat in appearance , due perhaps to advances in printing technology . Barker studied flowers with an analytical eye and was friend to children 's illustrator , Margaret Tarrant . Along with Greenaway , illustrator Alice B. Woodward also influenced Barker 's work .
The Pre @-@ Raphaelites were a strong , lifelong influence on Barker . She once indicated , " I am to some extent influenced by them — not in any technical sense , but in the choice of subject matter and the feeling and atmosphere they could achieve . " She admitted a fondness for the early paintings of John Everett Millais and " the wonderful things " of Edward Burne @-@ Jones .
Barker 's sketches , drawings , and paintings of children were given to friends or to the parents of the subjects , donated to charitable institutions and church sponsored events , or exhibited through various art organizations . She illustrated magazine covers , dust jackets , and produced series of postcards for Raphael Tuck and other publishers such as Picturesque Children of the Allies ( 1915 ) , Seaside Holidays ( 1918 ) , and Shakespeare 's Boy and Girl Characters ( 1917 , 1920 ) . Her own Old Rhymes for All Times ( 1928 ) and The Lord of the Rushie River ( 1938 ) , a tale about a girl who lives among swans on a riverbank , were critically well received . Set about 1800 , Groundsel and Necklaces ( 1943 ) tells of a girl named Jenny who rescues her family from poverty through the agency of the fairies . The story features an old Scrooge @-@ like man called Mr. Petercoo and tonally suggests a Dickensian social consciousness . Simon the Swan , intended as a sequel to Rushie River was outlined in 1943 with Groundsel , but only developed in 1953 . It was published posthumously in 1988 and is critically considered less successful than Groundsel .
Barker was a devout Christian , and produced religious @-@ themed works throughout her life . She published eight postcards and five guardian angel birthday cards for the Society for Promoting Christian Knowledge in 1916 and in 1923 respectively . Christmas cards were designed for The Girls ' Friendly Society over a 20 @-@ year period , and the first three designs sold out a combined printing of 46 @,@ 500 in 1923 . An original design for the society called The Darling of the World Has Come was purchased by Queen Mary for ₤ 5 @.@ 5 @.@ 0 in 1926 . The Croydon Art Society hung Barker 's booklet cover design for the Society for the Propagation of the Gospel in its November 1919 exhibition .
Religious @-@ themed books include The Children 's Book of Hymns ( 1929 ) and He Leadeth Me ( 1933 ) , the latter written in collaboration with her sister . Major religious works include the triptychs in oil , The Feeding of the Five Thousand ( 1929 ) , for the chapel in Llandaff House , a home for destitute women at Penarth , Wales , and The Parable of the Great Supper ( 1934 ) for St. George 's Chapel , Waddon . The Feeding has since disappeared , and only a black @-@ and @-@ white photograph dated 1929 reproduces the work . In 1941 , she completed oil panels on the subject of the seven sacraments for the baptismal font at St. Andrew 's , South Croydon . She designed baptismal rolls for the wall behind the font in 1948 and 1962 . In 1946 , she completed the 4 x 7 ft. oil painting , Out of Great Tribulation , for the Memorial Chapel of Norbury Methodist Church . Following the death of her sister in 1954 , Barker began designs for a stained glass memorial window depicting Christ preparing to wash the feet of his disciples . Her last religious @-@ themed work , it was installed in St. Edmund 's , Pitlake , in 1962 .
Picturesque Children of the Allies ; J. Salmon , 1916
National Mission ; Society for the Preservation of Christian Knowledge , 1916
Shakespeare 's Boy Characters ; C. W. Faulkner , 1917
Shakespeare 's Girl Characters ; C. W. Faulkner , 1920
Guardian Angel ; Society for the Preservation of Christian Knowledge , 1923
Christmas cards ; Girls ' Friendly Society , 1920s , 1930s
Christmas cards ( US ) ; Barton @-@ Colton , 1920s , 1930s
Child Thoughts in Picture and Verse ( by M. K. Westcott ) ; Blackie , 1925
The Book of the Flower Fairies ; Blackie , 1927
The Children ’ s Book of Hymns ; Blackie , 1929 ; rep . 1933
Our Darling ’ s First Book ( written in collaboration with Dorothy Barker ) ; Blackie , 1929
A Little Book of Old Rhymes ; Blackie , 1936
He Leadeth Me ( written in collaboration with Dorothy Barker ) ; Blackie , 1936
A Little Book of Rhymes New and Old ; Blackie , 1937
The Lord of the Rushie River ; Blackie , 1938
When Spring Came In at the Window ; Blackie , 1942
A Child ’ s Garden of Verses ( Robert Louis Stevenson ) ; Blackie , 1944
Groundsel and Necklaces ; Blackie , 1946 ; reprinted as Fairy Necklaces
Flower Fairies of the Flowers and Trees ; Blackie , 1950
The Sand , the Sea and the Sun ; Gibson , 1970
Flower Fairies of the Seasons ; Bedrick / Blackie , 1988
A Little Book of Prayers and Hymns ; Frederick Warne , 1994
Wild Cherry Makes A Wish ; ( collaboration with Pippa Le Quesne ) Frederick Warne , 2006
How to find Flower Fairies ; Frederick Warne , 2007
A New Epiphany ; Society for the Preservation of Christian Knowledge , 1919
Cradle roll design ; St. Edmund 's , Pitlake , 1922
Banner design ; St. Mary 's , Sanderstead , 1923
The Feeding of the Five Thousand ; reredos triptych , chapel at Penarth , Wales ; 1929
The Parable of the Great Supper ; triptych , St. George 's chapel , Waddon
The Seven Sacraments ; baptismal font panels , St. Andrew 's , Croydon
St. John the Baptist ; central banner panel , Abesford church , 1943
Lettering , sword , and shield ; mount for a list of men and woman serving in the Forces , St. Andrews , Croydon , 1943
Baptismal rolls ; St. Andrews , Croydon , 1948 , 1962
The font in St Andrew 's Church , South Croydon
Out of Great Tribulation ; memorial chapel , Norbury Medthodist church , 1948
I Am Among You As He That Serveth ; stained glass window design , St. Edmund 's , Pitlake , 1962
The Gambia women 's national football team represents the Gambia in international football competition . The team , however , has not competed in a match recognised by FIFA , the sport 's international governing body , despite that organised women 's football has been played in the country since 1998 . The Gambia has two youth teams , an under @-@ 17 side that has competed in FIFA U @-@ 17 Women 's World Cup qualifiers , and an under @-@ 19 side that withdrew from regional qualifiers for an under @-@ 19 World Cup . The development of a national team faces challenges similar to those across Africa , although the national football association has four staff members focusing on women 's football .
In 1985 , few countries had women 's national football teams . While the sport gained popularity worldwide in later decades , the Gambia 's national team only played its first game in 2007 . That game was not FIFA @-@ recognised . As of March 2012 , the team was unranked by FIFA , and as of the following month the Gambia had not played in a FIFA @-@ sanctioned match . The team has not participated in major regional and international tournaments , including the Women 's World Cup , the 2010 African Women 's Championship or the 2011 All @-@ Africa Games .
The country did not have a FIFA @-@ recognised youth national team until 2012 , when the Gambia under @-@ 17 women 's team competed in Confederation of African Football qualifiers for the FIFA U @-@ 17 World Cup , to be held in Azerbaijan in September 2012 . The Gambia had fielded an under @-@ 17 team of 24 players , narrowed from an initial pool of 49 young women . Two girls from the SOS Children ’ s Village Bakoteh were chosen as a members of the team . The Gambia first played Sierra Leone in a pair of qualifying matches for the tournament . Gambia won the first match 3 @-@ 0 in Banjul , the Gambia 's capital . The return match was delayed in for 24 hours and played in Makeni . The Gambia beat Sierra Leone 4 @-@ 3 to qualify for the final round . The Gambia then beat Tunisia 1 @-@ 0 at home and won 2 @-@ 1 in Tunisia . Adama Tamba and Awa Demba scored the Gambia 's goals . Tunisia 's only goal was a Gambian own goal . The win qualified Gambia for the 2012 Azerbaijan World Cup .
The Gambia also has an under @-@ 19 team that was to play in the African Women 's U @-@ 19 Championship in 2002 . The Gambia 's first match was against Morocco , but the team withdrew from the competition .
The development of women 's football in Africa faces several challenges , including limited access to education , poverty amongst women , inequalities and human rights abuses targeting women . Funding is another issue impacting the game in Africa , where most financial assistance comes from FIFA and not national football associations . Another challenge is the retention of football players . Many women footballers leave the continent to seek greater opportunity in Europe or the United States .
Gambia 's national football association was founded in 1952 , and became affiliated with FIFA in 1968 . Football is the most popular women 's sport in the country , and was first played in an organized system in 1998 . A national competition was launched in 2007 , the same year FIFA started an education course on football for women . Competition was active on both the national and scholastic levels by 2009 . There are four staffers dedicated to women 's football in the Gambia Football Association , and representation of women on the board is required by the association 's charter .
The plain maskray or brown stingray ( Neotrygon annotata ) is a species of stingray in the family Dasyatidae . It is found in shallow , soft @-@ bottomed habitats off northern Australia . Reaching 24 cm ( 9 @.@ 4 in ) in width , this species has a diamond @-@ shaped , grayish green pectoral fin disc . Its short , whip @-@ like tail has alternating black and white bands and fin folds above and below . There are short rows of thorns on the back and the base of the tail , but otherwise the skin is smooth . While this species possesses the dark mask @-@ like pattern across its eyes common to its genus , it is not ornately patterned like other maskrays .
Benthic in nature , the plain maskray feeds mainly on caridean shrimp and polychaete worms , and to a lesser extent on small bony fishes . It is viviparous , with females producing litters of one or two young that are nourished during gestation via histotroph ( " uterine milk " ) . This species lacks economic value but is caught incidentally in bottom trawls , which it is thought to be less able to withstand than other maskrays due to its gracile build . As it also has a limited distribution and low fecundity , the International Union for Conservation of Nature ( IUCN ) has listed it as Near Threatened .
The first scientific description of the plain maskray was authored by Commonwealth Scientific and Industrial Research Organisation ( CSIRO ) researcher Peter Last in a 1987 issue of Memoirs of the National Museum of Victoria . The specific name annotatus comes from the Latin an ( " not " ) and notatus ( " marked " ) , and refers to the ray 's coloration . The holotype is a male 21 @.@ 2 cm ( 8 @.@ 3 in ) across , caught off Western Australia ; several paratypes were also designated . Last tentatively placed the species in the genus Dasyatis , noting that it belonged to the " maskray " species group that also included the bluespotted stingray ( then Dasyatis kuhlii ) . In 2008 , Last and William White elevated the kuhlii group to the rank of full genus as Neotrygon , on the basis of morphological and molecular phylogenetic evidence .
In a 2012 phylogenetic analysis based on mitochondrial and nuclear DNA , the plain maskray and the Ningaloo maskray ( N. ningalooensis ) were found to be the most basal members of Neotrygon . The divergence of the N. annotata lineage was estimated to have occurred ~ 54 Ma . Furthermore , the individuals sequenced in the study sorted into two genetically distinct clades , suggesting that N. annotata is a cryptic species complex . The two putative species were estimated to have diverged ~ 4 @.@ 9 Ma ; the precipitating event was likely the splitting of the ancestral population by coastline changes .
The pectoral fin disc of the plain maskray is thin and diamond @-@ shaped with narrowly rounded outer corners , measuring 1 @.@ 1 – 1 @.@ 3 times longer than wide . The leading margins of the disc are gently concave and converge at a broad angle to the pointed tip of the snout . The small eyes are placed close together , and behind them are the spiracles . The nostrils are elongated and have a skirt @-@ shaped flap of skin between them . The small mouth bears prominent furrows at the corners and contains two slender papillae on the floor . Small papillae are also found around the outside of the mouth . There are five pairs of gill slits . The pelvic fins are fairly large and pointed .
The tail is short , barely exceeding the length of the disc when intact , and has a broad and flattened base leading to usually two stinging spines . After the stings , the tail becomes slender and bears a long ventral fin fold and a much shorter , lower dorsal fin fold . Most of the body lacks dermal denticles ; a midline row of 4 – 13 small , closely spaced thorns is present behind the spiracles , and another row of 0 – 4 thorns before the stings . The dorsal coloration is grayish green , becoming pinkish towards the disc margins ; there is a dark mask @-@ like shape around the eyes and a pair of small dark blotches behind the spiracles . The tail behind the stings has alternating black and white bands of variable width , ending with black at the tip . The underside is plain white and the ventral fin fold is light grayish in color . This species grows to 24 cm ( 9 @.@ 4 in ) across and 45 cm ( 18 in ) long .
The plain maskray inhabits the continental shelf of northern Australia from the Wellesley Islands in Queensland to the Bonaparte Archipelago in Western Australia , including the Gulf of Carpentaria and the Timor and Arafura Seas . There are unsubstantiated reports that its range extends to southern Papua New Guinea . It is the least common of the several maskray species native to the region . This species is a bottom @-@ dweller that prefers habitats with fine sediment . It has been recorded from between 12 and 62 m ( 39 and 203 ft ) deep , and tends to be found farther away from shore than other maskrays in its range .
The plain maskray generally hunts at the surface of the bottom substrate , rather than digging for prey . Its diet consists predominantly of caridean shrimp and polychaete worms . Small bony fishes are also eaten , along with the occasional penaeid prawn or amphipod . Larger rays consume a greater variety of prey and relatively more polychaete worms when compared to smaller rays . This species is parasitized by the tapeworm Acanthobothrium jonesi .
Like other stingrays , the plain maskray is viviparous with the developing embryos sustained to term by histotroph ( " uterine milk " ) produced by the mother . Mature females have a single functional ovary and uterus , on the left . Litter size is one or two ; the newborns measure 12 – 14 cm ( 4 @.@ 7 – 5 @.@ 5 in ) across . Males and females reach sexual maturity at disc widths of 20 – 21 cm ( 7 @.@ 9 – 8 @.@ 3 in ) and 18 – 19 cm ( 7 @.@ 1 – 7 @.@ 5 in ) respectively . The maximum lifespan is estimated to be 9 years for males and 13 years for females .
The main conservation threat to the plain maskray is incidental capture by commercial bottom trawl fisheries . In the present day , this is mostly caused by Australia 's Northern Prawn Fishery , which operates throughout its range . Although this species is discarded when caught , it is more delicate @-@ bodied than other maskrays and is thus unlikely to survive encounters with trawling gear . Historically , this species may also have been negatively affected by Japanese , Chinese , and Taiwanese trawlers that fished intensively off northern Australia from 1959 to 1990 . These factors , coupled with the plain maskray 's limited distribution and low reproductive rate , have resulted in its being assessed as Near Threatened by the International Union for Conservation of Nature ( IUCN ) .
The 2011 – 12 Columbus Blue Jackets season was the team 's 12th season in the National Hockey League ( NHL ) . The Blue Jackets ' record of 29 – 46 – 7 [ note 1 ] was the worst record in the NHL for 2011 – 12 and the first time in franchise history they finished in last place . It also marked the third straight year that they missed the playoffs . Consequently , they had the best chance to receive the first overall selection in the 2012 NHL Entry Draft lottery , but lost out to the Edmonton Oilers and received the second pick instead .
The Blue Jackets began the year with the worst start in franchise history and the worst by any team in an NHL season in 19 years . After an 11 – 25 – 5 start , Head Coach Scott Arniel was fired and replaced by Assistant Coach Todd Richards . The poor season prompted several personnel changes including the trade of All @-@ Star forward Jeff Carter , who was acquired with much fanfare during the off @-@ season . With the prospect of another rebuild looming the Blue Jackets ' captain and best player , Rick Nash , requested to be traded , though he would remain with the team for the entire season .
The team was involved in a controversial loss to the Los Angeles Kings , when the Staples Center clock appeared to freeze at 1 @.@ 8 seconds allowing the Kings time to score the tying goal , before winning in overtime . During the season Columbus managed only two winning streaks of three or more games . One of which came towards the end of the year helping the Blue Jackets finish with 65 points , the third worst point total in franchise history .
In the off @-@ season the Blue Jackets ' approach to building their team changed , moving from a team of young developing players into one with established players . The first deal General Manager Scott Howson made was the acquisition of All @-@ Star forward Jeff Carter on June 23 , 2011 . The deal sent Jakub Voracek , Columbus ' first @-@ round draft choice , the eighth overall , and their third @-@ round pick in the 2011 Draft to the Philadelphia Flyers in exchange for Carter . The trade received a positive response in Columbus from fans and management who felt they finally had a number one center to play alongside of their best player , Rick Nash . Next , they traded for the negotiating rights of soon to be free agent James Wisniewski . Wisniewski scored a career high 51 points during the 2010 – 11 season , splitting time between the New York Islanders and Montreal Canadiens . The point total was fifth @-@ highest in the league for defenseman scoring , tying Tobias Enstrom . The Blue Jackets came to terms with Wisniewski , just an hour prior to the start of free agency , signing him to a six @-@ year , $ 33 million deal .
Columbus also traded former first round draft pick Nikita Filatov to the Ottawa Senators for a third @-@ round pick in the 2011 Draft . Filatov had failed to live up to expectations in Columbus , playing in only 44 games over three seasons scoring six goals . Prior to the start of the season , the Blue Jackets were questioned for not signing a veteran back @-@ up to starting goaltender Steve Mason , as the former Calder Memorial Trophy winner had struggled in consecutive seasons . The Blue Jackets signed Mark Dekanich as the back @-@ up who had only 50 minutes of NHL experience prior to the start of the season . Columbus did sign a veteran Curtis Sanford to be their third string goaltender and to start for their American Hockey League ( AHL ) affiliate , the Springfield Falcons . Sanford had not played in the NHL since 2009 . During training camp , Dekanich suffered a high ankle sprain that was expected to keep him out of the line @-@ up for a month . Additionally , Sanford suffered a groin injury , leaving Allen York as the back @-@ up . York had only played four professional games , all in the AHL , entering the season .
After the first five games , all losses , Jeff Carter suffered a broken foot that kept him out of the line @-@ up for 10 games . While Carter was injured , the Blue Jackets continued to lose games . In the eighth game of the year , they had a chance to end the losing streak against the Ottawa Senators . Columbus held a 3 – 2 lead with under a minute to play . Jason Spezza tied the game on a late power play , and with just 4 @.@ 7 seconds remaining , Milan Michalek notched the winning goal for the Senators . The loss helped set a franchise record for futility with a 0 – 7 – 1 record to start a season . [ note 1 ] The losing streak came to an end three days later with a win over the Detroit Red Wings . During the game , several milestones were reached . James Wisniewski made his Columbus debut , Ryan Johansen and John Moore scored their first career NHL goals and Grant Clitsome had a career @-@ high three assists . Columbus was unable to create any momentum from the win , however , and continued to struggle , culminating in a 2 – 12 – 1 record , which was the worst start to an NHL season for any team in 19 years . With the team struggling , management attempted to " shake things up " by making some roster moves . The first move was the acquisition of center Mark Letestu from the Pittsburgh Penguins . Next , they traded defenseman Kris Russell to the St. Louis Blues for Nikita Nikitin . As the clubs slow start continued , there were rumors that Head Coach Scott Arniel would be fired and replaced with Ken Hitchcock . Hitchcock had previously coached the Blue Jackets to their only playoff appearance in club history and was still under contract with the franchise through to the end of the season . Before any of these rumors came to fruition , the St. Louis Blues asked Columbus for permission to hire Hitchcock , which the Blue Jackets allowed . Hitchcock began his Blues coaching career with a 6 – 1 – 2 record in his first nine games , while Columbus amassed a 6 – 13 – 3 record to start the season .
During the same time frame as the Hitchcock rumors , goaltender Curtis Sanford returned from his groin injury on November 13 . He made his first start of the season against the Boston Bruins , losing 2 – 1 in a shootout . Sanford continued his strong play , posting a 3 – 1 – 2 record , 1 @.@ 38 goals against average and .947 save percentage over his next six games . Sanford started 12 consecutive games before Steve Mason made his next start . The number of starts might not have been as numerous , but prior to the November 23 game , Mason was hit in the head by a shot from Rick Nash during pre @-@ game warm @-@ ups and suffered a concussion . Mason returned from his concussion after two games , making a start against the Vancouver Canucks . Mason allowed only one goal in the game despite suffering from cramping in the third period , temporarily being replaced by Sanford for just over three minutes . Columbus won the game 2 – 1 in a shootout , breaking a nine @-@ game losing streak to the Canucks . After the game , Arniel stated that Sanford was still seen as the team 's number one goaltender . However , Mason started four of the next six games with the Blue Jackets going 0 – 5 – 1 during that stretch .
With the losing continuing , more rumors began to surface . Unlike before , the rumors were about player moves rather than coaching changes . The majority of rumors were that the Blue Jackets would trade Rick Nash . While Howson stated that he had never brought up trading Nash in discussions , other teams had inquired about his availability . Nash stated that if Columbus felt it would make the franchise better than he would be willing to waive his no @-@ trade clause . Howson publicly stated that he had no intention of trading Nash . More rumors came to light when reports attributed to Réseau des sports stated that Carter was unhappy in Columbus and demanded a trade . Howson , Carter and his agent all denied that a trade request was ever made , and they were unsure where the reports were coming from . With the trade deadline approaching , speculation picked up on the Blue Jackets trading Carter . Reports were that Columbus was trying to trade Carter and that he was " 100 percent available . "
At the halfway point of the season , with the Blue Jackets barely into double digit wins with an 11 – 25 – 5 record , worst in the league , and sitting 20 points out of playoff position , Columbus fired Arniel . He was replaced by Assistant Coach Todd Richards on an interim basis . Richards had previously coached the Minnesota Wild . He recorded his first coaching victory for the Blue Jackets in his second game , a 4 – 3 win over the Phoenix Coyotes . The change in coaching did not change the fortunes of the team , as they reached the All @-@ Star break with a 13 – 30 – 6 record . At the break , Blue Jackets ' owner John P. McConnell sent out a letter to fans stating his understanding of their frustration . He added that action would be taken around the trade deadline , the Entry Draft and free agency to take the team in a new direction . When speaking of the season , McConnell stated " disappointing is not a strong enough word " and that he was committed to giving fans a team of which they can be proud of . He also thanked them for their dedication and passion , while reiterating that the team goal was to " win consistently and compete for the Stanley Cup . " Days later , a 250 @-@ person protest occurred outside of Nationwide Arena . Fans were upset with the Blue Jackets ' management and were calling for changes at the top . The same day the fans protested , it was announced that the franchise would host the 2013 All @-@ Star Game . Columbus was without a representative for the 2012 All @-@ star Game , but Ryan Johansen represented the club as a rookie participant in the Super Skills Competition . In the competition , Johansen participated in the Allstate Insurance NHL Breakaway Challenge , a shootout themed event judged by the fans . He received just 1 % of the vote and finished last .
Following the break , the Blue Jackets were on the road playing the Los Angeles Kings , and with the score tied late in the game , Kings ' defenseman Drew Doughty scored with just 0 @.@ 4 seconds remaining to win the game . Upon review of the goal it , was determined that the clock at Staples Center froze at 1 @.@ 8 seconds for over a full second , which would have resulted in time expiring prior to the goal being scored . Kings ' General Manager Dean Lombardi stated that the clock was correct and no extra time had been added due to the way the clock self @-@ corrects at various times . Howson stated on the team 's blog that " It is an amazing coincidence that with the Kings on a power play at Staples Center and with a mad scramble around our net in the dying seconds of the third period of a 2 – 2 hockey game that the clock stopped for at least one full second , " adding that , " Either there was a deliberate stopping of the clock or the clock malfunctioned . " NHL Senior Vice President of Hockey Operations Colin Campbell stated that the Blue Jackets were wronged , but that the outcome of the game could not be changed , and that the delay was not noticed by the off @-@ ice officials or the situation room in Toronto . To determine the true cause of the clock pause , the NHL launched an investigation , talking with the clock 's manufacturer and interviewing Staples Center staff .
Two weeks prior to the NHL trade deadline , Columbus announced that unlike earlier in the season , they would listen to trade proposals involving Rick Nash , though they were not actively shopping him . Howson stated that the team was open to all options for improving the team , including trading Nash . Speculation was that in return for Nash the Blue Jackets would ask for a " combination of young , proven players , high @-@ end prospects and draft picks . " Leading up to the trade deadline , the Blue Jackets dealt Antoine Vermette to the Phoenix Coyotes for two draft picks and goaltender Curtis McElhinney . Despite being injured at the time , the acquisition of McElhinney was believed to give Columbus the flexibility to trade Curtis Sanford . The following day , on February 23 , Columbus traded Jeff Carter to the Kings . In the deal , Columbus acquired defenseman Jack Johnson and a first @-@ round draft pick ; the team was given the choice of taking the pick in either 2012 or 2013 . At the deadline , Columbus was unable to come to terms on a deal involving Nash , but they did make one more move ; they sent center Samuel Pahlsson to the Vancouver Canucks in exchange for two fourth @-@ round draft picks and minor league defenseman Taylor Ellington . Following the trade deadline , Howson announced that the team had attempted to trade Nash at the player 's request . Nash stated that he had requested the trade after being informed that the franchise was going into another rebuilding phase . He further noted that he felt that he " could be a huge part of that towards bringing assets in , " and in his view " it was the best thing for the team , the organization , and personally for [ his ] career . " After the personnel changes , the Blue Jackets closed out the month with a three @-@ game losing streak .
Columbus started March with a 2 – 0 shutout against the Colorado Avalanche . They proceeded to win their next game against the Phoenix Coyotes 5 – 2 , which marked the first time that the Blue Jackets posted back @-@ to @-@ back regulation victories during the season . Columbus again defeated the Coyotes three days later to earn their first three @-@ game win streak of the season . They extended the streak to four with a win over the Los Angeles Kings before it came to an end with a 4 – 1 loss to the St. Louis Blues . It was the only four @-@ game win streak of the season for the Blue Jackets . They immediately matched their four @-@ game win streak with a four @-@ game losing streak and with ten games remaining , the Blue Jackets were the first team eliminated from playoff contention . Shortly after being eliminated , they were defeated by the Edmonton Oilers 6 – 3 ; the loss clinched last place in the NHL for Columbus . It was the first time in franchise history the Blue Jackets finished in 30th place .
Three days later , on March 28 , goaltender Steve Mason was injured in the morning skate when a shot from Colton Gillies hit him in the mask . With Sanford again injured , York made an emergency start . Playing against the Detroit Red Wings , York made 29 saves , including 17 in the third period , helping Columbus to a 4 – 2 victory and giving York his first career NHL win . York remained the starter and led the Blue Jackets to a second three @-@ game winning streak . In his fourth start , Columbus was shutout by the Coyotes despite a franchise @-@ record 54 shots on goal , losing 2 – 0 . The 54 saves by Phoenix goaltender Mike Smith set an NHL record for a regulation shutout . Mason returned to the starter 's role for the final two games , winning both . The two victories gave Columbus 65 points for the year , their third @-@ lowest total in franchise history .
The Blue Jackets struggled in shorthanded situations , allowing the most power @-@ play goals in the League , with 64 , and having the lowest penalty @-@ kill percentage , at 76 @.@ 64 %
Finishing with the worst record in the NHL , Columbus had the best chance of receiving the first overall pick in the 2012 draft . With the NHL 's weighted draft lottery the Blue Jackets had a 48 @.@ 2 % chance of drafting first overall . However , the lottery was won by the Edmonton Oilers , who proceeded to leapfrog Columbus and secure the number one draft pick for a third consecutive year . It was the fifth time that the Blue Jackets were dropped one draft position in the franchise 's 12 lottery participations .
A month later , on May 14 , the Blue Jackets announced that Richards would remain as head coach and signed him to a two @-@ year contract . During the press conference , Howson noted , " Our team continuously improved under Todd and he has earned the opportunity to build upon the work he started . " Columbus posted an 18 – 21 – 2 record under Richards , including winning seven of their final 11 games .
Since being founded as an expansion team , the Blue Jackets have played in the Central Division of the Western Conference . Division rivals Chicago Blackhawks , Detroit Red Wings , Nashville Predators and St. Louis Blues , all made the playoff during the 2011 – 12 season , which helped Columbus finish 36 points behind fourth place Chicago and 44 points out of first .
Divisions : CE – Central , NW – Northwest , PA – Pacific
bold - qualified for playoffs , y – Won division , p – Won Presidents ' Trophy ( best record in NHL )
Red background indicates regulation loss ( 0 points ) .
Silver background indicates overtime / shootout loss ( 1 point ) .
In ice hockey , a combination of a player 's goals and assists are collectively called points . Penalty minutes are the total number of minutes assigned to a player for infractions assessed during the season.Plus @-@ minus is a statistic that tracks when a player was on the ice while goals were scored , both for and against their team , though some in game situations will not effect the statistic . Below is a listing of all player statistics for the Blue Jackets during the season .
Penalty minutes ; + / - = Plus / minus
Goals Against ; GAA = Goals Against Average ; SA = Shots Against ; SV
† Denotes player spent time with another team before joining Blue Jackets . Stats reflect time with the Blue Jackets only . ‡ Traded mid @-@ season
When Mason was injured in warm @-@ ups late in the year , Columbus was without an active goaltender on their roster . To remedy the situation , the team signed former University of Michigan goaltender Shawn Hunwick to a one @-@ day , amateur tryout contract . After being eliminated from the NCAA Tournament just days prior , Hunwick skipped an astronomy class and drove his worn down 2003 Ford Ranger to Columbus to make the game . He served as the back @-@ up to Allen York during the game , and the following day , he signed a contract for the remainder of the year . With Mason returning from injury , Hunwick was third on the team 's depth chart when an injury to York allowed Hunwick to remain as the back @-@ up for the final two games of the year . In the final game of the season , the Blue Jackets were leading the Islanders 7 – 3 with 2 : 33 remaining when , at the behest of his teammates , Head Coach Todd Richards put Hunwick in to finish the game . He did not face a shot . Hunwick was the franchise record ninth player to make his NHL debut during the season . Conversely , Vaclav Prospal played in his 1,000th NHL game during the year .
During the off @-@ season the Blue Jackets parted ways with defensemen Jan Hejda , Anton Stralman , Sami Lepisto and Mike Commodore . Hejda , who played four of his first five NHL seasons with the Blue Jackets , was offered a contract by Columbus , but felt that the organization undervalued him and left via free agency . Columbus had offered him a three @-@ year , $ 7 @.@ 5 million contract . He instead signed a four @-@ year , $ 13 million deal with the Colorado Avalanche . Stralman and Lepisto were not given qualifying offers which made them unrestricted free agents , and both signed with other teams . Commodore had originally signed a big contract with the Blue Jackets in 2008 , but fell out of favor . He was waived , sent to the minors and eventually had his contract bought out . In order to replace the departed players , Columbus not only acquired James Wisniewski , but also signed ten @-@ year NHL veteran Radek Martinek . Martinek played only seven games with the Blue Jackets before suffering a concussion and missing the remainder of the season . Brett Lebda was brought in to replace him .
The Gregorian Tower ( Italian : Torre Gregoriana ) or Tower of the Winds ( Italian : Torre dei Venti ) is a round tower located above the Gallery of Maps , which connects the Villa Belvedere with the Apostolic Palace in Vatican City . The tower was built between 1578 and 1580 to a design by the Bolognese architect Ottaviano Mascherino ( who was credited with building the Apostolic Palace ) mainly to promote the study of astronomy for the Gregorian Calendar Reform which was commissioned by Pope Gregory XIII and promulgated in 1582 . It was then also known as the Tower of Winds . The tower is now called the " Specola Astronomica Vaticana " , the Vatican Observatory . Four stages of progressive development have occurred since it was first established . The tower was an edifice of great value for astronomical observations made using a sundial as they provided essential confirmation of the need to reform the Julian calendar .
The first stage of building of the tower , as recorded by Leo XIII in his motu proprio Ut mysticam of 1891 , is credited to Pope Gregory XIII , Pope from 1572 to 1585 . The directive was to build a tower at a suitable location in the Vatican and equip it with the " greatest and best instruments of the time " . The design was effected after a series of meetings of the experts who had been appointed to reform the Julian calendar , in use since 45 BC , to verify their proposed reforms . Fr . Christoph Clavius , a Jesuit mathematician from the Roman College , was the expert on the committee who suggested the new system for the observations . The 73 metres ( 240 ft ) tower was then built above the museum and library , flanked by the Belvedere and della Pigna courtyards . The instrumentation for the observation of the sun rays falling over it consisted of a meridian line designed by Ignazio Danti of Perugia . It was in the form of a circular marble plate in the centre , embellished with scientific designs . The tower still remains today , but has undergone improvements over the centuries .
The second stage of construction in the 17th and 18th centuries , when the tower was under the charge of the Vatican librarian , involved Mgr . Filippo Luigi Gilii , a clergyman of St. Peter 's Basilica . Earlier in 1797 , Pius VI gave approval to placing a Latin inscription Specula Vaticana at the entrance to the upper part of the tower , which was implemented by Cardinal Zelada with plans to enhance the instrumentation system in the tower 's observatory . The original observatory was then set up above the second level of the tower with the agreement of Pope Pius VI . Its instrumentation , apart from many normal devices ( such as meteorological and magnetic equipment , with a seismograph and a small transit and pendulum clock , ) was noted for the Dolland Telescope . The instrumentation facilitated recording of occurrences of eclipse , appearance of comets , Satellites of Jupiter and Mercury ’ s transit . As an addition , under the patronage of Pope Pius X , four rotary observatory domes were also added at strategic locations on the 1 @,@ 300 feet ( 400 m ) long fortification walls , more than a thousand years old . Mgr . Gilii , highly respected as a polyglot with a knowledge of physics , biology , archeology and the Hebrew language , was in charge of the observatory from 1800 to 1821 . He carried out continuous meteorological observations ( twice a day at 6 AM and 2 PM ) conforming to the programme of the Mannheim Meteorological Society . While the observation records for seven years were published , the balance data in a manuscript form was preserved in the Vatican Library . Subsequent to Gilii 's death in 1821 , the observatory on the tower was discontinued and the instruments were moved to the observatory at the Roman College . Established in 1787 , it was considered more suitable for making observations than the Vatican .
The revival of the observatory on the Gregorian Tower was initiated by the Barnabite Francesco Denza with the approval of Pope Leo XIII . High quality instruments were procured , partly with generous donations from Hicks of London , and the automatic recording instruments were procured from Richard in Paris . A four @-@ inch equatorial , a three @-@ inch transit instrument , and four pendulum clocks with two chronometers , were also procured from the observatory at Modena . In 1888 , the gift of a 16 inch long telescope to Pope Leo XIII , became a part of the observatory . Father Denza joined the observatory in 1889 after it was upgraded with more modern instruments . The same year , a second tower was built some 400 metres ( 1 @,@ 300 ft ) away from the main Gregorian Tower , overlooking the Vatican Gardens behind St. Peter 's Basilica on the south @-@ west border . It was built to a diameter of 17 metres ( 56 ft ) with a lower wall thickness of 4 @.@ 5 metres ( 15 ft ) , which could bear the load of a 13 inch photographic refractor , newly procured from Paris . Augustinian Father Rodriguez was the expert meteorologist who held the post of director from 1898 to 1905 . In 1891 , Pope Leo XIII , promulgating the motu proprio Ut mysticam , designated the second tower as the seat of the newly established Vatican Observatory , a decision which required altering the roof to provide a flat terrace for astronomical observations .
The fourth stage involved remedying the problem of communicating between the two towers during the time of Pope Pius X. His plans were to make the Gregorian Tower into a historical tower and to record and carry out observations at the second tower by linking the two towers along the fortified wall with a 83 metres ( 272 ft ) iron bridge spanning the gap . At the west end of this bridge , a four @-@ inch equatorial was installed on semicircular bastion . The east end of the bridge , above the barracks of the gendarmes , had a heliograph , with a camera attached , used to photograph the Sun ( photoheliograph ) . A new 16 @-@ inch visual telescope , called Torre Pio X , was erected in the second tower . As a result of these modifications , the original library was moved to the Pontifical Academy Lincei , and the old meteorological and seismic instruments were shifted to the Valle di Pompei observatory . The new Astronomical Library was housed in two rooms of the building . The two new Repsold machines were used for recording on the astrographic plates . The recorded observations were published along with explanatory notes together with the last two series of the atlas of stars . Charts were printed on silver bromide paper .
The tower had two floors and a mezzanine . On the first floor was the famous Sundial Room or Meridian Room , which was initially an open loggia . Pope Urban VIII had it enclosed and it was subsequently decorated with long sequences of frescoes painted between 1580 and 1582 by Simon Lagi and the two Flemish artists Paul and Matthijs Bril . Today the tower has paintings by Cristoforo Roncalli and Matteino da Siena .
The Sundial Room , also called the Meridian Hall , was once the residence of Queen Christina of Sweden , then newly converted to Catholicism . The room was further modified by two additions which gave it its current name : a sundial , and a delicate but sophisticated anemoscope which was fixed to the ceiling of the Meridian Hall . These were created by Ignazio Danti , the papal cosmographer , in association with the Gregorian Calendar Reform . The sundial consisted of a straight line in white marble running across the floor in a north @-@ south direction , intended to measure the height of the Sun at noon according to the seasons of the year . The observations made with the sundial provided essential confirmation of the need to reform the Julian calendar . The anemoscope , in contrast , was a complex mechanism attached to the ceiling which was used to measure the strength and direction of the wind but soon stopped functioning . The instrument may have led to the other name of the tower , Tower of the Winds ; however , an ancient observatory at Athens was also called the Tower of the Winds and might have been the source for inspiration .
The interior walls and ceiling of the hall were richly decorated , in some cases with gaudy frescoes of the hills and Roman countryside , the Pantheons , religious themes , the buildings surrounding the area , and naval shipwrecks with Jesus calming the storm and so forth .
" There 's Got to Be a Way " is a song by American singer and songwriter Mariah Carey from her self @-@ titled debut studio album ( 1990 ) . Columbia released it as the fifth and final single from the album in the United Kingdom . It was one of four songs Carey wrote with Ric Wake during their first recording session together , but " There 's Got to Be a Way " was the only composition to make the final track listing . It is a socio @-@ political conscious R & B @-@ pop song which addresses the existence of poverty , racism and war in the world which gradually becomes more aspirational and positive as it progresses . The track garnered a mixed reception upon the album 's release in 1990 . While Carey 's vocals were praised , it was seen as too political . An accompanying music video highlights social injustices . The song reached number 54 on the UK Singles Chart .
" There 's Got to Be a Way " was written by Mariah Carey and Ric Wake for Carey 's self @-@ titled debut studio album ( 1990 ) . It was written during Carey and Wake 's first recording session together . They composed four songs , but only " There 's Got to Be a Way " was chosen for the final track listing . Co @-@ produced by Wake and Narada Michael Walden , it appears as the second of ten songs on the track listing . The track was recorded and engineered by Bob Cadway at Cove City Sound Studios and The Power Station , both located in New York City . He was assisted by Dana Jon Chappelle . It was mixed by David Frazer at Tarpan Studios in San Rafael . The keyboards , bass and rhythm engineering was carried out by Louis Biancaniello , while Joe Franco performed the percussion , Vernon " Ice " Black played the guitar , and Rich Tancredo also performing on the keyboards . Walter Afanasieff played the synth horns . Carey provided her own background vocals along with Billy T. Scott , Jamiliah Muhammed and The Billy T. Scott Ensemble . The song was released as the fifth and final single from the album in the United Kingdom . It is available to purchase as a CD single while the remixes are available on vinyl .
" There 's Got to Be a Way " is an R & B @-@ pop music song with elements of gospel . The theme of social activism can be heard in the lyrics " There ’ s got to be a way / to connect this world today . " The song begins with Carey publicly denouncing the existence of poverty and racism in the world , and she uses the bridge to shift the lyrics towards an uplifting and aspirational tone . Carey suggests we should be more tolerant of each other and not resort so readily to war in the lyrics " Couldn 't we accept each other / Can 't we make ourselves aware . "
Music critic Robert Christgau felt that Carey was being too political in her " brave , young , idealistic attack " on war and destitution . Ralph Novak , David Hiltbrand and David Grogan of People wrote that it is a " testimony to her talent that she does so much with so little . " They continued to write that Carey 's " tone and clarity " makes " There 's Got to Be a Way " a " mesmerizing " track . To mark twenty @-@ five years since the release of Mariah Carey in June 1990 , Billboard writer Trevor Anderson wrote a track @-@ by @-@ track review of the album in June 2015 . He noted that " There 's Got to Be a Way " follows the same melodic tone as the album 's opener " Vision of Love " but highlighted their stark lyrical differences , as the former is about social activism and the latter is about love . Although he praised Carey 's vocals , writing that she " deploys " one of her best whistle notes of her career , he felt that " the aim for broad appeal comes at the expense of memorable lyrics . "
The accompanying music video begins with a shot of an empty street , followed by clips of disadvantaged and poorer members of society going about their daily activities . Two men play dominoes on a wooden crate outside a building , a gang make fun of an elderly man hanging newspapers outside his store and an obese woman walks down the street . Clips of Carey leaning against a wall and sitting on some steps looking on at what is happening are shown . As the first chorus begins , everyone starts to dance joyfully in the street and help those in need . A gospel choir comes out of one of the buildings as the street becomes more crowded with people of all ages and backgrounds rejoicing and getting along with each other . One of the shops in the background has a neon light outside the entrance which says " Jesus Saves " .
" There 's Got to Be a Way " ( Original album version ) – 4 : 52
" There 's Got to Be a Way " ( 7 " remix )
" There 's Got to Be a Way " ( 12 " remix )
" There 's Got to Be a Way " ( Alternative Vocal Dub Mix )
Nebraska Highway 88 ( N @-@ 88 ) is a highway in northwestern Nebraska . It has a western terminus at Wyoming Highway 151 ( WYO 151 ) at the Wyoming – Nebraska state line . The road travels eastward to N @-@ 71 , where it turns south . N @-@ 88 continues east to south of Bridgeport . The road turns north , ends at an intersection with U.S. Highway 385 ( US 385 ) and N @-@ 92 in Bridgeport . The route was designated in 1937 , before the official state highway system was created . It was extended to the state line in 1986 .
N @-@ 88 starts at the Nebraska – Wyoming state line in Banner County , where WYO 151 ends , and travels northeast . The road quickly bends east after less than one mile ( 1 @.@ 6 km ) , and continues in a straight line . For the next twenty miles ( 32 km ) , N @-@ 88 intersects minor streets , through rural farmland . The route turns south at N @-@ 71 , and becomes concurrent . Four miles ( 6 @.@ 4 km ) later , N @-@ 88 turns east , ending the concurrency with N @-@ 71 . The route continues to travel through farmland for sixteen miles ( 26 km ) , where it enters Morrill County . The road crosses over Pumpkin Creek four times , and enters the unincorporated community of Redington . Two rock formations , Courthouse and Jail Rocks , become visible from the road . N @-@ 88 turns north toward Bridgeport soon after . The road crosses over Pumpkin Creek for the fifth time , and enters into Bridgeport five miles ( 8 @.@ 0 km ) later . The road intersects a railroad owned by BNSF Railway . N @-@ 88 turns northeast soon after , and ends at the intersection of US 385 and N @-@ 92 . In 2012 , Nebraska Department of Roads ( NDOR ) calculated as many as 2 @,@ 410 vehicles traveling on the N @-@ 71 / N @-@ 88 concurrency , and as few as 315 vehicles traveling east of the Banner – Morrill county line . This is expressed in terms of annual average daily traffic ( AADT ) , a measure of traffic volume for any average day of the year . Only the N @-@ 71 / N @-@ 88 concurrency is part of the National Highway System ( NHS ) , a network of highways identified as being most important for the economy , mobility and defense of the nation .
N @-@ 88 was unofficially designated around 1937 , connecting from N @-@ 29 , to N @-@ 86 and N @-@ 19 in Bridgeport . The route remained relatively the same as the state highway system was officially designated . Before 1955 , Nebraska did not have an adequate legal instrument to define the state highway system . By 1960 , N @-@ 19 was renumbered to US 385 , and US 26 was rerouted north near Bridgeport . The old alignment became part of N @-@ 92 . Two years later , N @-@ 29 was renumbered to N @-@ 71 . Between 1981 @-@ 82 , a road appeared on the official state map , extending from WYO 151 to N @-@ 71 . That road became part of N @-@ 88 by 1986 . No significant changes have been made since .
Atlanta was a casemate ironclad that served in the Confederate and Union Navies during the American Civil War . She was converted from a Scottish @-@ built blockade runner named Fingal by the Confederacy after she made one run to Savannah , Georgia . After several failed attempts to attack Union blockaders , the ship was captured by two Union monitors in 1863 when she ran aground . Atlanta was floated off , repaired , and rearmed , serving in the Union Navy for the rest of the war . She spent most of her time deployed on the James River supporting Union forces there . The ship was decommissioned in 1865 and placed in reserve . Several years after the end of the war , Atlanta was sold to Haiti , but was lost at sea in December 1869 on her delivery voyage .
Fingal was designed and built as a merchantman by J & G Thomson 's Clyde Bank Iron Shipyard at Govan in Glasgow , Scotland , and was completed early in 1861 . She was described by Midshipman Dabney Scales , who served on the Atlanta before her battle with the monitors , as being a two @-@ masted , iron @-@ hulled ship 189 feet ( 57 @.@ 6 m ) long with a beam of 25 feet ( 7 @.@ 6 m ) . She had a draft of 12 feet ( 3 @.@ 7 m ) and a depth of hold of 15 feet ( 4 @.@ 6 m ) . He estimated her tonnage at around 700 tons bm . Fingal was equipped with two vertical single @-@ cylinder direct @-@ acting steam engines using steam generated by one flue @-@ tubular boiler . The engines drove the ship at a top speed of around 13 knots ( 24 km / h ; 15 mph ) . They had a bore of 39 inches ( 991 mm ) and a stroke of 30 inches ( 762 mm ) .
The ship briefly operated between Glasgow and other ports in Scotland for Hutcheson 's West Highland Service before she was purchased in September 1861 by James D. Bulloch , the primary foreign agent in Great Britain for the Confederacy , to deliver the military and naval ordnance and supplies that he had purchased . To disguise his control of Fingal , and the destination of her cargo , Bulloch hired an English crew and captain and put out his destination as Bermuda and Nassau in the Bahamas . The cargo was loaded in Greenock in early October , although Bullock and the other passengers would not attempt to board until they rendezvoused with the ship at Holyhead , Wales . On the night 14 / 15 October , as she was slowly rounding the breakwater at Holyhead , Fingal rammed and sank the Austrian brig Siccardi , slowly swinging at anchor without lights . Bulloch and the passengers embarked in the steamer while Bulloch dispatched a letter to his financial agents instructing them to settle damages with the brig 's owners because he could not afford to take the time to deal with the affair lest he and Fingal be detained . The ship reached Bermuda on 2 November and , after leaving port on 7 November , Bulloch informed the crew that the steamer 's real destination was Savannah , Georgia ; he offered to take anyone who objected to the plan to Nassau . However , all of the crew agreed to join in the effort to run the Union blockade . Fingal was able slip safely into the Savannah estuary in a heavy fog on the night of 12 November without sighting any blockaders .
While Fingal was discharging her cargo , Bulloch went to Richmond to confer with Stephen Mallory , Secretary of the Navy . Mallory endorsed Bulloch 's plan to load Fingal with cotton to sell on the Navy Department 's account to be used to purchase more ships and equipment in Europe . He returned to Savannah on 23 November and it took him almost a month to purchase a cargo and acquire enough coal . He made one attempt to break through the blockade on 23 December , but it proved impossible to do as the Union controlled every channel from Savannah , aided by their occupation of Tybee Island at the mouth of the Savannah River . Bulloch reported to Mallory in late January 1862 that breaking out was hopeless so Mallory ordered him to turn the ship over to another officer and to return to Europe some other way .
The brothers Asa and Nelson Tift received the contract to convert the blockade runner into an ironclad in early 1862 with the name of Atlanta , after the city in Georgia . This was largely financed by contributions from the women of Savannah . Fingal was cut down to her main deck and large wooden sponsons were built out from the sides of her hull to support her casemate . After the conversion , Atlanta was 204 feet ( 62 @.@ 2 m ) long overall and had a beam of 41 feet ( 12 m ) . Her depth of hold was now 17 feet ( 5 @.@ 2 m ) and she now had a draft of 15 feet 9 inches ( 4 @.@ 8 m ) . Atlanta now displaced 1 @,@ 006 long tons ( 1 @,@ 022 t ) and her speed was estimated at 7 – 10 knots ( 13 – 19 km / h ; 8 @.@ 1 – 11 @.@ 5 mph ) .
The armor of the casemate was angled at 30 ° from the horizontal and made from two layers of railroad rails , rolled into plates 2 inches ( 51 mm ) thick and 7 inches ( 180 mm ) wide . The outer layer ran vertically and the inner layer horizontally . Her armor was backed by 3 inches ( 76 mm ) of oak , vertically oriented , and two layers of 7 @.@ 5 inches ( 191 mm ) of pine , alternating in direction . The bottom of the casemate was some 20 inches ( 508 mm ) from the waterline and its top was 8 feet 6 inches ( 2 @.@ 59 m ) above the waterline . The pyramidal pilothouse was armored in the same way and had room for two men . The upper portion of Atlanta 's hull received two inches of armor .
The rectangular casemate was pierced with eight narrow gun ports , one each at the bow and stern and three along each side . Each gun port was protected by an armored shutter made of two layers of iron riveted together and allowed the guns to elevate only to a maximum of + 5 to + 7 ° . Atlanta was armed with single @-@ banded , 7 @-@ inch ( 178 mm ) Brooke rifles on pivot mounts at the bow and stern . The middle gun port on each side was occupied by a single @-@ banded , 6 @.@ 4 @-@ inch ( 163 mm ) Brooke rifle . The 17 @-@ caliber , seven @-@ inch guns weighed about 15 @,@ 000 pounds ( 6 @,@ 800 kg ) and fired 80 @-@ pound ( 36 kg ) armor @-@ piercing " bolts " and 110 @-@ pound ( 50 kg ) explosive shells . The equivalent statistics for the 18 @.@ 5 @-@ caliber , 6 @.@ 4 @-@ inch gun were 9 @,@ 110 pounds ( 4 @,@ 130 kg ) with 80 @-@ pound bolts and 64 @-@ pound ( 29 kg ) shells . Atlanta was also armed with a 20 @-@ foot ( 6 @.@ 1 m ) , solid iron , ram that was reinforced by a series of vertical steel bars . In front of the ram was a spar torpedo that carried 50 pounds ( 23 kg ) of black powder on a wooden pole connected to an iron lever that could be raised or lowered by means of pulleys .
On 31 July 1862 , under the command of Lieutenant Charles H. McBlair , Atlanta conducted her sea trials down the Savannah River toward Fort Pulaski . The ship proved to be difficult to steer , and the additional weight of her armor and guns significantly reduced her speed and increased her draft . This latter was a real problem in the shallow waters near Savannah . She also leaked significantly , and her design virtually eliminated air circulation . One report said that " it was almost intolerable on board the Atlanta , there being no method of ventilation , and the heat was intense . " Scales commented in his diary , " What a comfortless , infernal and God @-@ forsaken ship ! ! "
Attempts were made to fix the problems and were at least partially successful in stopping many of the leaks . The ship was commissioned on 22 November and became the flagship of Flag Officer Josiah Tattnall , commander of the naval defenses of Georgia . Under pressure from Mallory to engage the blockading ships , Tattnall attempted to engage them before any ironclads arrived on 5 January 1863 , but army engineers could not clear the obstacles blocking the channel in a timely manner , despite early coordination being made by Tattnall to do so . It took another month to actually clear the obstacles and two monitors arrived before the end of January . Nonetheless Tattnall attempted to pass through the obstructions during high tide on 3 February , but high winds prevented the water from rising enough to allow the ship to do so . After Atlanta successfully passed through them on 19 March , Tattnall planned to attack the Union base at Port Royal , South Carolina while the monitors were attacking Charleston . Deserters revealed Tatnall 's plan while he was waiting at the head of Wassaw Sound and he was forced to retreat when three monitors augmented the defenses at Port Royal . Dissatisfied with Tattnall 's perceived lack of aggressiveness , Mallory replaced Tattnall as commander of the Savannah squadron later that month with Commander Richard L. Page . Page , in his turn was relieved in May by Commander William A. Webb ; Atlanta remained the squadron flagship throughout this time .
Webb demonstrated his aggressiveness when he attempted to sortie on the first spring tide ( 30 May ) after taking command , but Atlanta 's forward engine broke down after he had passed the obstructions , and the ship ran aground . She was not damaged although it took over a day to pull her free . He planned to make another attempt on the next full tide , rejecting Mallory 's idea that he wait until the nearly complete ironclad Savannah was finished before his next sortie . In the meantime , Rear Admiral Samuel F. Du Pont , commander of the South Atlantic Blockading Squadron , had ordered the monitors Weehawken and Nahant into Wassaw Sound . Commander John Rodgers in Weehawken had overall command of the two ships .
In the early evening of 15 June , Webb began his next attempt by passing over the lower obstructions in the Wilmington River and spent the rest of the night coaling . He moved forward the next evening to a concealed position within easy reach of the monitors for an attack early the following morning . Webb planned to sink one of the monitors with his spar torpedo and then deal with the other one with his guns . The gunboat Isondiga and the tugboat Resolute were to accompany him to tow one or both of the monitors back to Savannah .
A lookout aboard Weehawken spotted Atlanta at 04 : 10 on the morning of 17 June . When the latter ship closed to within about 1 @.@ 5 miles ( 2 @.@ 4 km ) of the two Union ships , she fired one round from her bow gun that passed over Weehawken and landed near Nahant . Shortly afterward , Atlanta ran aground on a sandbar ; she was briefly able to free herself , but the pressure of the tide pushed her back onto the sandbar . This time Webb was unable to get off and the monitors closed the range . When Weehawken , the leading ship , closed to within 200 – 300 yards ( 180 – 270 m ) she opened fire with both of her guns . The 11 @-@ inch ( 279 mm ) shell missed , but the 15 @-@ inch ( 381 mm ) shell struck the ironclad above the port middle gun port , penetrated her armor and broke the wooden backing behind it , spraying splinters and fragments that disabled the entire gun crew and half the crew of the bow gun , even though it failed to cleanly penetrate through the backing . The next shot from the 11 @-@ inch Dahlgren gun struck the upper hull and started a small leak even though it failed to penetrate the two @-@ inch armor there . The next shell from the 15 @-@ inch Dahlgren glanced off the middle starboard gun shutter as it was being opened , wounding half the gun 's crew with fragments . The final shell was also from the 15 @-@ inch Dahlgren and it struck the top of the pilothouse , breaking the armor there and wounding both pilots in it . By this time , Atlanta had been able to fire only seven shots , none of which hit either Union ship , and was hard aground with high tide not due for another hour and a half . Weehawken and Nahant were able to freely maneuver into positions from which the Atlanta 's narrow gun ports would not allow her to reply and the damage already inflicted by the former ship made further resistance futile . Webb surrendered his ship within 15 minutes of opening fire , before Nahant even had a chance to fire . Of the ironclad 's 21 officers and 124 enlisted men , one man was killed and another sixteen were wounded badly enough to require hospitalization .
Atlanta was easily pulled free by the Union ships and she reached Port Royal under her own power . Not badly damaged , she was repaired and bought by the Union Navy . The prize money of $ 350 @,@ 000 was shared between the crews of Weehawken , Nahant and the gunboat Cimarron , the only ships within signaling distance . The ship retained her name and was commissioned again on 2 February 1864 , rearmed with a pair of 8 @-@ inch ( 203 mm ) , 150 @-@ pound Parrott rifles in the bow and stern and 6 @.@ 4 @-@ inch , 100 @-@ pound Parrott rifles amidships . The 150 @-@ pound Parrott rifle weighed 16 @,@ 500 pounds ( 7 @,@ 500 kg ) and was 17 calibers long . The 100 @-@ pounder weighed 9 @,@ 800 pounds ( 4 @,@ 400 kg ) and was 20 calibers long . It fired a 100 @-@ pound ( 45 kg ) shell a distance of 6 @,@ 900 yards ( 6 @,@ 300 m ) at an elevation of + 25 ° . All four of her Brooke rifles are currently located in Willard Park in the Washington Navy Yard . Atlanta was assigned to the North Atlantic Blockading Squadron and spent most of her time stationed up the James River where she could support operations against Richmond and defend against a sortie by the ironclads of the James River Squadron . On 21 May 1864 , she and the gunboat Dawn fired on and dispersed Confederate cavalry that was attacking Fort Powhatan and she was deployed further upriver in February 1865 after the Battle of Trent 's Reach to better blockade the Confederate ironclads at Richmond .
After the end of the war in April , Atlanta was decommissioned in Philadelphia on 21 June 1865 and placed in reserve at League Island . She was sold to Sam Ward on 4 May 1869 for the price of $ 25 @,@ 000 and subsequently delivered to representatives of Haiti on 8 December by Sydney Oaksmith , a lawyer who had received an advance of $ 50 @,@ 000 on her purchase price of $ 260 @,@ 000 . The ship was briefly seized by the Customs Service , possibly for violations of neutrality laws as she had just loaded four large guns and a number of recruits for the forces of Sylvain Salnave , President of Haiti , who was embroiled in a civil war . Atlanta was released and sailed for Port @-@ au @-@ Prince three days later . She broke down in Delaware Bay and had to put in at Chester , Pennsylvania for repairs . The ship , now renamed either Triumph or Triumfo , departed on 18 December 1869 and vanished en route , apparently sinking with the loss of all hands , either off Cape Hatteras or the Delaware Capes .
Jacqueline Fernandez ( born 11 August 1985 ) is a Sri Lankan actress , former model , and the winner of the 2006 Miss Universe Sri Lanka pageant . As Miss Universe Sri Lanka she represented her country at the 2006 world Miss Universe pageant . She graduated with a degree in mass communication from the University of Sydney , and worked as a television reporter in Sri Lanka .
While on a modelling assignment in India in 2009 , Fernandez successfully auditioned for Sujoy Ghosh 's fantasy drama Aladin , which marked her acting debut . Fernandez ' breakthrough role was in Mohit Suri 's psychological thriller Murder 2 ( 2011 ) , her first commercial success . This was followed by glamorous roles in the ensemble @-@ comedy Housefull 2 ( 2012 ) and its sequel Housefull 3 , and the action thriller Race 2 ( 2013 ) , all of which were box @-@ office successes . Her performance in the first of these garnered her an IIFA Award for Best Supporting Actress nomination . In 2014 , Fernandez played the leading lady in Sajid Nadiadwala 's Kick , which is one of the highest @-@ grossing Bollywood films of all time .
One of the most popular actresses in India , she was the recipient of the IIFA Award for Star Debut of the Year – Female in 2010 . Alongside her screen acting career , Fernandez has participated in stage shows , and is active in humanitarian work .
Fernandez was born on 11 August 1985 , in Manama , Bahrain , and was raised in a multi @-@ ethnic family . Her father , Elroy , is Sri Lankan , and her mother , Kim , is of Malaysian descent . Her grandfather , on her mother 's side of the family , is Canadian and her great grandparents were from Goa , India . Her father , who was a musician in Sri Lanka , moved to Bahrain in the 1980s to escape civil unrest between the Tamils and Sinhalese and subsequently met her mother who was an air hostess . She is the youngest of four children with one elder sister and two elder brothers . She hosted television shows in Bahrain at the age of fourteen . After receiving her early education in Bahrain , she pursued a degree in mass communication from the University of Sydney in Australia . After graduating she worked as a television reporter in Sri Lanka . She also attended the Berlitz school of languages , where she learnt Spanish and improved her French and Arabic .
According to Fernandez , she had aspired to become an actress at a young age and fantasized about becoming a Hollywood movie star . She received some training at the John School of Acting . Although , she was a television reporter , she accepted offers in the modeling industry , which came as a result of her pageant success . In 2006 , she was crowned the winner of the Miss Universe Sri Lanka pageant and represented Sri Lanka at the world Miss Universe 2006 pageant held in Los Angeles . In a 2015 interview , Fernandez described the modeling industry as " a good training ground " and said : " It is a medium that is about shedding your inhibitions , knowing your body , confidence " . In 2006 , she appeared in a music video for the song " O Sathi " by music duo Bathiya and Santhush .
In 2009 , Fernandez traveled to India for a modeling assignment . She studied acting under the mentorship of theatre director Barry John , and successfully auditioned for Sujoy Ghosh 's fantasy film Aladin ( 2009 ) her acting debut . She played the love interest of Riteish Deshmukh 's character , a role based on the Princess Jasmine character . Fernandez garnered mixed reviews for her performance . Anupama Chopra of NDTV called her a " plastic debutant [ e ] " , and Rajeev Masand of CNN @-@ IBN felt that she was : " easy on the eyes and appears confident but has precious little to do " . Although the film was a critical and commercial failure , she won the IIFA Award for Star Debut of the Year - Female .
In 2010 , Fernandez appeared opposite Deshmukh in the science fiction romantic comedy Jaane Kahan Se Aayi Hai . She was cast as a girl from Venus , who lands on Earth in search of love . The film , along with Fernandez 's performance , received poor reviews ; Rediff.com 's Sukanya Verma noted : " She gamely makes a fool of herself whilst aping the actions of movie stars , ranging from Sridevi 's Naagin dance , Mithun Chakravarthy 's Disco Dancer moves , to Big B 's violent headshake in Hum . Her Tara could be a keeper if only Jaane Kahan Se Aayi Hai wasn 't so intent on turning her into a love @-@ struck Barbie . " Critic Anupama Chopra also criticized Fernandez , calling her " a pin @-@ prick on a balloon " . Later that year , she made a cameo appearance in Sajid Khan 's Housefull in the song " Dhanno " .
Mahesh Bhatt 's thriller Murder 2 was Fernandez 's first commercial success and marker a turning point in her career . She took on the role of Priya , a lonely model who is in a confused relationship with Arjun Bhagwat ( played by Emraan Hashmi ) . Fernandez was praised for the her performance , and for the boldness and sex appeal she displayed in the film . Gaurav Malini of The Times of India stated that she was " tastefully tempting " but noted that her romance with Hashmi was " literally half @-@ baked " . The following year , Fernandez appeared in the ensemble comedy Housefull 2 alongside Akshay Kumar , John Abraham , and Asin . It became one of the top grossing productions of India that year and earned ₹ 1 @.@ 86 billion ( US $ 28 million ) worldwide . Fernandez received mostly negative reviews for her performance . While Gaurav Malini praised her for her looks , NDTV called her a " blathering bimbo " who " find [ s ] no pleasure in [ her role ] " . Despite the negative reviews , Fernandez received a Best Supporting Actress nomination at the 14th IIFA Awards for her performance .
Fernandez 's first release of 2013 was Race 2 , an ensemble action thriller ( alongside Saif Ali Khan , John Abraham , Deepika Padukone , Ameesha Patel , and Anil Kapoor ) ) , described as the " cinematic equivalent of a trashy novel " by critic Rajeev Masand . She played Omisha , a femme fatale , a role which required her learn fencing and some acrobatics . The film emerged as a commercial success , with the domestic gross of more than ₹ 1 billion ( US $ 15 million ) . In a particularly scathing review , Saibal Chatterjee of NDTV wrote that both Fernandez and Padukone " strut around like wound @-@ up automatons that are all decked @-@ up but have nowhere to go . " Fernandez also appeared in an item number ( music video ) titled " Jaadu Ki Jhappi " for Prabhu Deva 's Ramaiya Vasta Vaiya .
In 2014 , Fernandez appeared in Sajid Nadiadwala 's directorial debut — the action film Kick , a remake of a 2009 Telugu film of same name . She starred opposite Salman Khan , playing Shaina , a psychiatry student . She retained her real voice for the first time in Kick . While Sneha May Francis commented that she is : " incredibly dazzling , and moves like a magic " , Raja Sen of Rediff.com was more critical of her dialogue delivery , calling it " unfortunate . " The film received mixed reviews from critics , but with worldwide revenue of over ₹ 3 @.@ 75 billion ( US $ 56 million ) , it became the fourth highest @-@ grossing Bollywood film . The film established Fernandez as one of the most popular Bollywood actresses .
In 2015 , Fernandez featured in Vicky Singh 's Roy , a romantic thriller , which critic Sarita A. Tanwar described as a " boring , exhausting and pretentious " film . Fernandez played dual roles , Ayesha Aamir , a filmmaker in a relationship with another filmmaker ( played by Arjun Rampal ) and Tia Desai , a girl in love with a thief ( played by Ranbir Kapoor ) . While India TV called it " her best act till date " , critic Rajeev Masand felt that she " appears miscast in a part that required greater range . " Roy failed to meet its box @-@ office expectations , and was a commercial failure . Later that year , she appeared in a guest appearance for the comedy @-@ satire Bangistan .
Karan Malhotra 's action drama Brothers was Fernandez 's next release . Co @-@ starring alongside Akshay Kumar and Sidharth Malhotra , Fernandez played Jenny , a fearless mother struggling for her child , a role which she described as " challenging " , " intense " , and " difficult " . The role marked a departure from the glamorous characters that she had a reputation for portraying . Film critics praised her performance , though their response to the film was mixed . Dhriti Sharma of Zee News called her character " soft , timid and promising " , and praised her for : " convincingly pull [ ing ] off a pleasing character of a street fighter 's wife " . Film critic Subhash K. Jha noted that she : " ... in a limited role gives her finest emotive shot " , while critic Raja Sen remarked : " [ she ] plays Kumar 's long @-@ sobbing wife who gets so deliriously happy on seeing a text message that it may well have contained news about a Kick sequel . "
As of September 2015 , Fernandez has several projects in various stages of production . She has completed shooting for Chandran Rutnam 's English @-@ Sri Lankan crime @-@ thriller According to Mathew , and the horror thriller Definition of Fear , which marks her Hollywood debut . Fernandez has also signed on to appear in three other projects — Rohit Dhawan 's Dishoom opposite Varun Dhawan and John Abraham as a part of three @-@ film deal with Nadiadwala Grandson Entertainment , Remo D 'Souza 's Flying Jat opposite Tiger Shroff , and in an Indo @-@ Chinese film starring opposite Abhay Deol , Amitabh Bachchan , and Jackie Chan titled Gold Struck .
Fernandez shares a close bond with her family , and admits to missing being around them . She says : " I miss them so much everyday . You don 't realise when you live away from home how difficult life can be [ ... ] At the same time , staying away from them has taught me to be more responsible . It has taught me so many things about myself , about priorities and time management . " In March 2012 , Fernandez turned vegetarian for a 40 @-@ day period to observe Lent , a period from Ash Wednesday to Holy Saturday .
In 2008 , Fernandez started dating Bahraini prince Hassan bin Rashid Al Khalifa , whom she met at a mutual friend 's party ; they separated in 2011 . While filming Housefull 2 in 2011 , Fernandez began a romantic relationship with director Sajid Khan . The relationship attracted media coverage in India and there was speculation of an impending wedding . However , the relationship ended in May 2013 .
In addition to acting in films , Fernandez has supported charitable organisations and a number of causes . In 2011 , on the behalf of People for the Ethical Treatment of Animals ( PETA ) , she sent a letter to the Mumbai Municipal Commissioner asking for an end to horse @-@ drawn carriage rides in Mumbai . In early 2013 , she asked the consulate general of the Philippines , William John T Perera in Colombo , to hasten the transfer of an elephant from its inadequate housing at the Manila Zoo to a humane sanctuary . Later that year , she auctioned a breakfast in Mayfair , London , where she raised around £ 4000 for the Pratham NGO , which helps children 's primary education . In 2014 , Fernandez was named " Woman Of The Year " by PETA ( India ) for advocating the protection of animals . The following year , she auctioned her outfits on an online portal for a philanthropic cause . Some of her outfits included the ones she wore in the song " Party On My Mind " ( from Race 2 ) and " Hangover " ( from Kick ) . In March 2016 , she was part of " Jacqueline Builds " campaign that raised funds for the victims of the 2015 South Indian floods .
Fernandez has participated in several concert tours and televised award ceremonies . In 2013 , she performed at the Temptations Reloaded in Auckland , Perth , and Sydney alongside Shah Rukh Khan , Rani Mukerji , and Madhuri Dixit . She also performed at the live talent show " Got Talent World Stage Live " with Khan , Priyanka Chopra and Varun Dhawan the following year . In July 2014 , Fernandez opened a restaurant in Colombo , Kaema Sutra , in collaboration with chef Dharshan Munidasa , which specialises in contemporary Sri Lankan cuisine .
In the early 2013 , Fernandez became the ambassador for HTC One , which she endorses in India . She was the face of Indian Bridal Fashion Week — IBFW of 2013 . Later that year , she became the spokesperson for Gareth Pugh 's designed Forevermark Diamonds in Mumbai , and was at the inaugural opening of the Forever 21 store in Mumbai . That year , she also launched Gillette Shaving System with Arbaaz Khan and Aditya Roy Kapur . While analysing Fernandez 's career , India TV noted : " Slowly and steadily Jacqueline Fernandez is climbing up the ladder of success [ ... ] Jacqueline is comfortably grasping every aspect of the work , which an actress is required to do and is accordingly giving results . " On the contrary , Charu Thakur of India Today criticized her acting skills , but remarked that : " [ she has ] managed to find her feet in Bollywood now by banking on glamorous roles " .
In 2008 and 2011 , Fernandez featured in the UK magazine Eastern Eye 's " World 's Sexiest Asian Women " list , ranking twelfth . She was ranked third on The Times of India 's listing of the " Most Desirable Woman " in 2013 and 2014 , after being ranked eighth , seventh and fourteenth , respectively , in the preceding three years . In 2013 , Rediff.com placed her on their list of " Bollywood 's Best Dressed Actresses " . The following year , she held the sixty second position in the Indian edition of the Forbes ' Celebrity 100 , a list based on the income and popularity of India 's celebrities . She has been the cover model for many Indian editions of magazines , including : Vogue , FHM , Maxim , Cosmopolitan , Grazia , Elle , Verve , Harper 's Bazaar , Women 's Health , and L 'Officiel among others .
Barry John Cullen ( born August 2 , 1964 ) is a Canadian former professional ice hockey centre who played in the National Hockey League ( NHL ) for the Pittsburgh Penguins , Hartford Whalers , Toronto Maple Leafs and Tampa Bay Lightning . He was a standout player for Boston University and is the school 's all @-@ time leading scorer . After the Buffalo Sabres selected him in the 1986 NHL Supplemental Draft but chose not to offer him a contract , Cullen signed with the Flint Spirits of the International Hockey League ( IHL ) for the 1987 – 88 season where he was named the IHL 's co @-@ Rookie of the Year and Most Valuable Player after leading the league in scoring .
His career was halted in 1997 when he was diagnosed with Non @-@ Hodgkin lymphoma . He attempted a brief comeback in 1998 after an 18 @-@ month battle with the disease , for which the NHL awarded him the Bill Masterton Memorial Trophy , before retiring to serve as an assistant coach for a year with the Lightning . Cullen played in two NHL All @-@ Star Games in his career . He joined his brother in the car dealership business after leaving the game , and briefly operated his own dealership until forced to close during the automotive industry crisis of 2008 – 10 .
Cullen was born in Puslinch @-@ Ontario on August 2 , 1964 . He is one of six children of Barry and Loretta Cullen . His father and uncles Brian and Ray all played in the NHL , and while Cullen and his three brothers all played as well , their father never pressured them , preferring that they enjoy the game .
He idolized his elder brother Terry , who was considered a top NHL prospect until Terry 's career was ended when he suffered a broken neck after being hit from behind into the boards during a college game . While his brother was highly sought by American universities , John received only two scholarship offers , choosing to play for Boston University ( BU ) in 1983 .
At the same time , his mother Loretta was diagnosed with skin cancer . Following her death early in his freshman year , Cullen contemplated returning to his Ontario home , but was convinced by his father to continue with both school and hockey . He used the game to cope with the loss and dedicated every game he played to his mother 's memory . Cullen felt that the inspiration he drew from his mother 's battle allowed him to become a better player .
Cullen was a standout with BU ; he was named the East Coast Athletic Conference Rookie of the Year in 1983 – 84 after leading his team in scoring with 56 points . The National Hockey League passed him over , however , as he went unclaimed in the 1984 NHL Entry Draft . He was named to the Hockey East All @-@ Star Teams in 1985 , 1986 and 1987 , and a National Collegiate Athletic Association East Second Team All @-@ American in 1986 . He graduated as BU 's all @-@ time scoring leader with 241 points , and was named to BU 's Hockey East 25th anniversary team in 2009 .
Passed over in the Entry Draft , Cullen was finally selected by the Buffalo Sabres in the 1986 NHL Supplemental Draft . When the Sabres failed to offer him a contract , Cullen signed with the Flint Spirits of the International Hockey League ( IHL ) for the 1987 – 88 season . He led the league with 157 points , scoring 48 goals , and won the James Gatschene Memorial Trophy as league most valuable player while sharing the Gary F. Longman Memorial Trophy with Ed Belfour as rookie of the year . Cullen 's outstanding season in Flint caught the attention of the Sabres and the Pittsburgh Penguins . He signed a contract with the Penguins for the league minimum , passing up a superior contract offer from Buffalo as he remained upset at how they released him the year before .
Cullen made his NHL debut in 1988 – 89 , appearing in 79 games with the Penguins and scoring 49 points . He was given a greater role with the Penguins the following year after Mario Lemieux missed 21 games due to a back injury and responded by scoring 32 goals and 92 points to finish third in team scoring . Additionally , he played for Team Canada at the 1990 World Championship , scoring four points in ten games . Cullen had his best season in 1990 – 91 . As one of the team 's top offensive centres , he scored 94 points in the Penguins ' first 65 games and played in his first NHL All @-@ Star Game . However , when Lemieux returned after missing an additional 50 @-@ games due to injury , Cullen 's playing time and production declined .
The Penguins ' needs led them to complete a blockbuster trade on March 1 , 1991 . Cullen was sent to the Hartford Whalers , along with Zarley Zalapski and Jeff Parker in exchange for Hartford 's all @-@ time leading scorer , Ron Francis , along with Ulf Samuelsson and Grant Jennings . The Penguins almost turned down the deal as they were concerned about giving up Cullen 's playmaking and leadership abilities , while his former teammates credited Cullen as being the primary reason they were in a playoff position at the time the trade happened . After the Penguins won their first Stanley Cup that season , Phil Bourque later said it " broke his heart " that Cullen was not able to share in that championship .
In Hartford , Cullen worked to overcome the team 's fans ' disappointment at losing Francis . The Hartford fans initially booed him to show their dissatisfaction with the trade . He scored 16 points in 13 regular season games to finish the season with 110 points combined between the Penguins and Whalers , and was the team 's best player in their first round loss to the Boston Bruins in the 1991 Stanley Cup Playoffs . He initially accepted an invitation to join the Canadian team at the 1991 Canada Cup , but subsequently chose not to participate as his contract had expired , leading to greater insurance concerns . Still without a contract when the 1991 – 92 season began , Cullen missed the first four games before signing a four @-@ year deal with Hartford worth a total of $ 4 million . He returned to score 77 points in 77 games in his first full season with the Whalers and represented the team at the 1992 All @-@ Star Game .
Midway through the 1992 – 93 NHL season , the Whalers sent Cullen to the Toronto Maple Leafs for Toronto 's second round selection at the 1993 NHL Entry Draft . Cullen was excited to play for his father 's old team , but injuries reduced his ability to perform . His most significant injury was a herniated disc in his neck that doctors initially feared would end his career . A bulky neck brace allowed Cullen to return and play out his contract in Toronto . When the Leafs chose not to re @-@ sign him following the 1993 – 94 season , he returned to the Penguins for one season before Tony Esposito convinced him to sign with the Tampa Bay Lightning in 1995 .
Cullen enjoyed immediate success with linemates Shawn Burr and Alexander Selivanov as the trio combined to score 130 points and helped lead the Lightning to the first playoff appearance in franchise history . They were eliminated by the Philadelphia Flyers in five games while Cullen led the team in playoff scoring with three goals and three assists . The Lightning looked to improve in 1996 – 97 ; Cullen was leading the team in scoring , but was suffering flu @-@ like symptoms that he could not shake . As Tampa was fighting for a playoff spot , he played through his condition for weeks .
After two months of quietly dealing with his symptoms , Cullen 's wife finally called team trainers and asked them to check into his illness . The team took an x @-@ ray and found a large black shadow in his chest . He underwent a CAT scan which revealed Cullen had a baseball @-@ sized tumor ; he was diagnosed as having Non @-@ Hodgkin lymphoma . The diagnosis ended his season , and he immediately began chemotherapy treatments that quickly reduced his cancer . The tumor was gone by September 1997 , but a precautionary test prior to training camp revealed that Cullen still had cancer cells in his body . He missed the entire 1997 – 98 NHL season as he continued to battle the disease , while his teammates wore a uniform patch with his # 12 in support throughout the year .
On one day during his treatments , as his wife was wheeling him down a hospital corridor , Cullen went into cardiac arrest , requiring doctors to use a defibrillator to revive him . He underwent a bone marrow transplant that briefly reduced his immune system to the point that he could have very little human contact . Another examination in April 1998 revealed that the cancer was finally gone , and Cullen immediately began training for a comeback .
The Lightning signed Cullen to a one @-@ year , $ 500 @,@ 000 contract for the 1998 – 99 season . He played his first game in nearly 18 months on September 18 , 1998 , in an exhibition game between the Lightning and Sabres at Innsbruck , Austria . Cullen scored the game @-@ winning goal in a 3 – 1 victory , after which he said he sat on the bench in disbelief over how he was given a second chance . He was named to the roster and was greeted with a loud standing ovation by the fans in Tampa Bay when he was introduced prior to their season opening game .
Cullen appeared in four of the Lightning 's first eight games , but it was evident that he had lost much of his speed and strength . The Lightning assigned him to the IHL 's Cleveland Lumberjacks , but also gave him the option of retiring and taking up a position as an assistant coach . He chose to accept the demotion , giving himself one month to determine if he could continue playing . He appeared in six games for Cleveland , and in one game against the Chicago Wolves tied an IHL record when he scored seven points in a 7 – 3 victory .
However , a bout of bronchitis led Cullen to fear that his cancer had returned . Tests came back negative , but after spending time with his family , he realized that neither he nor his family were interested in returning to Cleveland . Cullen announced his retirement on November 28 , 1998 , and accepted the Lightning offer to become an assistant coach . In recognition of his comeback attempt , the NHL named him the 1999 winner of the Bill Masterton Memorial Trophy for dedication and perseverance , while the IHL renamed its Comeback Player of the Year award the John Cullen Award .
Former Lightning head coach Terry Crisp has stated publicly that Cullen was a player that stood out as something special saying “ John Cullen ... beat cancer and came back to play and helped us win . ”
Cullen and his wife Valerie have three daughters , Kennedy and twins Karlyn and Kortland . Unwilling to spend so much time away from his family , he left the Lightning in 1999 and settled in the Atlanta area , joining his brother 's car dealership in Jonesboro , Georgia . He had always expected to become a car dealer after his hockey career , as his father , uncles and brother all worked in the industry . After apprenticing under his brother for five years , he bought a Dodge dealership in Newnan , Georgia in 2007 . However , he owned the dealership for less than two years before Chrysler closed him down as part of its recovery plan in response to the Automotive industry crisis of 2008 – 2010 . He has since returned to his brother 's dealership , serving as its general manager .
Cullen 's battle with cancer inspired Timm Harmon of the Moffitt Cancer Centre to partner with the Lightning to raise awareness and money for cancer research . The NHL itself joined the cause in the winter of 1998 , creating the Hockey Fights Cancer program to raise money for research . Cullen has spent time promoting the initiative .
Prior to marrying his wife Valerie , John dated Carolyn Bessette the future wife of John F. Kennedy , Jr . The two met while attending University in Boston .
Cullen is the namesake of the John Cullen Award , previously given to key IHL players .
For the ironclad present at the Battle of Lissa of the same name , see SMS Erzherzog Ferdinand Max ( 1865 ) .
SMS Erzherzog Ferdinand Max ( German : " His Majesty 's ship Archduke Ferdinand Max " ) was a pre @-@ dreadnought battleship built by the Austro @-@ Hungarian Navy in 1902 . The second ship of the Erzherzog Karl class , she was launched on 3 October 1903 . She was assigned to the III Battleship Division .
For most of World War I , Erzherzog Ferdinand Max remained in her home port of Pola , in present @-@ day Croatia , except for four engagements . In 1914 , she formed part of the Austro @-@ Hungarian flotilla sent to protect the escape of the German ships SMS Goeben and SMS Breslau from the British @-@ held Mediterranean ; she advanced as far as Brindisi before being recalled to her home port . Her sole combat engagement occurred in late May 1915 , when she participated in the bombardment of the Italian port city of Ancona . She also took part in suppressing a major mutiny among the crew members of several armored cruisers stationed in Cattaro between 1 – 3 February 1918 . She also attempted to break through the Otranto Barrage in June of that year , but had to retreat when the dreadnought SMS Szent István was sunk . After the war , Erzherzog Ferdinand Max was awarded to the United Kingdom as a war prize in 1920 .
Erzherzog Ferdinand Max displaced 10 @,@ 472 long tons ( 10 @,@ 640 t ) . She was 414 feet 2 inches ( 126 @.@ 2 m ) long , had a beam of 71 feet 5 inches ( 21 @.@ 8 m ) and a draft of 24 feet 7 inches ( 7 @.@ 5 m ) . She was manned by 700 men . She and her sisters were the last and largest pre @-@ dreadnought class built by the Austro @-@ Hungarian Navy , surpassing the Habsburg class by approximately 2 @,@ 000 tonnes ( 1 @,@ 968 long tons ) . She was propelled by two two @-@ shaft , four cylinder vertical triple expansion steam engines . On trials , they developed 18 @,@ 000 ihp ( 13 @,@ 423 kW ) , which propelled the ship at a speed of 20 @.@ 5 knots ( 38 @.@ 0 km / h ; 23 @.@ 6 mph ) .
Erzherzog Ferdinand Max carried a primary armament of four 24 @-@ centimeter ( 9 @.@ 4 in ) / 40 caliber guns in two twin turrets on the centerline . These guns were an Austro @-@ Hungarian replica of the British 24 cm / 40 ( 9 @.@ 4 " ) Krupp C / 94 , which was used on the Habsburgs . Her secondary armament consisted of twelve 19 @-@ centimeter ( 7 @.@ 5 in ) / 42 caliber guns , also made by Škoda , mounted in eight single casemates on either wing of the ship and two twin turrets on the centerline. shell 20 @,@ 000 metres ( 22 @,@ 000 yd ) at maximum elevation with a muzzle velocity of 800 metres per second ( 2 @,@ 600 ft / s ) . The gun weighed 12 @.@ 1 tons and could fire three rounds per minute.The ships had a tertiary armament for protection against torpedo boats in the form of the 6 @.@ 6 centimetres ( 2 @.@ 6 in ) / 45 caliber gun , also manufactured by Škoda . Anti @-@ aircraft and airship protection was covered by the four 37 @-@ millimeter ( 1 @.@ 5 in ) Vickers anti @-@ aircraft guns on the ship bought from Britain in 1910 and mounted onto Erzherzog Karl . Erzherzog Ferdinand Max was also fitted with two above water 45 @-@ centimeter ( 17 @.@ 7 in ) torpedo tubes , although rarely used .
At the outbreak of World War I , Erzherzog Ferdinand Max was in the III division of the Austrian @-@ Hungarian battle @-@ fleet . She was mobilized on the eve of the war along with the remainder of the fleet to support the flight of SMS Goeben and SMS Breslau . The two German ships were attempting to break out of Messina , which was surrounded by British troops , and make their way to Turkey . The breakout succeeded . When the flotilla had advanced as far south as Brindisi in south eastern Italy , the Austro @-@ Hungarian ships were recalled . In company with other units of the Austro Hungarian navy , Erzherzog Ferdinand Max took a minor part in the bombardment of Ancona on 24 May 1915 . There she and her sisters expended 24 rounds of 240 mm armor @-@ piercing shells at signal and semaphore stations as well as 74 rounds of 190 mm shells aimed at Italian gun @-@ batteries and other port installations .
A major mutiny among crews of the armored cruisers stationed in Cattaro , including Sankt Georg and Kaiser Karl VI , began on 1 February 1918 . Two days later , Erzherzog Ferdinand Max and her sisters arrived in the port and assisted with the suppression of the mutiny . Following the restoration of order in the naval base , the armored cruisers Sankt Georg and Kaiser Karl VI were decommissioned and Erzherzog Ferdinand Max and her sisters were stationed in Cattaro in their place . On the morning of 11 June , Admiral Miklos Horthy planned a major assault on the Otranto Barrage ; the three Erzherzog Karls and the four Tegetthoff @-@ class battleships were to provide support for the Novara @-@ class cruisers on an assault on the Allied defenses at the Strait of Otranto . The plan was intended to replicate the success of the raid conducted one year earlier . Horthy 's plan was to destroy the blockading fleet by luring Allied ships to the cruisers and lighter ships , which were protected from the heavier guns of the battleships , including the guns of the Erzherzog Karl class . However , on the morning of 10 June , the dreadnought Szent István was torpedoed and sunk by an Italian torpedo boat . Horthy felt that the element of surprise had been compromised , and therefore called off the operation . This was to be the last military action Erzherzog Ferdinand Max was to take part in , and she and her sisters spent the rest of their career in port .
Near the end of World War I , the Erzherzog Karl @-@ class battleships were handed over to the newly formed State of Slovenes , Croats and Serbs but Erzherzog Ferdinand Max was later transferred to Great Britain as a war reparation . She was later broken up for scrap in 1921 .
Ancient Egyptian deities are the gods and goddesses worshipped in ancient Egypt . The beliefs and rituals surrounding these gods formed the core of ancient Egyptian religion , which emerged sometime in prehistory . Deities represented natural forces and phenomena , and the Egyptians supported and appeased them through offerings and rituals so that these forces would continue to function according to maat , or divine order . After the founding of the Egyptian state around 3100 BC , the authority to perform these tasks was controlled by the pharaoh , who claimed to be the gods ' representative and managed the temples where the rituals were carried out .
The gods ' complex characteristics were expressed in myths and in intricate relationships between deities : family ties , loose groups and hierarchies , and combinations of separate gods into one . Deities ' diverse appearances in art — as animals , humans , objects , and combinations of different forms — also alluded , through symbolism , to their essential features .
In different eras , various gods were said to hold the highest position in divine society , including the solar deity Ra , the mysterious god Amun , and the mother goddess Isis . The highest deity was usually credited with the creation of the world and often connected with the life @-@ giving power of the sun . Some scholars have argued , based in part on Egyptian writings , that the Egyptians came to recognize a single divine power that lay behind all things and was present in all the other deities . Yet they never abandoned their original polytheistic view of the world , except possibly during the era of Atenism in the 14th century BC , when official religion focused exclusively on the impersonal sun god Aten .
Gods were assumed to be present throughout the world , capable of influencing natural events and the course of human lives . People interacted with them in temples and unofficial shrines , for personal reasons as well as for larger goals of state rites . Egyptians prayed for divine help , used rituals to compel deities to act , and called upon them for advice . Humans ' relations with their gods were a fundamental part of Egyptian society .
The beings in ancient Egyptian tradition who might be labeled as deities are difficult to count . Egyptian texts list the names of many deities whose nature is unknown and make vague , indirect references to other gods who are not even named . The Egyptologist James P. Allen estimates that more than 1 @,@ 400 deities are named in Egyptian texts , whereas his colleague Christian Leitz says there are " thousands upon thousands " of gods .
The Egyptian language 's terms for these beings were nṯr , " god " , and its feminine form nṯrt , " goddess " . Scholars have tried to discern the original nature of the gods by proposing etymologies for these words , but none of these suggestions has gained acceptance , and the terms ' origin remains obscure . The hieroglyphs that were used as ideograms and determinatives in writing these words show some of the traits that the Egyptians connected with divinity . The most common of these signs is a flag flying from a pole . Similar objects were placed at the entrances of temples , representing the presence of a deity , throughout ancient Egyptian history . Other such hieroglyphs include a falcon , reminiscent of several early gods who were depicted as falcons , and a seated male or female deity . The feminine form could also be written with an egg as determinative , connecting goddesses with creation and birth , or with a cobra , reflecting the use of the cobra to depict many female deities .
The Egyptians distinguished nṯrw , " gods " , from rmṯ , " people " , but the meanings of the Egyptian and the English terms do not match perfectly . The term nṯr may have applied to any being that was in some way outside the sphere of everyday life . Deceased humans were called nṯr because they were considered to be like the gods , whereas the term was rarely applied to many of Egypt 's lesser supernatural beings , which modern scholars often call " demons " . Egyptian religious art also depicts places , objects , and concepts in human form . These personified ideas range from deities that were important in myth and ritual to obscure beings , only mentioned once or twice , that may be little more than metaphors .
Confronting these blurred distinctions between gods and other beings , scholars have proposed various definitions of a " deity " . One widely accepted definition , suggested by Jan Assmann , says that a deity has a cult , is involved in some aspect of the universe , and is described in mythology or other forms of written tradition . According to a different definition , by Dimitri Meeks , nṯr applied to any being that was the focus of ritual . From this perspective , " gods " included the king , who was called a god after his coronation rites , and deceased souls , who entered the divine realm through funeral ceremonies . Likewise , the preeminence of the great gods was maintained by the ritual devotion that was performed for them across Egypt .
The first written evidence of deities in Egypt comes from the Early Dynastic Period ( c . 3100 – 2686 BC ) . Deities must have emerged sometime in the preceding Predynastic Period ( before 3100 BC ) and grown out of prehistoric religious beliefs . Predynastic artwork depicts a variety of animal and human figures . Some of these images , such as stars and cattle , are reminiscent of important features of Egyptian religion in later times , but in most cases there is not enough evidence to say whether the images are connected with deities . As Egyptian society grew more sophisticated , clearer signs of religious activity appeared . The earliest known temples appeared in the last centuries of the predynastic era , along with images that resemble the iconographies of known deities : the falcon that represents Horus and several other gods , the crossed arrows that stand for Neith , and the enigmatic " Set animal " that represents Set .
Many Egyptologists and anthropologists have suggested theories about how the gods developed in these early times . Gustave Jéquier , for instance , thought the Egyptians first revered primitive fetishes , then deities in animal form , and finally deities in human form , whereas Henri Frankfort argued that the gods must have been envisioned in human form from the beginning . Some of these theories are now regarded as too simplistic , and more current ones , such as Siegfried Morenz ' hypothesis that deities emerged as humans began to distinguish themselves from and personify their environment , are difficult to prove .
Predynastic Egypt originally consisted of small , independent villages . Because many deities in later times were strongly tied to particular towns and regions , many scholars have suggested that the pantheon formed as disparate communities coalesced into larger states , spreading and intermingling the worship of the old local deities . But others have argued that the most important predynastic gods were , like other elements of Egyptian culture , present all across the country despite the political divisions within it .
The final step in the formation of Egyptian religion was the unification of Egypt , in which rulers from Upper Egypt made themselves pharaohs of the entire country . These sacred kings and their subordinates assumed the exclusive right to interact with the gods , and kingship became the unifying focus of the religion .
New gods continued to emerge after this transformation . Some important deities like Isis and Amun are not known to have appeared until the Old Kingdom ( c . 2686 – 2181 BC ) . Places and concepts could suddenly inspire the creation of a deity to represent them , and deities were sometimes created to serve as opposite @-@ sex counterparts to established gods or goddesses . Kings were said to be divine , although only a few continued to be worshipped long after their deaths . Some non @-@ royal humans were said to have the favor of the gods and were venerated accordingly . This veneration was usually short @-@ lived , but the court architects Imhotep and Amenhotep son of Hapu were regarded as gods centuries after their lifetimes , as were some other officials .
Through contact with neighboring civilizations , the Egyptians also adopted foreign deities . Dedun , who is first mentioned in the Old Kingdom , may have come from Nubia , and Baal , Anat , and Astarte , among others , were adopted from Canaanite religion during the New Kingdom ( c . 1550 – 1070 BC ) . In Greek and Roman times , from 332 BC to the early centuries AD , deities from across the Mediterranean world were revered in Egypt , but the native gods remained , and they often absorbed the cults of these newcomers into their own worship .
Modern knowledge of Egyptian beliefs about the gods is mostly drawn from religious writings produced by the nation 's scribes and priests . These people were the elite of Egyptian society and were very distinct from the general populace , most of whom were illiterate . Little is known about how well this broader population knew or understood the sophisticated ideas that the elite developed . Commoners ' perceptions of the divine may have differed from those of the priests . The populace may , for example , have mistaken the religion 's symbolic statements about the gods and their actions for literal truth . But overall , what little is known about popular religious belief is consistent with the elite tradition . The two traditions form a largely cohesive vision of the gods and their nature .
Most Egyptian deities represent natural or social phenomena . The gods were generally said to be immanent in these phenomena — to be present within nature . The types of phenomena they represented include physical places and objects as well as abstract concepts and forces . The god Shu was the deification of all the world 's air ; the goddess Meretseger oversaw a limited region of the earth , the Theban Necropolis ; and the god Sia personified the abstract notion of perception . Major gods often had many roles and were involved in several types of phenomena . For instance , Khnum was the god of Elephantine Island in the midst of the Nile , the river that was essential to Egyptian civilization . He was credited with producing the annual Nile flood that fertilized the nation 's farmland . Perhaps as an outgrowth of this life @-@ giving function , he was said to create all living things , fashioning their bodies on a potter 's wheel . Gods could share the same role in nature ; Ra , Atum , Khepri , Horus , and other deities acted as sun gods . Despite their diverse functions , most gods had an overarching role in common : maintaining maat , the universal order that was a central principle of Egyptian religion and was itself personified as a goddess . But some deities represented disruption to maat . Most prominently , Apep was the force of chaos , constantly threatening to annihilate the order of the universe , and Set was an ambivalent member of divine society who could both fight disorder and foment it .
Not all aspects of existence were seen as deities . Although many deities were connected with the Nile , no god personified it in the way that Ra personified the sun . Short @-@ lived phenomena , like rainbows or eclipses , were not represented by gods ; neither were elements like fire and water or many other components of the world .
The roles of each deity were fluid , and each god could expand its nature to take on new characteristics . As a result , gods ' roles are difficult to categorize or define . But despite their flexibility , the gods had limited abilities and spheres of influence . Not even the creator god could reach beyond the boundaries of the cosmos that he created , and even Isis , though she was said to be the cleverest of the gods , was not omniscient . Richard H. Wilkinson , however , argues that some texts from the late New Kingdom suggest that , as beliefs about the god Amun evolved , he was thought to approach omniscience and omnipresence and to transcend the limits of the world in a way that other deities did not .
The deities with the most limited and specialized domains are often called " minor divinities " or " demons " in modern writing , although there is no firm definition for these terms . Among these lesser deities , Egyptologist Claude Traunecker draws a distinction between " genies " — specialized patron spirits of certain places , objects , or activities , such as the sea or marsh god Wadj @-@ Wer and the harvest goddess Renenutet — and demons , who have a more dangerous character . Many demons are hostile , causing illness and other troubles among humans . Their power can also be protective ; they may guard certain places in the Duat , the realm of the dead , or advise and watch over humans . Egyptians believed the landscape was full of these unpredictable divine powers . Demons often act as servants and messengers to the greater gods , but their position in the hierarchy is not fixed . The protective deities Bes and Taweret originally had minor , demon @-@ like roles , but over time they came to be credited with great influence .
Divine behavior was believed to govern all of nature . Except for the few deities who disrupted the divine order , the gods ' actions maintained maat and created and sustained all living things . They did this work using a force the Egyptians called heka , a term usually translated as " magic " . Heka was a fundamental power that the creator god used to form the world and the gods themselves .
The gods ' actions in the present are described and praised in hymns and funerary texts . In contrast , mythology mainly concerns the gods ' actions during a vaguely imagined past in which the gods were present on earth and interacted directly with humans . The events of this past time set the pattern for the events of the present . Periodic occurrences were tied to events in the mythic past ; the succession of each new pharaoh , for instance , reenacted Horus ' accession to the throne of his father Osiris . Myths are metaphors for the gods ' actions , which humans cannot fully understand . They contain seemingly contradictory ideas , each expressing a particular perspective on divine events . The contradictions in myth are part of the Egyptians ' many @-@ faceted approach to religious belief — what Henri Frankfort called a " multiplicity of approaches " to understanding the gods .
In myth , the gods behave much like humans . They feel emotion ; they can eat , drink , fight , weep , sicken , and die . Some have unique character traits . Set is aggressive and impulsive , and Thoth , patron of writing and knowledge , is prone to long @-@ winded speeches . Yet overall , the gods are more like archetypes than well drawn characters . Their behavior is inconsistent , and their thoughts and motivations are rarely stated . Most myths about them lack highly developed characters and plots , because the symbolic meaning of the myths was more important than elaborate storytelling .
The first divine act is the creation of the cosmos , described in several creation myths . They focus on different gods , each of which may act as creator deities . The eight gods of the Ogdoad , who represent the chaos that precedes creation , give birth to the sun god , who establishes order in the newly formed world ; Ptah , who embodies thought and creativity , gives form to all things by envisioning and naming them ; Atum produces all things as emanations of himself ; and Amun , according to the myths promoted by his priesthood , preceded and created the other creator gods . These and other versions of the events of creation were not seen as contradictory . Each gives a different perspective on the complex process by which the organized universe and its many deities emerged from undifferentiated chaos . The period following creation , in which a series of gods rule as kings over the divine society , is the setting for most myths . The gods struggle against the forces of chaos and among each other before withdrawing from the human world and installing the historical kings of Egypt to rule in their place .
A recurring theme in these myths is the effort of the gods to maintain maat against the forces of disorder . They fight vicious battles with the forces of chaos at the start of creation . Ra and Apep , battling each other each night , continue this struggle into the present . Another prominent theme is the gods ' death and revival . The clearest instance where a god dies is the myth of Osiris ' murder , in which that god is resurrected as ruler of the Duat . The sun god is also said to grow old during his daily journey across the sky , sink into the Duat at night , and emerge as a young child at dawn . In the process he comes into contact with the rejuvenating water of primordial chaos . Funerary texts that depict Ra 's journey through the Duat also show the corpses of gods who are enlivened along with him . Instead of being changelessly immortal , the gods periodically died and were reborn by repeating the events of creation , thus renewing the whole world . But it was always possible for this cycle to be disrupted and for chaos to return . Some poorly understood Egyptian texts even suggest that this calamity is destined to happen — that the creator god will one day dissolve the order of the world , leaving only himself and Osiris amid the primordial chaos .
Gods were linked with specific regions of the universe . In Egyptian tradition , the world includes the earth , the sky , and the Duat . Surrounding them is the dark formlessness that existed before creation . The gods in general were said to dwell in the sky , although gods whose roles were linked with other parts of the universe were said to live in those places instead . Most events of mythology , set in a time before the gods ' withdrawal from the human realm , take place in an earthly setting . The deities there sometimes interact with those in the sky . The Duat , in contrast , is treated as a remote and inaccessible place , and the gods who dwell there have difficulty communicating with those in the world of the living . The space outside the cosmos is also said to be very distant . It too is inhabited by deities , some hostile and some beneficial to the other gods and their orderly world .
In the time after myth , most gods were said to be either in the sky or invisibly present within the world . Temples were their main means of contact with humanity . Each day , it was believed , the gods moved from the divine realm to their temples , their homes in the human world . There they inhabited the cult images , the statues that depicted deities and allowed humans to interact with them in temple rituals . This movement between realms was sometimes described as a journey between the sky and the earth . As temples were the focal points of Egyptian cities , the god in a city 's main temple was the patron god for the city and the surrounding region . Deities ' spheres of influence on earth centered on the towns and regions they presided over . Many gods had more than one cult center , and their local ties changed over time . They could establish themselves in new cities , or their range of influence could contract . Therefore , a given deity 's main cult center in historical times is not necessarily his or her place of origin . The political influence of a city could affect the importance of its patron deity . When kings from Thebes took control of the country at start of the Middle Kingdom ( c . 2055 – 1650 BC ) , they elevated Thebes ' patron gods — first the war god Montu and then Amun — to national prominence .
In Egyptian belief , names express the fundamental nature of the things to which they refer . In keeping with this belief , the names of deities often relate to their roles or origins . The name of the predatory goddess Sekhmet means " powerful one " , the name of the mysterious god Amun means " hidden one " , and the name of the goddess Nekhbet , who was worshipped in the city of Nekheb , means " she of Nekheb " . But many other names have no certain meaning , even when the gods who bear them are closely tied to a single role . The names of the sky goddess Nut and the earth god Geb do not resemble the Egyptian terms for sky and earth .
The Egyptians also devised false etymologies giving more meanings to divine names . A passage in the Coffin Texts renders the name of the funerary god Sokar as sk r , meaning " cleaning of the mouth " , to link his name with his role in the Opening of the Mouth ritual , while one in the Pyramid Texts says the name is based on words shouted by Osiris , connecting Sokar with the most important funerary deity .
The gods were believed to have many names . Among them were secret names that conveyed their true natures more profoundly than others . To know the true name of a deity was to have power over it . The importance of names is demonstrated by a myth in which Isis poisons the superior god Ra and refuses to cure him unless he reveals his secret name to her . Upon learning the name , she tells it to her son , Horus , and by learning it they gain greater knowledge and power .
In addition to their names , gods were given epithets , like " possessor of splendor " , " ruler of Abydos " , or " lord of the sky " , that describe some aspect of their roles or their worship . Because of the gods ' multiple and overlapping roles , deities can have many epithets — with more important gods accumulating more titles — and the same epithet can apply to many deities . Some epithets eventually became separate deities , as with Werethekau , an epithet applied to several goddesses meaning " great enchantress " , which came to be treated as an independent goddess . The host of divine names and titles expresses the gods ' multifarious nature .
Egyptian deities are connected in a complex and shifting array of relationships . A god 's connections and interactions with other deities helped define its character . Thus Isis , as the mother and protector of Horus , was a great healer as well as the patroness of kings . Such relationships were the base material from which myths were formed .
Family relationships are a common type of connection between gods . Deities often form male and female pairs , reflecting the importance of procreation in Egyptian religious thought . Families of three deities , with a father , mother , and child , represent the creation of new life and the succession of the father by the child , a pattern that connects divine families with royal succession . Osiris , Isis , and Horus formed the quintessential family of this type . The pattern they set grew more widespread over time , so that many deities in local cult centers , like Ptah , Sekhmet , and their child Nefertum at Memphis and Amun , Mut , and Khonsu at Thebes , were assembled into family triads . Genealogical connections like these are changeable , in keeping with the multiple perspectives in Egyptian belief . Hathor , as a fertility goddess , could act as mother to any child god , including the child form of the sun god , although in other circumstances she was the sun god 's daughter .
Other divine groups were composed of deities with interrelated roles , or who together represented a region of the Egyptian mythological cosmos . There were sets of gods for the hours of the day and night and for each nome ( province ) of Egypt . Some of these groups contain a specific , symbolically important number of deities . Paired gods can stand for opposite but interrelated concepts that are part of a greater unity . Ra , who is dynamic and light @-@ producing , and Osiris , who is static and shrouded in darkness , merge into a single god each night . Groups of three are linked with plurality in ancient Egyptian thought , and groups of four connote completeness . Rulers in the late New Kingdom promoted a particularly important group of three gods above all others : Amun , Ra , and Ptah . These deities stood for the plurality of all gods , as well as for their own cult centers ( the major cities of Thebes , Heliopolis , and Memphis ) and for many threefold sets of concepts in Egyptian religious thought . Sometimes Set , the patron god of the Nineteenth Dynasty kings and the embodiment of disorder within the world , was added to this group , which emphasized a single coherent vision of the pantheon .
Nine , the product of three and three , represents a multitude , so the Egyptians called several large groups " enneads " , or sets of nine , even if they had more than nine members . The most prominent ennead was the Ennead of Heliopolis , an extended family of deities descended from the creator god Atum , which incorporates many important gods . The term " ennead " was often extended to include all of Egypt 's deities .
This divine assemblage had a vague and changeable hierarchy . Gods with broad influence in the cosmos or who were mythologically older than others had higher positions in divine society . At the apex of this society was the king of the gods , who was usually identified with the creator deity . In different periods of Egyptian history , different gods were most frequently said to hold this exalted position . Horus was the most important god in the Early Dynastic Period , Ra rose to preeminence in the Old Kingdom , Amun was supreme in the New , and in the Ptolemaic and Roman periods , Isis was the divine queen and creator goddess . Newly prominent gods tended to adopt characteristics from their predecessors . Isis absorbed the traits of many other goddesses during her rise , and when Amun became the ruler of the pantheon , he was conjoined with Ra , the traditional king of the gods , to become a solar deity .
The gods were believed to manifest in many forms . The Egyptians had complex conception of the human soul , consisting of several parts . The spirits of the gods were composed of many of these same elements . The ba was the component of the human or divine soul that affected the world around it . Any visible manifestation of a god 's power could be called its ba ; thus , the sun was called the ba of Ra . A depiction of a deity was considered a ka , another component of its being , which acted as a vessel for that deity 's ba to inhabit . The cult images of gods that were the focus of temple rituals , as well as the sacred animals that represented certain deities , were believed to house divine bas in this way . Gods could be ascribed many bas and kas , which were sometimes given names representing different aspects of the god 's nature . Everything in existence was said to be one of the kas of Atum the creator god , who originally contained all things within himself , and one deity could be called the ba of another , meaning that the first god is a manifestation of the other 's power . Divine body parts could act as separate deities , like the Eye of Ra and Hand of Atum , both of which were personified as goddesses .
Nationally important deities gave rise to local manifestations , which sometimes absorbed the characteristics of older regional gods . Horus had many forms tied to particular places , including Horus of Nekhen , Horus of Buhen , and Horus of Edfu . Such local manifestations could be treated almost as separate beings . During the New Kingdom , one man was accused of stealing clothes by an oracle supposed to communicate messages from Amun of Pe @-@ Khenty . He consulted two other local oracles of Amun hoping for a different judgment . Gods ' manifestations also differed according to their roles . Horus could be a powerful sky god or vulnerable child , and these forms were sometimes counted as independent deities .
Gods were combined with each other as easily as they were divided . A god could be called the ba of another , or two or more deities could be joined into one god with a combined name and iconography . Local gods were linked with greater ones , and deities with similar functions were combined . Ra was connected with the local deity Sobek to form Sobek @-@ Ra ; with his fellow ruling god , Amun , to form Amun @-@ Ra ; with the solar form of Horus to form Ra @-@ Horakhty ; and with several solar deities as Horemakhet @-@ Khepri @-@ Ra @-@ Atum . On rare occasion , even deities of different sexes were joined in this way , producing combinations like Osiris @-@ Neith and Mut @-@ Min . This linking of deities is called syncretism . Unlike other situations for which this term is used , the Egyptian practice was not meant to fuse competing belief systems , although foreign deities could be syncretized with native ones . Instead , syncretism acknowledged the overlap between their roles , and extended the sphere of influence for each of them . Syncretic combinations were not permanent ; a god who was involved in one combination continued to appear separately and to form new combinations with other deities . But closely connected deities did sometimes merge . Horus absorbed several falcon gods from various regions , such as Khenty @-@ irty and Khenty @-@ khety , who became little more than local manifestations of him ; Hathor subsumed a similar cow goddess , Bat ; and an early funerary god , Khenti @-@ Amentiu , was supplanted by Osiris and Anubis .
In the reign of Akhenaten ( c . 1353 – 1336 BC ) in the mid @-@ New Kingdom , a single solar deity , the Aten , became the sole focus of the state religion . Akhenaten ceased to fund the temples of other deities and erased the gods ' names and images on monuments , targeting Amun in particular . This new religious system , sometimes called Atenism , differed dramatically from the polytheistic worship of many gods in all other periods . Whereas , in earlier times , newly important gods were integrated into existing religious beliefs , Atenism insisted on a single understanding of the divine that excluded the traditional multiplicity of perspectives . Yet Atenism may not have been full monotheism , which totally excludes belief in other deities . There is evidence suggesting that the general populace was still allowed to worship other gods in private . The picture is further complicated by Atenism 's apparent tolerance for some other deities , like Shu . For these reasons , the Egyptologist Dominic Montserrat suggested that Akhenaten may have been monolatrous , worshipping a single deity while acknowledging the existence of others . In any case , Atenism 's aberrant theology did not take root among the Egyptian populace , and Akhenaten 's successors returned to traditional beliefs .
Scholars have long debated whether traditional Egyptian religion ever asserted that the multiple gods were , on a deeper level , unified . Reasons for this debate include the practice of syncretism , which might suggest that all the separate gods could ultimately merge into one , and the tendency of Egyptian texts to credit a particular god with power that surpasses all other deities . Another point of contention is the appearance of the word " god " in wisdom literature , where the term does not refer to a specific deity or group of deities . In the early 20th century , for instance , E. A. Wallis Budge believed that Egyptian commoners were polytheistic , but knowledge of the true monotheistic nature of the religion was reserved for the elite , who wrote the wisdom literature . His contemporary James Henry Breasted thought Egyptian religion was instead pantheistic , with the power of the sun god present in all other gods , while Hermann Junker argued that Egyptian civilization had been originally monotheistic and became polytheistic in the course of its history .
In 1971 , Erik Hornung published a study rebutting these views . He points out that in any given period many deities , even minor ones , were described as superior to all others . He also argues that the unspecified " god " in the wisdom texts is a generic term for whichever deity the reader chooses to revere . Although the combinations , manifestations , and iconographies of each god were constantly shifting , they were always restricted to a finite number of forms , never becoming fully interchangeable in a monotheistic or pantheistic way . Henotheism , Hornung says , describes Egyptian religion better than other labels . An Egyptian could worship any deity at a particular time and credit it with supreme power in that moment , without denying the other gods or merging them all with the god that he or she focused on . Hornung concludes that the gods were fully unified only in myth , at the time before creation , after which the multitude of gods emerged from a uniform nonexistence .
Hornung 's arguments have greatly influenced other scholars of Egyptian religion , but some still believe that at times the gods were more unified than he allows . Jan Assmann maintains that the notion of a single deity developed slowly through the New Kingdom , beginning with a focus on Amun @-@ Ra as the all @-@ important sun god . In his view , Atenism was an extreme outgrowth of this trend . It equated the single deity with the sun and dismissed all other gods . Then , in the backlash against Atenism , priestly theologians described the universal god in a different way , one that coexisted with traditional polytheism . The one god was believed to transcend the world and all the other deities , while at the same time , the multiple gods were aspects of the one . According to Assmann , this one god was especially equated with Amun , the dominant god in the late New Kingdom , whereas for the rest of Egyptian history the universal deity could be identified with many other gods . James P. Allen says that coexisting notions of one god and many gods would fit well with the " multiplicity of approaches " in Egyptian thought , as well as with the henotheistic practice of ordinary worshippers . He says that the Egyptians may have recognized the unity of the divine by " identifying their uniform notion of ' god ' with a particular god , depending on the particular situation . "
Egyptian writings describe the gods ' bodies in detail . They are made of precious materials ; their flesh is gold , their bones are silver , and their hair is lapis lazuli . They give off a scent that the Egyptians likened to the incense used in rituals . Some texts give precise descriptions of particular deities , including their height and eye color . Yet these characteristics are not fixed ; in myths , gods change their appearances to suit their own purposes . Egyptian texts often refer to deities ' true , underlying forms as " mysterious " . The Egyptians ' visual representations of their gods are therefore not literal . They symbolize specific aspects of each deity 's character , functioning much like the ideograms in hieroglyphic writing . For this reason , the funerary god Anubis is commonly shown in Egyptian art as a dog or jackal , a creature whose scavenging habits threaten the preservation of buried mummies , in an effort to counter this threat and employ it for protection . His black coloring alludes to the color of mummified flesh and to the fertile black soil that Egyptians saw as a symbol of resurrection .
Most gods were depicted in several ways . Hathor could be a cow , cobra , lioness , or a woman with bovine horns or ears . By depicting a given god in different ways , the Egyptians expressed different aspects of its essential nature . The gods are depicted in a finite number of these symbolic forms , so that deities can often be distinguished from one another by their iconographies . These forms include men and women ( anthropomorphism ) , animals ( zoomorphism ) , and , more rarely , inanimate objects . Combinations of forms , such as gods with human bodies and animal heads , are common . New forms and increasingly complex combinations arose in the course of history . Some gods can only be distinguished from others if they are labeled in writing , as with Isis and Hathor . Because of the close connection between these goddesses , they could both wear the cow @-@ horn headdress that was originally Hathor 's alone .
Certain features of divine images are more useful than others in determining a god 's identity . The head of a given divine image is particularly significant . In a hybrid image , the head represents the original form of the being depicted , so that , as the Egyptologist Henry Fischer put it , " a lion @-@ headed goddess is a lion @-@ goddess in human form , while a royal sphinx , conversely , is a man who has assumed the form of a lion . " Divine headdresses , which range from the same types of crowns used by human kings to large hieroglyphs worn on gods ' heads , are another important indicator . In contrast , the objects held in gods ' hands tend to be generic . Male deities hold was staffs , goddesses hold stalks of papyrus , and both sexes carry ankh signs , representing the Egyptian word for " life " , to symbolize their life @-@ giving power .
The forms in which the gods are shown , although diverse , are limited in many ways . Many creatures that are widespread in Egypt were never used in divine iconography , whereas a few , such as falcons , cobras , and cattle , can each represent many deities . Animals that were absent from Egypt in the early stages of its history were not used as divine images . For instance , the horse , which was only introduced in the Second Intermediate Period ( c . 1650 – 1550 BC ) , never represented a god . Similarly , the clothes worn by anthropomorphic deities in all periods changed little from the styles used in the Old Kingdom : a kilt , false beard , and often a shirt for male gods and a long , tight @-@ fitting dress for goddesses .
The basic anthropomorphic form varies . Child gods are depicted nude , as are some adult gods when their procreative powers are emphasized . Certain male deities are given heavy bellies and breasts , signifying either androgyny or prosperity and abundance . Whereas most male gods have red skin and most goddesses are yellow — the same colors used to depict Egyptian men and women — some are given unusual , symbolic skin colors . Thus the blue skin and paunchy figure of the god Hapi alludes to the Nile flood he represents and the nourishing fertility it brought . A few deities , such as Osiris , Ptah , and Min , have a " mummiform " appearance , with their limbs tightly swathed in cloth . Although these gods resemble mummies , the earliest examples predate the cloth @-@ wrapped style of mummification , and this form may instead hark back to the earliest , limbless depictions of deities .
In official writings , pharaohs are said to be divine , and they are constantly depicted in the company of the deities of the pantheon . Each pharaoh and his predecessors were considered the successors of the gods who had ruled Egypt in mythic prehistory . Living kings were equated with Horus and called the " son " of many deities , particularly Osiris and Ra ; deceased kings were equated with these elder gods . Pharaohs had their own mortuary temples where rituals were performed for them during their lives and after their deaths . But few pharaohs were worshipped as gods long after their lifetimes , and non @-@ official texts portray kings in a human light . For these reasons , scholars disagree about how genuinely most Egyptians believed the king to be a god . He may only have been considered divine when he was performing ceremonies .
However much it was believed , the king 's divine status was the rationale for his role as Egypt 's representative to the gods , as he formed a link between the divine and human realms . The Egyptians believed the gods needed temples to dwell in , as well as the periodic performance of rituals and presentation of offerings to nourish them . These things were provided by the cults that the king oversaw , with their priests and laborers . Yet , according to royal ideology , temple @-@ building was exclusively the pharaoh 's work , as were the rituals that priests usually performed in his stead . These acts were a part of the king 's fundamental role : maintaining maat . The king and the nation he represented provided the gods with maat so they could continue to perform their functions , which maintained maat in the cosmos so humans could continue to live .
Although the Egyptians believed their gods to be present in the world around them , contact between the human and divine realms was mostly limited to specific circumstances . In literature , gods may appear to humans in a physical form , but in real life the Egyptians were limited to more indirect means of communication .
The ba of a god was said to periodically leave the divine realm to dwell in the images of that god . By inhabiting these images , the gods left their concealed state and took on a physical form . To the Egyptians , a place or object that was ḏsr — " sacred " — was isolated and ritually pure , and thus fit for a god to inhabit . Temple statues and reliefs , as well as particular sacred animals , like the Apis bull , served as divine intermediaries in this way . Dreams and trances provided a very different venue for interaction . In these states , it was believed , people could come close to the gods and sometimes receive messages from them . Finally , according to Egyptian afterlife beliefs , human souls pass into the divine realm after death . The Egyptians therefore believed that in death they would exist on the same level as the gods and fully understand their mysterious nature .
Temples , where the state rituals were carried out , were filled with images of the gods . The most important temple image was the cult statue in the inner sanctuary . These statues were usually less than life @-@ size , and made of the same precious materials that were said to form the gods ' bodies . Many temples had several sanctuaries , each with a cult statue representing one of the gods in a group such as a family triad . The city 's primary god was envisioned as its lord , employing many of the residents as servants in the divine household that the temple represented . The gods residing in the temples of Egypt collectively represented the entire pantheon . But many deities — including some important gods as well as those that were minor or hostile — were never given temples of their own , although some were represented in the temples of other gods .
To insulate the sacred power in the sanctuary from the impurities of the outside world , the Egyptians enclosed temple sanctuaries and greatly restricted access to them . People other than kings and high priests were thus denied contact with cult statues . The only exception was during festival processions , when the statue was carried out of the temple but still enclosed in a portable shrine . People did have less direct means of interaction . The more public parts of temples often incorporated small places for prayer , from doorways to freestanding chapels near the back of the temple building . Communities also built and managed small chapels for their own use , and some families had shrines inside their homes . Despite the gulf that separated humanity from the divine , the Egyptians were surrounded by opportunities to approach their gods .
Egyptian gods were involved in human lives as well as in the overarching order of nature . This divine influence applied mainly to Egypt , as foreign peoples were traditionally believed to be outside the divine order . But in the New Kingdom , when other nations were under Egyptian control , foreigners were said to be under the sun god 's benign rule in the same way that Egyptians were .
Thoth , as the overseer of time , was said to allot fixed lifespans to both humans and gods . Other gods were also said to govern the length of human lives , including Meskhenet , who presided over birth , and Shai , the personification of fate . Thus the time and manner of death was the main meaning of the Egyptian concept of fate , although to some extent these deities governed other events in life as well . Several texts refer to gods influencing or inspiring human decisions , working through a person 's " heart " — the seat of emotion and intellect in Egyptian belief . Deities were also believed to give commands , instructing the king in the governance of his realm and regulating the management of their temples . Egyptian texts rarely mention direct commands given to private persons , and these commands never evolved into a set of divinely enforced moral codes . Morality in ancient Egypt was based on the concept of maat , which , when applied to human society , meant that everyone should live in an orderly way that did not interfere with the well @-@ being of other people . Because deities were the upholders of maat , morality was connected with them . For example , the gods judged humans ' moral righteousness after death , and by the New Kingdom , a verdict of innocence in this judgment was believed to be necessary for admittance into the afterlife . But in general , morality was based on practical ways to uphold maat in daily life , rather than on strict rules that the gods laid out .
Humans had free will to ignore divine guidance and the behavior required by maat , but by doing so they could bring divine punishment upon themselves . A deity carried out this punishment using its ba , the force that manifested the god 's power in the human world . Natural disasters and human ailments were seen as the work of angry divine bas . Conversely , the gods could cure righteous people of illness or even extend their lifespans . Both these types of intervention were eventually represented by deities : Shed , who emerged in the New Kingdom to represent divine rescue from harm , and Petbe , an apotropaic god from the late eras of Egyptian history who was believed to avenge wrongdoing .
Egyptian texts take different views on whether the gods are responsible when humans suffer unjustly . Misfortune was often seen as a product of isfet , the cosmic disorder that was the opposite of maat , and therefore the gods were not guilty of causing evil events . Some deities who were closely connected with isfet , such as Set , could be blamed for disorder within the world without placing guilt on the other gods . But some writings do accuse the deities of causing human misery , while others give theodicies in the gods ' defense . Beginning in the Middle Kingdom , several texts connected the issue of evil in the world with a myth in which the creator god fights a human rebellion against his rule and then withdraws from the earth . Because of this human misbehavior , the creator is distant from his creation , allowing suffering to exist . New Kingdom writings do not question the just nature of the gods as strongly as those of the Middle Kingdom . They emphasize humans ' direct , personal relationships with deities and the gods ' power to intervene in human events . People in this era put faith in specific gods who they hoped would help and protect them through their lives . As a result , upholding the ideals of maat grew less important than gaining the gods ' favor as a way to guarantee a good life . Even the pharaohs were regarded as dependent on divine aid , and after the New Kingdom came to an end , government was increasingly influenced by oracles communicating the gods ' will .
Official religious practices , which maintained maat for the benefit of all Egypt , were related to , but distinct from , the religious practices of ordinary people , who sought the gods ' help for their personal problems .
Official religion involved a variety of rituals , based in temples . Some rites were performed every day , whereas others were festivals , taking place at longer intervals and often limited to a particular temple or deity . The gods received their offerings in daily ceremonies , in which their statues were clothed , anointed , and presented with food as hymns were recited in their honor . These offerings , in addition to maintaining maat for the gods , celebrated deities ' life @-@ giving generosity and encouraged them to remain benevolent rather than vengeful .
Festivals often involved a ceremonial procession in which a cult image was carried out of the temple in a barque @-@ shaped shrine . These processions served various purposes . In Roman times , when local deities of all kinds were believed to have power over the Nile inundation , processions in many communities carried temple images to the riverbanks so the gods could invoke a large and fruitful flood . Processions also traveled between temples , as when the image of Hathor from Dendera Temple visited her consort Horus at the Temple of Edfu . Rituals for a god were often based in that deity 's mythology . Such rituals were meant to be repetitions of the events of the mythic past , renewing the beneficial effects of the original events . In the Khoiak festival in honor of Osiris , his death and resurrection were ritually reenacted at a time when crops were beginning to sprout . The returning greenery symbolized the renewal of the god 's own life .
Personal interaction with the gods took many forms . People who wanted information or advice consulted oracles , run by temples , that were supposed to convey gods ' answers to questions . Amulets and other images of protective deities were used to ward off the demons that might threaten human well @-@ being or to impart the god 's positive characteristics to the wearer . Private rituals invoked the gods ' power to accomplish personal goals , from healing sickness to cursing enemies . These practices used heka , the same force of magic that the gods used , which the creator was said to have given to humans so they could fend off misfortune . The performer of a private rite often took on the role of a god in a myth , or even threatened a deity , to involve the gods in accomplishing the goal . Such rituals coexisted with private offerings and prayers , and all three were accepted means of obtaining divine help .
Prayer and private offerings are generally called " personal piety " : acts that reflect a close relationship between an individual and a god . Evidence of personal piety is scant before the New Kingdom . Votive offerings and personal names , many of which are theophoric , suggest that commoners felt some connection between themselves and their gods . But firm evidence of devotion to deities became visible only in the New Kingdom , reaching a peak late in that era . Scholars disagree about the meaning of this change — whether direct interaction with the gods was a new development or an outgrowth of older traditions . Egyptians now expressed their devotion through a new variety of activities in and around temples . They recorded their prayers and their thanks for divine help on stelae . They gave offerings of figurines that represented the gods they were praying to , or that symbolized the result they desired ; thus a relief image of Hathor and a statuette of a woman could both represent a prayer for fertility . Occasionally , a person took a particular god as a patron , dedicating his or her property or labor to the god 's cult . These practices continued into the latest periods of Egyptian history . These later eras saw more religious innovations , including the practice of giving animal mummies as offerings to deities depicted in animal form , such as the cat mummies given to the feline goddess Bastet . Some of the major deities from myth and official religion were rarely invoked in popular worship , but many of the great state gods were important in popular tradition .
The worship of some Egyptian gods spread to neighboring lands , especially to Canaan and Nubia during the New Kingdom , when those regions were under pharaonic control . In Canaan , the exported deities , including Hathor , Amun , and Set , were often syncretized with native gods , who in turn spread to Egypt . The Egyptian deities may not have had permanent temples in Canaan , and their importance there waned after Egypt lost control of the region . In contrast , many temples to the major Egyptian gods and deified pharaohs were built in Nubia . After the end of Egyptian rule there , the imported gods , particularly Amun and Isis , were syncretized with local deities and remained part of the religion of Nubia 's independent Kingdom of Kush . These gods were incorporated into the Nubian ideology of kingship much as they were in Egypt , so that Amun was considered the divine father of the king and Isis and other goddesses were linked with the Nubian queen , the kandake . Some deities reached farther . Taweret became a goddess in Minoan Crete , and Amun 's oracle at Siwa Oasis was known to and consulted by people across the Mediterranean region .
Under the Greek Ptolemaic Dynasty and then Roman rule , Greeks and Romans introduced their own deities to Egypt . These newcomers equated the Egyptian gods with their own , as part of the Greco @-@ Roman tradition of interpretatio graeca . But the worship of the native gods was not swallowed up by that of foreign ones . Instead , Greek and Roman gods were adopted as manifestations of Egyptian ones . Egyptian cults sometimes incorporated Greek language , philosophy , iconography , and even temple architecture . Meanwhile , the cults of several Egyptian deities — particularly Isis , Osiris , Anubis , the form of Horus named Harpocrates , and the fused Greco @-@ Egyptian god Serapis — were adopted into Roman religion and spread across the Roman Empire . Roman emperors , like Ptolemaic kings before them , invoked Isis and Serapis to endorse their authority , inside and outside Egypt . In the empire 's complex mix of religious traditions , Thoth was transmuted into the legendary esoteric teacher Hermes Trismegistus , and Isis , who was venerated from Britain to Mesopotamia , became the focus of a Greek @-@ style mystery cult . Isis and Hermes Trismegistus were both prominent in the Western esoteric tradition that grew from the Roman religious world .
Temples and cults in Egypt itself declined as the Roman economy deteriorated in the third century AD , and beginning in the fourth century , Christians suppressed the veneration of Egyptian deities . The last formal cults , at Philae , died out in the fifth or sixth century . Most beliefs surrounding the gods themselves disappeared within a few hundred years , remaining in magical texts into the seventh and eighth centuries . But many of the practices involved in their worship , such as processions and oracles , were adapted to fit Christian ideology and persisted as part of the Coptic Church . Given the great changes and diverse influences in Egyptian culture since that time , scholars disagree about whether any modern Coptic practices are descended from those of pharaonic religion . But many festivals and other traditions of modern Egyptians , both Christian and Muslim , resemble the worship of their ancestors ' gods .
South of Heaven is the fourth studio album by American thrash metal band Slayer . Released on July 5 , 1988 , the album was the band 's second collaboration with record producer Rick Rubin , whose production skills on Slayer 's previous album Reign in Blood had helped the band 's sound evolve .
South of Heaven was Slayer 's second album to enter the Billboard 200 , and its last to be released by Def Jam Recordings , although the album became an American Recordings album after Rick Rubin ended his partnership with Russell Simmons . It was one of only two Def Jam titles to be distributed by Geffen Records through Warner Bros. Records because of original distributor Columbia Records ' refusal to release work by the band . The release peaked at number 57 and in 1992 was awarded a gold certification by the Recording Industry Association of America .
In order to offset the pace of the group 's previous album , Slayer deliberately slowed down the album 's tempo . In contrast to their previous albums , the band utilized undistorted guitars and toned @-@ down vocals . While some critics praised this musical change , others — more accustomed to the style of earlier releases — were disappointed . The songs " Mandatory Suicide " and the title track , however , have become permanent features of the band 's live setlist .
South of Heaven was recorded in Los Angeles , California with Reign in Blood producer Rick Rubin . PopMatters reviewer Adrien Begrand observed that Rubin 's production " shoves [ Dave ] Lombardo 's drumming right up front in the mix . " Guitarist Jeff Hanneman has since said that South of Heaven was the only album the band members discussed before writing the music . Aware that they " couldn 't top Reign in Blood " , and that whatever they recorded would be " compared to that album " , he believed they " had to slow down " , something Slayer had never done on albums before , or since . Guitarist Kerry King cited the need to " keep people guessing " as another reason for the musical shift . " In order to contrast the aggressive assault put forth on Reign in Blood , Slayer consciously slowed down the tempo of the album as a whole " , according to Slayer 's official biography . " They also added elements like undistorted guitars and toned @-@ down vocal styles not heard on previous albums . "
King has since been critical of his performance , which he describes as his " most lackluster . " King attributes this to the fact he had recently married , and moved to Phoenix , Arizona . Describing himself as " probably the odd man out at that point " , he admitted he " didn ’ t participate as much because of that . " Hanneman said : " We go through dry spells sometimes , but the good thing about having two guitar players that can write music is that you are never gonna go without . I guess at that time , Kerry was hitting a dry spell . " King has also been critical of the album in general , describing it as one of his least favorite Slayer albums . He feels vocalist Tom Araya moved too far away from his regular vocal style , and " added too much singing . " Drummer Dave Lombardo has since observed : " There was fire on all the records , but it started dimming when South of Heaven came into the picture . And that 's me personally . Again , I was probably wanting something else . "
Judas Priest 's " Dissident Aggressor " is the only cover version to appear on a Slayer studio album . The song was chosen due to its war @-@ themed lyrics . Hanneman described the track as " more just like one of those odd songs that a lot of people didn 't know , but it was a favorite of Kerry and I , so we just picked that one . " Meanwhile , " Cleanse the Soul " has been heavily criticized by King who said that he hates the track : " That 's one of the black marks in our history , in my book . I just fucking think it 's horrible . [ Laughs ] I hate the opening riff . It 's what we call a ' happy riff . ' It 's just like ' la @-@ lala @-@ la @-@ la @-@ la . ' I can 't see myself playing it , but after that , where it gets heavier , I like that section . If we ever did a medley , I 'd put part of that in there . " The Slayer boxset Soundtrack to the Apocalypse featured , along with four songs of the album , an early version of the title track , recorded at Hanneman 's home .
Artist Larry Carroll and Illustrator Howard Schwartzberg designed the cover artwork for South of Heaven , having designed the artwork for Slayer 's previous album Reign in Blood . Photographer Glen E. Friedman took the promotional shot which surfaced as the back cover of South of Heaven around the time of 1986 's Reign in Blood . Lombardo felt it made Slayer seem as though they " had matured a little bit " , while Friedman himself deemed it " a really cool back cover " and " one of the most classic shots of them [ Slayer ] ever . "
South of Heaven was released on July 5 , 1988 , and was the final Slayer album distributed via Def Jam Records . When label co @-@ founders Russell Simmons and Rubin parted ways , Slayer signed to Rubin 's newly founded Def American Recordings label . The album peaked at number 57 on the Billboard 200 album chart , and on November 20 , 1992 , became Slayer 's second album to be certified gold in the United States . South of Heaven was awarded silver certification in the United Kingdom on January 1 , 1993 , Slayer 's first record to do so in that country . Slayer 's official biography states that " some critics praised the album as demonstrating Slayer 's desire to grow musically and avoid repeating themselves . " Alex Henderson of AllMusic described the record as " disturbing and powerful , " while Joe Matera of Ultimate Guitar deemed the album a slight departure ; he wrote that while the pace was slowed down , it " didn 't sacrifice any of the heaviness inherent in Slayer 's music . "
Reviewing the 2003 Slayer box set Soundtrack to the Apocalypse , Adrien Begrand of PopMatters described the album as " their most underrated , and on this set , its five selections show how highly the band thinks of the record . " KNAC.com 's Peter Atkinson was also positive , saying the album has a " grandiosity and imposing presence " which makes the record " so magnificent . " Grave 's Ola Lindgren and Bolt Thrower 's Karl Willetts both rate South of Heaven as amongst the top five albums of all time , while Max Kolesne of Brazilian death metal group Krisiun remembers hearing the song " Silent Scream " for the first time : " It just blew me away . It was like fast double @-@ bass , fast kicks during the whole song . That was very inspiring for me . " When discussing Slayer in an October 2007 interview , Evile frontman Matt Drake stated that while Reign in Blood " was just speed " , South of Heaven proved that the group could write " slow material as well . " Metal Forces reviewer gives " the band credit for at least making an effort to try something new and not being afraid to experiment at such a crucial stage of their career " , creating " one of the more original sounding thrash / speed metal albums he heard in a long while " . He remarks , however , that " if you ’ re expecting to hear Reign in Blood Part Two , you ’ ll be in for a major disappointment " .
Kim Neely of Rolling Stone dismissed the album as " genuinely offensive satanic drivel . " Slayer 's official biography states : " The new sounds disappointed some of the band 's fans who were more accustomed to the style of earlier releases . " Michael Roberts of Westworld Online said this was due to some of the numbers moving " at the sludgier speed of Black Sabbath . " Araya commented that the " album was a late bloomer — it wasn 't really received well , but it kind of grew on everybody later . "
The title track and the song " Mandatory Suicide " have received various cover interpretations , particularly on Slayer tribute albums . Toni Ferguson recorded string quartet adaptations of both tracks on the album The String Quartet Tribute to Slayer : The Evil You Dread , with the former cover being described as having " menacing chord shifts " by AllMusic 's Johnny Loftus .
1995 Slayer tribute album Slatanic Slaughter featured three tracks which originally appeared on South of Heaven , with the title track , " Mandatory Suicide " and " Spill the Blood " interpreted by Cemetary , Crown of Thorns and Grope respectively . Its 1998 follow up Slatanic Slaughter , Vol . 2 only featured two tracks originally from the album ; namely " Silent Scream " arranged by Vader and " Read Between the Lies " interpreted by Anathema . 1999 's Straight to Hell : A Tribute to Slayer collected four Slayer renditions which originated on the album , with versions of South of Heaven performed by Abaddon ( Venom ) and Electric Hellfire Club , " Mandatory Suicide " cut by Chapter 7 and " Behind the Crooked Cross " adapted by Gigantor . 2006 Argentine tribute album Al Sur Del Abismo ( Tributo Argentino A Slayer ) saw Nafak and Climatic Terra also respectively cover " South of Heaven " and " Mandatory Suicide " . Hatebreed covered the song " Ghosts of War " for their 2009 cover album For the Lions . They released a music video for it also . Korn has covered the title track at least twice live , once with Kid Rock on vocals and another using the intro to follow into one of their songs live .
The title track itself has also been covered by Integrity 2000 , Modest Mouse and Califone , Pro @-@ Pain , and Universe Eye . Polish death metal band Decapitated covered the song " Mandatory Suicide " on their first full @-@ length album Winds of Creation . In 2003 , " Silent Scream " was covered by Children of Bodom for their album Hate Crew Deathroll in his UK version . Hardcore Punk band , The Mongoloids opened their set with the beginning of " South of Heaven " at Heartfest 7 on May 4 , 2013
Two songs taken from the album ( " Mandatory Suicide " and " South of Heaven " ) have become near constant fixtures in the band 's live setlist , notching up appearances on the following : the live DVDs Live Intrusion , War at the Warfield , Still Reigning , Soundtrack to the Apocalypse 's deluxe edition 's bonus live disc , and the live double album Decade of Aggression . Lombardo guested with Finnish cellist group Apocalyptica on a live medley of the two tracks at 1998 's Headbanger 's Heaven festival in the Netherlands . Adrien Begrand of PopMatters described " South of Heaven " as " an unorthodox set opener in theory " , noting " the song went over like a megaton bomb detonating the place : dozens of inverted crosses projected behind the high drum riser , the sinewy opening notes kicked in , followed by an overture of bass , cymbal crashes , and tom fills , leading up to the slowly building crescendo " in a concert review . Lombardo remembers listening to a live rendition of " South of Heaven " and thinking " ‘ Man ! There 's just so much groove in that song . ’ To my kids I was saying , ‘ Listen to that ! Listen to how groovy that is ! ’ And it 's heavy . " A rare live version of the track featured on the JÄGERMUSIC Rarities 2004 promotional CD , given away to attendees at the Spring 2004 Jägermeister Music Tour . A live rendition of " South of Heaven " was also included on a bonus DVD which came with the group 's 2007 re @-@ release of ninth studio album Christ Illusion , shot in Vancouver , British Columbia during 2006 's Unholy Alliance tour .
" Behind the Crooked Cross " is rarely played live as Hanneman hates the track , though King has always wanted to play it " because it 's got a cool intro " despite it not being his favorite song . King said " that 's fine " when speaking of the situation , noting " there are songs that he wants to play that I always shoot down . " " Ghosts of War " isn 't King 's favorite song either , which he attests " everybody always wants to hear " performed live . He confessed ; " I like the ending , you know , I like the big heavy part and I always say , ‘ Let 's put the heavy ending at the end of " Chemical Warfare " and just do the last half . ’ But I could never make that fly . "
Slayer has toyed with the idea of creating a live set mixed with selections from the album and 1990 's Seasons in the Abyss , though Hanneman said it 's something which hasn 't been " seriously considered . " Metal Maniacs asked Slayer in a 2006 interview whether they would consider playing South of Heaven in the footsteps of the Still Reigning tour , to which Araya replied , " It 's becoming a trendy thing now . I don 't know . We have some really cool albums , but I don 't think we 'll ever do that again . " King was equally unsure , commenting , " Probably not . And I just don 't like enough songs off South of Heaven . "
Kerry King – lead and rhythm guitar , backing vocals
General aviation in the United Kingdom has been defined as a civil aircraft operation other than a commercial air transport flight operating to a schedule or military aviation . Although the International Civil Aviation Organization ( ICAO ) excludes any form of remunerated aviation from its definition , some commercial operations are often included within the scope of general aviation ( GA ) in the UK . The sector operates business jets , rotorcraft , piston and jet @-@ engined fixed @-@ wing aircraft , gliders of all descriptions , and lighter than air craft . Public transport operations include business ( or corporate ) aviation and air taxi services , and account for nearly half of the economic contribution made by the sector . Other commercial GA activities are aerial work , such as surveying and air ambulances , and flight training , which plays an important role in the supply of pilots to the commercial air transport ( CAT ) industry . Private flying is conducted for personal transport and recreation . It includes a strong vintage aircraft movement , and encompasses a range of air sports , such as racing , aerobatics , and parachuting , at which British teams and individuals have succeeded in international competition .
Of the 21 @,@ 000 civil aircraft registered in the UK , 96 per cent are engaged in GA operations , and annually the GA fleet accounts for between 1 @.@ 25 and 1 @.@ 35 million hours flown . The single most common class of aircraft is the fixed @-@ wing light aircraft associated with traditional GA , but the main area of growth over the last 20 years has been in the use of more affordable aircraft , such as microlights , amateur built aeroplanes , and smaller helicopters . There are 28 @,@ 000 Private Pilot Licence holders , and 10 @,@ 000 certified glider pilots . Some of the 19 @,@ 000 pilots who hold professional licences are also engaged in GA activities . Although GA operates from more than 1 @,@ 800 aerodromes and landing sites , ranging in size from large regional airports to farm strips , over 80 per cent of GA activity is conducted at 134 of the larger aerodromes . The GA industry , which is around 7 per cent the size of its CAT cousin , employs 12 @,@ 000 people , and contributes £ 1 @.@ 4 billion to the UK economy .
GA is regulated by the Civil Aviation Authority ( CAA ) , although regulatory powers are being increasingly transferred to the European Aviation Safety Agency ( EASA ) . The main focus is on standards of airworthiness and pilot licensing , and the objective is to promote high standards of safety . At the lighter end of the GA spectrum some regulatory authority is devolved to representative bodies , and gliding is in transition from a self @-@ regulatory model to more formal governance by EASA . Airspace regulation necessary to protect an increasing number of CAT operations has reduced the area in which GA flights can be freely conducted . The growth in CAT is also making access to larger airports more difficult for the GA sector , and smaller aerodromes are vulnerable to closure and re @-@ development for more profitable uses . The UK planning system has no remit to consider the national significance of GA public transport operations , and generally does not favour the development of smaller aerodromes catering to the GA market . The planning process has become a mechanism for addressing local aerodrome @-@ related environmental issues which , particularly regarding noise , are the main subjects of public criticism levelled at GA .
The International Civil Aviation Organization ( ICAO ) defines general aviation ( GA ) as " an aircraft operation other than a commercial air transport operation or an aerial work operation . " It defines commercial air transport ( CAT ) as " an aircraft operation involving the transport of passengers , cargo or mail for remuneration or hire " , and aerial work as " an aircraft operation in which an aircraft is used for specialized services such as agriculture , construction , photography , surveying , observation and patrol , search and rescue , aerial advertisement , etc . "
Organisations in the United Kingdom ( UK ) describe GA in less restrictive terms that include elements of commercial aviation . The British Business and General Aviation Association interprets it to be " all aeroplane and helicopter flying except that performed by the major airlines and the Armed Services " . The General Aviation Awareness Council applies the description " all Civil Aviation operations other than scheduled air services and non @-@ scheduled air transport operations for remuneration or hire " . For the purposes of a strategic review of GA in the UK , the Civil Aviation Authority ( CAA ) defined the scope of GA as " a civil aircraft operation other than a commercial air transport flight operating to a schedule " , and considered it necessary to depart from the ICAO definition and include aerial work and minor CAT operations .
The first aerodrome in the UK was established by the Aero Club at Muswell Manor on the Isle of Sheppey , and in May 1909 it was the venue of the first flight conducted in the country by a British pilot , John Moore @-@ Brabazon . In 1910 the Aero Club was granted the Royal prefix , took responsibility for controlling all private flying in the UK , and started issuing the first British pilot licences . The introduction of the de Havilland DH.60 Moth in 1925 revolutionised light aviation , and the Royal Aero Club , recognising the " vital necessity of promoting civil flying " , formed the Light Aeroplane Club scheme . Between 1925 and 1939 around 60 flying clubs were started , and more than 5 @,@ 000 pilots were trained .
During World War II civil aerodromes were taken over for military use , existing military airfields were expanded , and new ones were built . This resulted in a significant inventory of facilities becoming available after the war . Pre @-@ war civil aerodromes , for example Sywell , were returned to civilian use . Surplus military airfields were closed , and in some cases , for example Beccles , subsequently re @-@ opened as civil aerodromes . The Ministry of Civil Aviation was created to regulate all civil aviation in the UK , and this task remained the responsibility of government departments until the establishment of the independent CAA in 1972 .
With an expanded infrastructure in place , GA became established after the war when manufacturers such as Cessna and Piper introduced light aircraft designed for the private market . The Cessna 172 , developed from the late 1940s Cessna 170 , was introduced in 1956 , and became the world 's best selling single @-@ engine aeroplane . Single piston @-@ engine aircraft are still the most common class of aircraft in the UK GA fleet . The development of the Rogallo wing in the 1950s fostered the development of hang @-@ gliding during the 1960s and 1970s . The 1960s also saw experiments with motorised hang gliders , but it was not until the 1970s that this blend of technologies started to mature , resulting in the birth of the microlight movement . Another milestone in the development of GA was the 1964 introduction of the Learjet 23 . Although it was not the first business jet , it popularised corporate aviation , and established the personal jet as a " whole new class of aircraft " .
The GA sector operates a range of aircraft , including balloons and airships , gliders , hang gliders , paragliders , microlights , gyrocopters , helicopters , amateur built and mass @-@ produced light aircraft , ex @-@ military aircraft , and business jets . Flights can be broadly categorised as public transport , aerial work , and private flying , the first two of which are commercial activities .
Commercial operations are remunerated activities which fall within the ICAO definition of CAT . Some are , however , closely aligned to , and considered part of , the GA sector . Public transport operations are non @-@ scheduled , on @-@ demand services flying between points specified by the customer , providing a more flexible service than airline travel . Air taxi operations offer charter services for third parties , and business or corporate aviation uses company @-@ owned aircraft to transport employees and clients . Aircraft used in these operations include business jets , helicopters , and twin piston @-@ engine aeroplanes carrying between six and ten people . An example of this type of operation is the transport by helicopter of spectators to the British Formula One grand prix at Silverstone . This involves so many flights that , according to Cranfield Aviation Services , on race day the heliport is temporarily the world 's busiest airport . Aerial work is a small but important component of the commercial GA sector , characterised in its simplest form as remunerated non @-@ transport activities , such as surveying , crop spraying , and emergency services work ( air ambulance and police ) .
Flying schools are commercial businesses engaged in the training of pilots , both for recreational purposes and for those intending to fly professionally . They make widespread use of fixed @-@ wing light aircraft associated with traditional GA , not only for flying lessons but also as club aircraft rented out to qualified pilots for recreational flights . School @-@ owned aircraft account for a significant amount of GA activity , both in terms of hours flown and aircraft movements . The pilot training element is regarded by the GA community as a key benefit that is critical to the supply of pilots for the airline industry . It is claimed by the General Aviation Awareness Council that 60 – 70 per cent of professional pilots have self @-@ financed their flight training at GA schools , and one UK airline operator has stated that the industry must rely on 70 – 80 per cent of new pilots coming from the GA sector . The CAA estimates that between 1996 and 2006 the number of new professional pilots following the unsponsored training route rose from 48 per cent to 59 per cent . The counter argument to this claim is that pilots can be trained outside of the UK , and that the airline industry is not therefore dependent on a healthy GA sector in the UK for its supply of pilots . The CAA concludes that a severe reduction in GA would give " some merit to the argument that pilot recruitment would be threatened " , but that the data on flying hours " does not support such a gloomy outlook . " Of course , reliance on other countries for pilot training means that the UK foregoes the economic benefit of the training activity .
Private flying can be for both recreational purposes and personal transport , using aircraft that are owned individually , collectively as part of a syndicate , or rented from a flying club . A survey of pilots conducted between 2001 and 2002 indicated that the most common purposes of recreational flights were local flights near the base aerodrome , visits to other aerodromes , and day trips away . Half of all flights landed at the same aerodrome they departed from , and only 9 per cent involved an overnight stay away from home .
Private flying is most associated with the traditional form of factory @-@ produced two and four @-@ seater , single piston @-@ engine training and touring aircraft . Examples of these are the Cessna 152 , Cessna 172 , and Piper PA28 Cherokee , all with their origins in the 1950s , and the more modern designs of Cirrus . The average cost per hour to fly such aircraft has been estimated to be £ 133 , compared to an estimated £ 77 per hour for gliders , and a reported £ 35 per hour for microlights . Recent trends have seen an increase in the use of microlights , and also in recreational helicopter flying following the introduction of smaller and cheaper machines such as the Robinson R22 and R44 . Another growth area in private flying in recent years has been in the use of amateur built aircraft , such as the Van 's Aircraft RV @-@ 4 and the Europa .
There is a strong vintage aircraft movement in the UK , with two @-@ thirds of the 500 registered historic aircraft active . These cover the whole spectrum of civil and military aviation , examples being the de Havilland Dragon Rapide airliner of the 1930s , and the World War II ( WWII ) Spitfire fighter . There are many post @-@ WWII aircraft which could also be considered historic under a looser definition , including for example 60 ex @-@ military jets such as the Hawker Hunter . Historic aircraft are regular exhibits at air displays , which are claimed to be the second most popular spectator activity after football in the UK .
Competitive gliding in the UK takes place between May and September . Regionals are local competitions , organised and run by one of the bigger gliding clubs in the region , and represent the entry level to glider racing . Races are handicapped according to glider performance , and normally take place over nine days . Success in the regionals allows pilots to progress to the nationals , where there are five classes of competition . These are based on glider performance , the lowest being club class , and then progressing through standard ( maximum 15 metres ( 49 ft ) wingspan , and flaps not permitted ) , 15 metres ( 49 ft ) ( as standard , but flaps are permitted ) , 18 metres ( 59 ft ) ( maximum 18 metres ( 59 ft ) wingspan ) , and finally open @-@ class ( no restrictions ) . Success at national level can lead to a place in the national team and competition at international level . In 2007 the British gliding team was ranked number one , and British pilots took two women 's world championships and the open class European championship .
Handicapped air racing is open to any propeller @-@ driven aircraft capable of maintaining a minimum speed of 100 miles ( 160 km ) per hour in level flight . Races are a case of " fly low , fly fast , turn left " , consisting of 4 – 5 laps round a 20 – 25 mile ( 32 – 40 km ) circuit . Faster aircraft are handicapped by starting after slower aircraft , the intention being that the race concludes with all aircraft diving for the finish line together . There are up to 16 races per year , conducted at airfields in the UK , France and the Channel Islands , for prizes that include the Schneider Trophy and King 's Cup , and the season culminates with the British Air Racing and European Air Racing Championships .
Aerobatic competitions take place for both powered aircraft and gliders , with up to 30 events each year in the UK and Ireland . Starting at the Beginner level , pilots can move up to Standard ( powered aircraft ) or Sports ( glider ) levels , and then on to Intermediate , Advanced , and finally Unlimited classes . Each step up requires a wider repertoire of aerobatic figures and progressively more performance from the aircraft . National championships are awarded annually at Standard / Sports , Intermediate , Advanced ( powered aircraft only ) , and Unlimited levels , and pilots who have reached Advanced and Unlimited levels are eligible for selection to represent the UK in international competition .
Parachute competitions are held at club , regional , national and international levels , and include the disciplines of accuracy landings , freefall gymnastics , formation skydiving , canopy formation , freestyle and freeflying , and skysurfing . British teams consistently win medals in canopy formation world championships , and a British team took the 2006 world championship in women 's 4 @-@ way formation skydiving .
Aerodrome is a collective term for any location from which flying operations take place , although more specific terminology can be used to characterise its purpose . The CAA strategic review of GA applies the term airport to locations which predominantly support large scale commercial operations , and airfield to locations which predominantly support GA operations . The General Aviation Small Aerodrome Research Study ( GASAR ) analysed 687 aerodromes in England which come under the scope of GA , classifying 374 into six types . These range in size from regional airports to the smallest farm strip , although 84 per cent of GA flights operate from 134 of the larger aerodromes in the first four categories .
The factors used in determining how an individual aerodrome is categorised by the GASAR study are based broadly on size and facilities . The six types of aerodrome are described , in size order , as : regional airports ( e.g. East Midlands ) ; major GA airports ( e.g. Oxford ) ; developed GA airfields ( e.g. Andrewsfield ) ; basic GA airfields ( e.g. Rufforth ) ; developed airstrips ( e.g. Tilstock ) ; and basic airstrips ( e.g. Chilbolton in Hampshire ) . The actual criteria used to categorise aerodromes were complex , using 28 different parameters , backed up with a peer review by experienced GA pilots .
Airports generally have long , fully lit , hard @-@ surfaced runways , full air traffic control , and navigation and landing aids . They are usually located on urban fringes , support commercial and business operations , and often exclude certain types of light aircraft . At the more rurally located airfields , the lighter end of aviation , such as microlight and gliding activities , becomes increasingly prevalent , and there are few or no commercial operations other than flying schools . At this level runways are generally shorter , and grass surfaces are increasingly common . Navigation aids are increasingly scarce , being more basic where they are available , and informal ground to air radio communication replaces air traffic control . The smallest airfields are too small to feature on general purpose Ordnance Survey ( OS ) maps , and lack basic facilities such as fuel and maintenance . The majority of airstrips are basically single short grass runways with no supporting facilities , although the presence of a hangar is not uncommon at the larger examples . They do not feature on OS maps , and are owned by private clubs or , more commonly , individuals .
Most aerodromes used for public transport operations are required to be licensed by the CAA . To be granted a licence an aerodrome operator must satisfy the CAA that : the physical conditions at the aerodrome , and its environs , are acceptable ; the scale of equipment , and facilities provided , are adequate for the flying activities which are expected to take place ; an effective safety management system is in place ; and that staff are competent and , where necessary , suitably qualified . Aerodromes classified as developed GA airfields or larger by the GASAR study are , with few exceptions , licensed . Only two basic GA airfields , Silverstone and Duxford , are licensed , and all airstrips are unlicensed . The Light Aviation Airports Study Group , a joint CAA @-@ industry initiative , was established in 2005 to review the regulation of light aviation aerodromes . A particular focus of this group was a review of the restrictions placed on unlicensed aerodromes . The group concluded that the requirement for public transport operations to be conducted only from licensed aerodromes should be further reviewed in the context of corresponding international and European requirements . It also recommended that restrictions on flight training at unlicensed aerodromes should be lifted , and this was permitted from April 2010
There are an estimated 27 @,@ 000 civil aircraft registered in the UK , 96 per cent of which are engaged in GA activities . In 2005 the GA fleet comprised 9 @,@ 000 fixed @-@ wing aircraft , 4 @,@ 100 microlights , 1 @,@ 300 helicopters , 1 @,@ 800 airships / balloons , 2 @,@ 500 gliders and some 7 @,@ 000 hang gliders . Estimates put the number of foreign @-@ registered GA aircraft based in the UK at 900 .
The number of pilots licensed by the CAA to fly powered aircraft in 2005 was 47 @,@ 000 , of whom 28 @,@ 000 held a Private Pilot Licence . The remainder held professional pilot licences , either a Commercial Pilot Licence or an Airline Transport Pilot Licence , although not all of these would be engaged in GA activities . In addition , there are 10 @,@ 000 active glider pilots , and estimates put the membership of aviation @-@ related sport and recreational associations at 36 @,@ 000 .
The number of aerodromes that support GA in the UK is difficult to establish with certainty . Pooleys 2008 United Kingdom Flight Guide lists 355 , and the Airplan Flight Equipment UK VFR Flight Guide 2008 lists nearly 500 . Lockyears Farm ' Strips ' and Private Airfields Flight Guide lists more than 300 landing sites . The GASAR study estimates 1 @,@ 100 formal flying sites in England alone , a figure which includes 400 sites known to planning authorities but not included in flight guides . It estimates another 759 informal sites known only to land owners , customs , and members of the enthusiast group Air @-@ Britain .
The sector was estimated to employ nearly 12 @,@ 000 people and directly contribute £ 1 @.@ 4 billion to the UK economy in 2005 , making it roughly seven per cent of the size of the CAT industry . Nearly half of the economic contribution was generated by business aviation .
Most sectors of GA for which data are available have experienced growth in aircraft numbers and hours flown over the last two decades . The lighter end of the GA spectrum : microlights , amateur built , and airships and balloons , have in particular shown strong growth , although the last of these activities was severely curtailed during the foot @-@ and @-@ mouth outbreak in 2001 , when access to farmland was denied . After strong growth in the late 1980s , traditional flying has shown a slight decline recently , reflecting a move amongst recreational flyers towards microlight aircraft , and increased numbers of foreign @-@ registered aircraft . Recreational helicopter usage has grown primarily due to the introduction of smaller and cheaper aircraft . Glider activity has remained relatively static , although there has been a gradual increase in the number of self @-@ launching motor gliders .
Business aviation has shown strong growth , although the numbers of aircraft on the UK register have declined . This reflects a shift away from turboprop aircraft towards foreign @-@ registered business jets based in the UK , which are estimated to be growing in numbers . However , twin piston @-@ engined aircraft numbers have declined significantly , reflecting pressures on the light air @-@ taxi segment from increasingly flexible and cheaper scheduled services , and a more sophisticated corporate charter business . The amount of flight training conducted by UK schools has declined , largely at the hands of competition from foreign schools , which benefit from lower costs and better weather .
Since 1990 the total number of hours flown annually by the GA sector has remained in the range 1 @.@ 25 – 1 @.@ 35 million , the dominant sector being traditional GA flying , which accounts for 0 @.@ 6 million per year . An overall increase in aircraft numbers combined with nil growth in hours flown has brought the annual average utilisation per aircraft down from 157 hours in 1984 to 103 hours in 2002 . The decline in asset utilisation has led to speculation that the economic health of the GA industry is weakening , though the lack of data on profitability makes this difficult to confirm .
The objective of regulation is to " promote high standards of safety in all aspects of aviation " , and this is the main area of interaction between the CAA and the GA sector . Efforts focus on assuring appropriate standards of airworthiness , pilot qualification , the rules for the movement of aircraft , and equipment to be carried . The CAA was established as the primary regulatory body for all aviation in the UK in 1972 . In 1991 it started working within the Joint Aviation Authorities ( JAA ) framework to implement agreed common standards , known as the Joint Aviation Requirements ( JAR ) , throughout the European Union ( EU ) . In 2003 this was taken a step further when the European Aviation Safety Agency ( EASA ) was established as the central EU regulator , taking over responsibility for legislating airworthiness and environmental regulation from the national authorities . The CAA acts as an agency of EASA on these issues , retaining its original regulatory powers in areas not yet transferred to EASA . Proposed developments seek to establish EASA as the single authority throughout the EU , taking over from individual member states the power to regulate all aviation other than that specifically excluded from the scope of EASA .
Within this framework certain sectors of GA are governed on a devolved basis . In all cases the CAA / EASA retains responsibility for safety regulation , but representative bodies , particularly of sectors that are not included in the scope of EASA , are granted greater oversight of their activities . The majority of microlight aircraft are regulated by the British Microlight Aircraft Association ( BMAA ) , although a significant number are regulated by the Light Aircraft Association ( LAA ) , formerly known as the Popular Flying Association . The LAA is the primary regulator for amateur built aircraft , as well as vintage and classic aircraft . Parachuting is governed by the British Parachute Association , although the aircraft used in this activity are generally CAA @-@ regulated . Balloon and airship flying is overseen by the British Balloon and Airship Club . The UK @-@ specific National Private Pilot Licence ( NPPL ) is administered by the National Pilots Licensing Group Ltd . , supported by the LAA , the Aircraft Owners and Pilots Association UK , the British Gliding Association , and the British Microlight Aircraft Association . Separate from these devolved groups , gliding in the UK is self @-@ regulated . The British Gliding Association was until recently responsible for glider airworthiness , now formally regulated as a result of EASA legislation , and still retains control of pilot certification . Hang gliding and paragliding activities ( i.e. foot @-@ launched gliders ) are governed by the British Hang Gliding and Paragliding Association .
Under CAA and EASA rules , all aircraft are required to meet certain standards of airworthiness to fly safely and legally . Aircraft that meet these standards are issued with a Certificate of Airworthiness . However , British @-@ registered aircraft which are excluded from the scope of EASA , and which cannot satisfy the requirements for the issue of a Certificate of Airworthiness , may be issued with a Permit to Fly . This allows them to fly in UK airspace subject to certain limitations , for example being restricted to day @-@ time flights under visual flight rules only . A number of organisations ( e.g. the British Microlight Aircraft Association and the Light Aircraft Association ) have obtained a standing over @-@ flight permission for Permit to Fly aircraft within their area of interest with some European countries , notably France . Permits are typically issued to vintage and historic aircraft , amateur built aircraft , and microlights .
The pilot qualification most relevant to GA is the Private Pilot Licence ( PPL ) , which permits the holder to fly for recreational purposes without remuneration . In addition to the European @-@ wide Joint Aviation Regulations Flight Crew Licensing ( JAR @-@ FCL ) standard , the CAA also issues UK @-@ specific national licences . In the absence of European standards for gyroplane , balloon , and airship pilots , the CAA licenses these according to the original UK PPL standard . As a response to the perception that JAR pilot licensing standards are excessively bureaucratic and expensive for the purposes of recreational pilots , the National Private Pilot Licence ( NPPL ) was introduced in 2002 . The NPPL is easier to obtain than the JAR @-@ FCL licence , has less stringent medical requirements , is more restrictive in the privileges it grants , and is valid only for flights in British @-@ registered aircraft flying in UK and French airspace . Although there are plans to bring glider pilot licensing within the regulatory framework of EASA , the gliding sector is currently self @-@ regulating in this respect . The British Gliding Association is responsible for defining the standards of initial training , and certifying , via a badge system , pilots who meet those standards . Pilots working in sectors of GA that are commercial operations , such as aerial work and business aviation , are required to hold a professional pilot licence which , at a minimum , is the Commercial Pilot Licence .
Between 1995 and 2004 there were 2 @,@ 630 accidents involving GA aircraft , of which 139 were fatal , resulting in the loss of 317 lives . The majority of accidents involved small fixed @-@ wing aircraft engaged in private flights , and analysis attributes the most common causes of these to : flight handling skills ; poor judgement or airmanship ; lack of training or experience ; and omission of , or inappropriate , action .
There were 27 fatal accidents involving GA aircraft in 2007 , resulting in the loss of 48 lives . These compare with 16 accidents claiming a total of 19 lives the previous year , and although the 2007 statistics are higher than average , they are not exceptional .
The growth in Commercial Air Transport ( CAT ) has eroded the operational freedom of GA , both in the air and on the ground at larger airports . Difficulty with access to larger airports is compounded by a decline in the number of aerodromes generally , and existing sites are often threatened with closure and re @-@ development for more profitable uses . The UK planning system is designed to focus on local issues , and consideration of the national impact of GA operations is not within its remit . This makes aerodrome development difficult , often subjecting those that successfully negotiate the process to restrictions in use .
Airspace is shared by CAT , military and GA users . It is divided into controlled airspace , in which aircraft must always be under the control of an air traffic controller , and uncontrolled airspace , in which aircraft can operate autonomously . Although GA flights can under certain conditions enter controlled airspace , they operate mainly outside of it .
Controlled airspace is essential for the provision of a known air traffic environment necessary for the safe operation of CAT . A CAA review found that " mixing [ commercial ] operations with other users is considered undesirable , even untenable " by commercial operators . However this position has resulted in extensive Class A controlled airspace with complex boundaries , including some running down to the ground , prohibiting VFR access to airspace , resulting in high numbers of GA flights operating close to the borders of controlled airspace who could not get formal receipt of an air traffic service . Coupled with pilot navigation errors , hundreds of airspace infringements have been recorded every year .
Increases in the number of CAT operations , and in the number of airports they operate from , has resulted in a corresponding increase in Class A controlled airspace . Between 1997 and 2006 this area grew in size from 13 per cent of all airspace to 22 per cent nationally , and from 24 per cent to 43 per cent in airspace above England and Wales , leading to a perception within the GA community of being squeezed out . There are particular problems for GA around large airports , where Class A controlled airspace extends to ground level . The concentration of commercial operations and high demand for GA in the South East of England have also resulted in extensive areas of Class A controlled airspace there , which serve to channel uncontrolled GA operations through high @-@ collision @-@ risk hot spots .
Regional airports , such as Edinburgh Airport , have experienced strong growth in CAT operations in recent years . These operations are commercially and operationally incompatible with GA , and although there is no evidence of deliberate discrimination , the effect has been to discourage or exclude it . GA aircraft are being subject to significant increases in charges , including the imposition of handling fees in some cases . Some airports restrict or deny GA parking , and others limit or refuse certain GA activity . As a result , light GA aircraft are now rarely or never seen at large , busy international airports such as Heathrow , Stansted , Gatwick and Manchester .
In addition to this de facto loss of facilities , the number of aerodromes in the UK has been in decline over the last 50 years , as a result of increasing urbanisation and the closure of airfields built during WWII . Alternative and more profitable uses for land can also lead to existing aerodromes being threatened with closure , for example North Weald , or actually being closed , as happened to Ipswich Airport. and Bristol Filton Airport . Referring to the importance of a " functioning national network of GA airfields " , especially where GA performs an air transport role , the CAA states that " there could be cause for concern if a significant further loss of airfields were to continue , especially if crucial nodes on the transport network were to be lost . "
The planning system is critical to the viability and operation of GA aerodromes . With many cities lacking scheduled air transport services between them , and with GA access to commercial airports becoming increasingly difficult and expensive , a viable network of aerodromes supporting GA air transport operations is regarded as an important national issue . However , there is no unified national planning policy specific to GA aerodromes , and planning decisions relating to these are based on local issues that are not required to consider the national impact . Because aircraft are excluded from noise control legislation , the only recourse for people affected by aircraft noise is through the planning process , and this issue is the principal factor on which the majority of planning decisions relating to GA land use are made . GA is a specialist subject often unfamiliar to Local Planning Authorities , and most planning decisions relating to GA either refuse permission , or grant it with restrictive conditions . Little Gransden is just one example of a GA airfield required to comply with planning restrictions on the number of movements permitted , thereby inhibiting further development . Such restrictions , if poorly conceived , can make GA operations unviable or even unsafe .
Public opinion towards aviation generally is worsening , based on increasing environmental concerns relating to emissions and noise , and private flying has been criticised by respondents to a government consultation on aircraft noise as a frivolous or selfish activity . In terms of environmental complaints and enquiries made to the CAA that relate specifically to GA , noise is " by far " the most common subject . Half of the 2 @,@ 000 noise complaints made annually to the CAA concern GA operations , most of which relate to aerobatics , helicopters using private sites , air balloon incidents , parachute dropping , and alleged low flying .
Planning guidance on aircraft noise advises that " in some circumstances the public perceive general aircraft noise levels as more disturbing than similar levels around major airports . " This is a result of the tonal characteristics of light aircraft engines and the activities they are engaged in , including : repetitive circuit flying at low @-@ altitude near an aerodrome , during which aircraft are audible for long periods ; slow climbing aircraft engaged in parachute drop or glider tug activities concentrated around the drop zone or aerodrome , also audible for long periods ; erratic and repetitive engine noise from aircraft engaged in aerobatics ; and piston @-@ engines on full power in areas of low background noise , leading to the perception that such noise is more intrusive . In an attempt to alleviate these problems , the majority of aerodromes implement noise abatement procedures designed to route aircraft away from noise sensitive areas , and more than 50 are required by the government to provide consultative facilities in which local concerns can be raised with aerodrome operators .
SMS Zrínyi ( " His Majesty 's ship Zrínyi " ) was a Radetzky @-@ class pre @-@ dreadnought battleship ( Schlachtschiff ) of the Austro @-@ Hungarian Navy ( K.u.K. Kriegsmarine ) , named for the Zrinski , a noble Croatian family . Zrínyi and her sisters , Erzherzog Franz Ferdinand and Radetzky , were the last pre @-@ dreadnoughts built by the Austro @-@ Hungarian Navy .
During World War I , Zrínyi saw action in the Adriatic Sea . She served with the Second Division of the Austro @-@ Hungarian Navy 's battleships and shelled Senigallia as part of the bombardment of the key seaport of Ancona , Italy , during May 1915 . However , Allied control of the Strait of Otranto meant that the Austro @-@ Hungarian Navy was , for all intents and purposes , effectively bottled up in the Adriatic . Nonetheless , the presence of the Zrínyi and other battleships tied down a substantial force of Allied ships .
With the war going against the Austrians by the end of 1918 , Zrínyi was prepared to be transferred to the new State of Slovenes , Croats and Serbs . On 10 November 1918 — just one day before the end of the war , navy officers sailed the battleship out of Pola ( Pula ) and eventually surrendered to a squadron of American submarine chasers . Following the handover to the United States Navy , she was briefly designated USS Zrínyi . In the Treaty of Saint @-@ Germain @-@ en @-@ Laye , the transfer was not recognized ; instead , Zrínyi was given to Italy and broken up for scrap .
Zrínyi was built at the Stabilimento Tecnico Triestino dockyard in Trieste , the same place where her sister ships were built earlier . She was laid down on 15 November 1908 and launched from the slipway on 12 April 1910 . The teak used on Zrínyi 's deck was the only material Austria @-@ Hungary had to purchase abroad to build the ship . The ship was completed by 15 July 1911 , and on 22 November 1911 she was commissioned into the fleet . She was the last ship of the class to be completed and had a crew of 880 to 890 officers and men .
Zrínyi was 138 @.@ 8 m ( 455 ft 4 in ) long , and had a beam of 24 @.@ 6 m ( 80 ft 8 in ) and a draft of 8 @.@ 1 m ( 26 ft 9 in ) . She displaced 14 @,@ 508 long tons ( 14 @,@ 741 t ) normally , and up to 15 @,@ 845 long tons ( 16 @,@ 099 t ) with a full combat load . She was powered by two @-@ shaft four @-@ cylinder vertical triple expansion engines rated at 19 @,@ 800 indicated horsepower . The ship had a top speed of 20 @.@ 5 knots ( 38 @.@ 0 km / h ; 23 @.@ 6 mph ) . Zrínyi was the first warship in the Austro @-@ Hungarian Navy to use fuel oil to supplement her 12 Yarrow @-@ type coal @-@ fired boilers . She had a maximum range of 4 @,@ 000 nautical miles ( 7 @,@ 400 km ; 4 @,@ 600 mi ) at a cruising speed of 10 knots ( 19 km / h ; 12 mph ) .
The ship 's primary armament consisted of four 30 @.@ 5 cm ( 12 in ) 45 @-@ caliber guns in two twin gun turrets . This was augmented by a heavy secondary battery of eight 24 cm ( 9 @.@ 4 in ) guns in four wing turrets . The tertiary battery consisted of twenty 10 cm L / 50 guns in casemated single mounts , four 47 mm ( 1 @.@ 85 in ) L / 44 and one 47 mm L / 33 quick @-@ firing guns . Furthermore , the ship 's boats were equipped with two 66 mm ( 2 @.@ 6 in ) landing guns for operations shore . Three 45 cm ( 17 @.@ 7 in ) torpedo tubes were also carried , one on each broadside and one in the stern .
The ship was assigned to the Austro @-@ Hungarian Fleet 's 1st Battle Squadron after her 1911 commissioning . In 1912 , Zrínyi and her two sister ships conducted two training cruises into the eastern Mediterranean Sea . On the second cruise into the Aegean Sea , conducted from November to December , Zrínyi and her sister ships were accompanied by the cruiser SMS Admiral Spaun and a pair of destroyers . After returning to Pola , the entire fleet mobilized for possible hostilities , as tensions flared in the Balkans .
In 1913 , Zrínyi participated in an international naval demonstration in the Ionian Sea to protest the Balkan Wars . Ships from other navies included in the demonstration were the British pre @-@ dreadnought HMS King Edward VII , the Italian pre @-@ dreadnought Ammiraglio di Saint Bon , the French armored cruiser Edgar Quinet , and the German light cruiser SMS Breslau . The most important action of the combined flotilla , which was under the command of British Admiral Cecil Burney , was to blockade the Montenegrin coast . The goal of the blockade was to prevent Serbian reinforcements from supporting the siege at Scutari , where Montenegro had besieged a combined force of Albanians and Ottomans . Pressured by the international blockade , Serbia withdrew its army from Scutari , which was subsequently occupied by a joint Allied ground force .
During that year , the first of four new dreadnoughts , SMS Viribus Unitis , that made up the Tegetthoff class — the only dreadnoughts built for the Austro @-@ Hungarian Navy — came into active service . With the commissioning of these dreadnoughts , Zrínyi and her sisters were moved from the 1st Division to the 2nd Division of the 1st Battle Squadron .
At that time of the assassination of Archduke Franz Ferdinand of Austria on 28 June 1914 , the battleships in the Austro @-@ Hungarian Navy consisted of the Radetzky class , the Tegetthoff class ( which still had one ship , SMS Szent István , under construction ) , the Erzherzog Karl class and finally , the older Habsburg class . Along with the remainder of the Austro @-@ Hungarian Navy , Zrínyi was mobilized in late July 1914 to support the flight of SMS Goeben and SMS Breslau . The two German ships broke out of Messina , which was surrounded by the British navy and reached Turkey . The flotilla had advanced as far south as Brindisi in southeastern Italy when news of the successful breakout reached Vienna . The Austro @-@ Hungarian ships were then recalled before seeing action .
On 23 May 1915 , between two and four hours after news of the Italian declaration of war reached the main Austro @-@ Hungarian naval base at Pola , Zrínyi and the rest of the fleet departed to bombard the Italian and Montenegrin coast . Their focus was on the important naval base at Ancona , and later the coast of Montenegro . The bombardment of Montenegro was part of the larger Austro @-@ Hungarian campaign against the Kingdoms of Montenegro and Serbia , who were members of the Entente , during the first half of 1915 . The attack on Ancona was an immense success , and the ships were unopposed during the operation . The bombardment of the province and the surrounding area resulted in the destruction of an Italian steamer in the port of Ancona itself , and an Italian destroyer , Turbine , was severely damaged further south . On the shore , the infrastructure of the port of Ancona , as well as the surrounding towns , were severely damaged . The railroad yard in Ancona , as well as the port facilities in the town , were damaged or destroyed . The local shore batteries were also suppressed . During the bombardment , Zrínyi also helped to destroy a train , a railway station , and a bridge at Senigallia . Additional targets that were damaged or destroyed included wharves , warehouses , oil tanks , radio stations , and the local barracks . Sixty @-@ three Italians , both civilians and military personnel , were killed in the bombardment . By the time Italian ships from Taranto and Brindisi arrived on the scene , the Austro @-@ Hungarians were safely back in Pola .
The objective of the bombardment of Ancona was to delay the Italian Army from deploying its forces along the border with Austria @-@ Hungary by destroying critical transportation systems . The surprise attack on Ancona succeeded in delaying the Italian deployment to the Alps for two weeks . This delay gave Austria @-@ Hungary valuable time to strengthen its Italian border and re @-@ deploy some of its troops from the Eastern and Balkan fronts .
Aside from the attack on Ancona , the Austro @-@ Hungarian battleships were largely confined to Pola for the duration of the war . Their operations were limited by Admiral Anton Haus , the commander of the Austro @-@ Hungarian Navy , who believed that he would need to husband his ships to counter any Italian attempt to seize the Dalmatian coast . Since coal was diverted to the newer Tegetthoff @-@ class battleships , the remainder of the war saw Zrínyi and the rest of the Austro @-@ Hungarian Navy acting as a fleet in being . This resulted in the Allied blockade of the Otranto Strait . With his fleet blockaded in the Adriatic Sea , and with a shortage of coal , Haus followed a strategy based on mines and submarines designed to reduce the numerical superiority of the Allied navies .
After the Austro @-@ Hungarian Empire collapsed in 1918 , the Austrians wanted to turn the fleet over to the newly created State of Slovenes , Croats and Serbs ( later to become a part of the Kingdom of Yugoslavia ) in order to prevent the Italians from claiming the ships as spoils of war . However , the victorious Allies refused to acknowledge the conversations between the Austrians and the south Slavs and , in due course , reallocated the ships . The ship had been boarded by a scratch Yugoslav crew on 10 November 1918 , one day before the Armistice , and had left Pola with her sister ship , Radetzky . They were soon spotted by heavy Italian ships , so the two battleships hoisted American flags and sailed south along the Adriatic coast to Castelli Bay near Spalato ( also known as Split ) . They appealed for American naval forces to meet them and accept their surrender , which a squadron of United States Navy ( USN ) submarine chasers in the area did . She had apparently been turned over to the fledgling south Slav state , as it was a Croat naval officer , Korvettenkapitän Marijan Polić , who presented the ship as a prize of war to representatives of the United States Navy on the afternoon of 22 November 1919 at Spalato ( Split ) in Dalmatia . Simultaneously she was commissioned as USS Zrínyi and Lieutenant E.E. Hazlett , USN , assumed command . The initial American complement consisted of four officers and 174 enlisted men — the latter entirely composed of United States Navy Reserve Force personnel . The ship remained at anchor at Spalato for nearly a year while the negotiations that would determine her ultimate fate dragged on . Only once did she apparently turn her engines over , and that occurred during a severe gale that struck Spalato on 9 February 1920 .
On the morning of 7 November 1920 , Zrínyi was decommissioned . USS Chattanooga took her in tow and , assisted by Brooks and Hovey , towed the battleship to Italy . Under the terms of the treaties of Versailles and St. Germain , Zrínyi was ultimately turned over to the Italian government at Venice . She was broken up for scrap later that year and into 1921 .
Geopyxis carbonaria is a species of fungus in the genus Geopyxis , family Pyronemataceae . First described to science in 1805 , and given its current name in 1889 , the species is commonly known as the charcoal loving elf @-@ cup , dwarf acorn cup , stalked bonfire cup , or pixie cup . The small , goblet @-@ shaped fruitbodies of the fungus are reddish @-@ brown with a whitish fringe and measure up to 2 cm ( 0 @.@ 8 in ) across . They have a short , tapered stalk . Fruitbodies are commonly found on soil where brush has recently been burned , sometimes in great numbers . The fungus is distributed throughout many temperate regions of the Northern Hemisphere . It is found in Europe , Turkey , and North America . Although it is primarily a saprotrophic species , feeding on the decomposing organic matter remaining after a fire , it also forms biotrophic associations with the roots of Norway spruce .
The fungus was first described scientifically in 1805 by Johannes Baptista von Albertini and Lewis David de Schweinitz as Peziza carbonaria . Mordecai Cubitt Cooke illustrated the fruitbodies , spores , and asci in his 1879 work Mycographia , seu Icones fungorum . Figures of fungi from all parts of the world . In 1889 , Pier Andrea Saccardo transferred the fungus to the genus Geopyxis , giving the species its current name . Pustularia carbonaria , published by Heinrich Rehm in 1884 , is a synonym of G. carbonaria . Louis @-@ Joseph Grélet proposed the variety Geopyxis carbonaria var. sessilis in 1937 , referring to forms producing fruitbodies without a stalk , but the taxon is not considered to have independent taxonomic significance . In 1860 Miles Berkeley and Moses Ashley Curtis described the species Peziza lepida from collections made in Japan as part of the North Pacific Exploring and Surveying Expedition ( 1853 – 1856 ) . This taxon was synonymized with G. carbonaria by Mien Rifai in 1968 , a taxonomic opinion corroborated by Donald Pfister about a decade later .
The specific epithet carbonaria derives from the Latin word for " charcoal " . Common names given to the fungus include " charcoal loving elf @-@ cup " , " dwarf acorn cup " , " pixie cup " , and the British Mycological Society approved " stalked bonfire cup " .
The fruitbodies ( ascocarps ) of Geopyxis carbonaris are cup shaped , 1 – 2 cm wide , and have fringed whitish margins . The inner spore @-@ bearing surface of the cup , the hymenium , is brick red and smooth , while the exterior surface is a dull yellow , and may be either smooth or have blister @-@ like spots ( pustules ) . The stipe is small ( 1 – 1 @.@ 5 mm long and 1 – 2 mm wide ) , whitish in color , and expands abruptly into the cup . The brownish flesh of the fungus is thin and brittle . It does not have any distinctive taste , but has an unpleasant smell when crushed in water . The edibility of the fungus is not known , but the fruitbodies are insubstantial and unlikely to be harvested for eating .
In mass , the spores are whitish . The spores are elliptical , smooth , hyaline , devoid of oil droplets ( eguttulate ) , and have dimensions of 13 – 18 by 7 – 9 µm . They are thin walled and germinate and grow rapidly in vitro in the absence of external stimuli . The asci are 190 – 225 by 9 – 10 µm . The paraphyses are slightly club @-@ shaped , unbranched , and have irregular orange @-@ brown granules , with tips up to 5 µm wide , and are not forked or lobed . The hypothecium , the layer of cells below the hymenium , is made of densely packed , small irregular cells .
The closely related vulcan elf cup ( Geopyxis vulcanalis ) has a pale orange to yellowish fruitbody that is deeply cup shaped before flattening in maturity , and its crushed flesh often has an odor of sulfur . It may be distinguished microscopically by its paraphyses , which lack the orange @-@ brown granules characteristic of G. carbonaria . It also has larger spores , measuring 14 – 22 by 8 – 11 µm . Unlike G. carbonaria , it grows on substrates other than burned wood , including mosses , and needle duff . Tarzetta cupularis , which grows habitats similar to G. carbonaria , is distinguished microscopically by its spores that contain two oil droplets . Other genera with similar species with which G. carbonaria may be confused in the field include Aleuria , Caloscypha , Melastiza , and Sowerbyella .
Geopyxis carbonaria is widespread on burned soil or charcoal in the spring and throughout the growing season . It is one of the most common pioneer species found on burned ground . The charred litter on the forest floor increases the underlying soil pH as well as the availability of minerals . Fruitbodies are produced from 16 to 139 weeks after a forest fire in areas with coniferous trees . Most fruitbodies are produced in the first year after a burn . The fungus prefers fruiting in microhabitats with thin postfire duff near standing burned tree trunks . Geopyxis carbonaria fruitbodies are often found in the same post @-@ fire stands as morels , although the former is usually more abundant . Because the pixie cup fruits earlier than morels , it may serve as an indicator of imminent morel fruiting . Other cup fungi often found fruiting in the same area as G. carbonaria include those from the genera Aleuria , Anthracobia , Peziza , and Tarzetta .
The fungus is found in Europe ( from where it was originally described ) , and is widespread throughout North America . The North American distribution extends north to Alaska . In 2010 , it was reported for the first time from Turkey .
Although primarily a saprotrophic fungus involved in the post @-@ fire breakdown of duff and coniferous roots , Geopyxis carbonaria has been shown to be capable of forming ectomycorrhizae with Norway spruce ( Picea abies ) . It had been demonstrated earlier in laboratory experiments that the fungus has a biotrophic interaction with lodgepole pine ( Pinus contorta ) . The hyphae of G. carbonaria were able to infect the cortex of the tree seedling , but did not penetrate the endodermis . These traits suggest that the fungus is a moderate pathogen , with limited ability to cause reductions in seed germination . Additionally , the fungus produces the enzyme polyphenol oxidase , and can break down the complex organic polymer lignin — features characteristic of saprotrophic fungi . The formation of a rudimentary Hartig net , a characteristic of mycorrhizal fungi , indicated that G. carbonaria might be capable of forming mutualistic relationships under the right conditions . Vrålstad and colleagues suggest that its below @-@ ground association with spruce roots protects it from physical damage in the event of a fire , and the extensive fruitbody production after a fire may reflect " a successful fungal escape from a dying host where the fungus no longer can maintain its biotrophic association " .
Large fruitings of the fungus are often associated with damage to the host tree , such as that which occurs with burning . A field study conducted in Norway demonstrated that fruit bodies were more likely to be found in areas that were heavily burned , compared to locations with light to moderate burning where the trees remained viable , or in clearcut areas . Fruiting was much denser in spruce forests — with up to 700 – 1000 fruitbodies per square meter — than in pine forests , where fruitbodies were sporadic . Fruitbodies grew by the millions in the year following the Yellowstone fires of 1988 .
The gold dollar or gold one @-@ dollar piece was a coin struck as a regular issue by the United States Bureau of the Mint from 1849 to 1889 . The coin had three types over its lifetime , all designed by Mint Chief Engraver James B. Longacre . The Type 1 issue had the smallest diameter of any United States coin ever minted .
A gold dollar had been proposed several times in the 1830s and 1840s , but was not initially adopted . Congress was finally galvanized into action by the increased supply of bullion caused by the California gold rush , and in 1849 authorized a gold dollar . In its early years , silver coins were being hoarded or exported , and the gold dollar found a ready place in commerce . Silver again circulated after Congress in 1853 required that new coins of that metal be made lighter , and the gold dollar became a rarity in commerce even before federal coins vanished from circulation because of the economic disruption caused by the American Civil War .
Gold did not again circulate in most of the nation until 1879 ; once it did , the gold dollar did not regain its place . In its final years , it was struck in small numbers , causing speculation by hoarders . It was also in demand to be mounted in jewelry . The regular issue gold dollar was last struck in 1889 ; the following year , Congress ended the series .
In proposing his plan for a mint and a coinage system , Secretary of the Treasury Alexander Hamilton in 1791 proposed that the one @-@ dollar denomination be struck both as a gold coin , and as one of silver , representative of the two metals which he proposed be made legal tender . Congress followed Hamilton 's recommendation only in part , authorizing a silver dollar , but no coin of that denomination in gold .
In 1831 , the first gold dollar was minted , at the private mint of Christopher Bechtler in North Carolina . Much of the gold then being produced in the United States came from the mountains of North Carolina and Georgia , and the dollars and other small gold coins issued by Bechtler circulated through that region , and were now and then seen further away . Additional one @-@ dollar pieces were struck by August Bechtler , Christopher 's son .
Soon after the Bechtlers began to strike their private issues , Secretary of the Treasury Levi Woodbury became an advocate of having the Mint of the United States ( " Mint " , when described as an institution ) strike the one @-@ dollar denomination in gold . He was opposed by the Mint Director , Robert M. Patterson . Woodbury persuaded President Andrew Jackson to have pattern coins struck . In response , Patterson had Mint Second Engraver Christian Gobrecht break off work on the new design for the silver one @-@ dollar coin and work on a pattern for the gold dollar . Gobrecht 's design featured a Liberty cap surrounded by rays on one side , and a palm branch arranged in a circle with the denomination , date , and name of the country on the other .
Consideration was given to including the gold dollar as an authorized denomination in the revisionary legislation that became the Mint Act of 1837 . The Philadelphia newspaper Public Ledger , in December 1836 , supported a gold dollar , stating that " the dollar is the smallest gold coin that would be convenient , and as it would be eminently so , neither silver nor paper should be allowed to take its place . " Nevertheless , after Mint Director Patterson appeared before a congressional committee , the provision authorizing the gold dollar was deleted from the bill .
In January 1844 , North Carolina Representative James Iver McKay , the chairman of the Committee on Ways and Means , solicited the views of Director Patterson on the gold dollar . Patterson had more of Gobrecht 's pattern dollar struck to show to committee members , again advising against a coin that if issued would be only about a half inch ( 13 mm ) in diameter . He told Treasury Secretary John C. Spencer that the only gold coins of that size in commerce , the Spanish and Colombian half @-@ escudos , were unpopular and had not been struck for more than twenty years . This seemed to satisfy the committee as nothing more was done for the time , and when a gold dollar was proposed again in 1846 , McKay 's committee recommended against it .
Even before 1848 , record amounts of gold were flowing to American mints to be struck into coin , but the California Gold Rush vastly increased these quantities . This renewed calls for a gold dollar , as well as for a higher denomination than the eagle ( $ 10 piece ) , then the largest gold coin . In January 1849 , McKay introduced a bill for a gold dollar , which was referred to his committee . There was much discussion in the press about the proposed coin ; one newspaper published a proposal for an annular gold dollar , that is , with a hole in the middle to increase its small diameter . McKay amended his legislation to provide for a double eagle ( $ 20 gold coin ) and wrote to Patterson , who replied stating that the annular gold dollar would not work , and neither would another proposal to have dollar piece consisting of a gold plug in a silver coin . Nevertheless , Gobrecht 's successor as chief engraver , James B. Longacre , prepared patterns , including some with a square hole in the middle .
McKay got his fellow Democrat , New Hampshire Senator Charles Atherton , to introduce the bill to authorize the gold dollar and the double eagle in the Senate on February 1 , 1849 — Atherton was chairman of the Senate Finance Committee . McKay introduced a version into the House on February 20 ; debate began the same day . The dollar was attacked by congressmen from the Whig Party , then in the minority , on the grounds that it would be too small , would be counterfeited and in bad light might be mistakenly spent as a half dime , the coins being similar in size . McKay did not respond substantively , but stated that if no one wanted these denominations , they would not be called for at the Mint , and would not be coined . Pennsylvania Representative Joseph Ingersoll , a Whig , spoke against the bill , noting that Patterson opposed the new denominations , and that the idea had been repeatedly turned down , whenever considered . Another Whig , Massachusetts 's Charles Hudson , related that Patterson had sent a real and a counterfeit gold dollar to his committee and the majority of members had been unable to tell the difference . McKay made no answer to these claims , but others did , including New York Congressman Henry Nicoll , who assured the House that the counterfeiting allegations were greatly exaggerated . The point was , he indicated , that the double eagle and gold dollar were wanted by the public , and , in the case of the gold dollar could help money circulate in small communities where banknotes were not accepted . Connecticut Representative John A. Rockwell , a Whig , tried to table the bill , but his motion was defeated . The bill passed easily , and met only minimal opposition in the Senate , becoming law on March 3 , 1849 .
The officers at the Philadelphia Mint , including Chief Coiner Franklin Peale , were mostly the friends and relations of Director Patterson . The outsider in their midst was Chief Engraver James B. Longacre , successor to Gobrecht ( who had died in 1844 ) . A former copper @-@ plate engraver , Longacre had been appointed through the political influence of South Carolina Senator John C. Calhoun .
When Longacre began work on the two new coins in early 1849 , he had no one to assist him . Longacre wrote the following year that he had been warned by a Mint employee that one of the officers ( undoubtedly Peale ) planned to undermine the chief engraver 's position by having the work of preparing designs and dies done outside Mint premises . Accordingly , when the gold coin bill became law , Longacre apprised Patterson that he was ready to begin work on the gold dollar . The Mint Director agreed , and after viewing a model of the head on the obverse , authorized Longacre to proceed with preparation of dies . According to Longacre ,
The engraving was unusually minute and required very close and incessant labor for several weeks . I made the original dies and hubs for making the working dies twice over , to secure their perfect adaptation to the coining machinery . I had a wish to execute this work single handed , that I might thus silently reply to those who had questioned my ability for the work . The result , I believe , was satisfactory .
Homarus gammarus , known as the European lobster or common lobster , is a species of clawed lobster from the eastern Atlantic Ocean , Mediterranean Sea and parts of the Black Sea . It is closely related to the American lobster , H. americanus . It may grow to a length of 60 cm ( 24 in ) and a mass of 6 kilograms ( 13 lb ) , and bears a conspicuous pair of claws . In life , the lobsters are blue , only becoming " lobster red " on cooking . Mating occurs in the summer , producing eggs which are carried by the females for up to a year before hatching into planktonic larvae . Homarus gammarus is a highly esteemed food , and is widely caught using lobster pots , mostly around the British Isles .
Homarus gammarus is a large crustacean , with a body length up to 60 centimetres ( 24 in ) and weighing up to 5 – 6 kilograms ( 11 – 13 lb ) , although the lobsters caught in lobster pots are usually 23 – 38 cm ( 9 – 15 in ) long and weigh 0 @.@ 7 – 2 @.@ 2 kg ( 1 @.@ 5 – 4 @.@ 9 lb ) . Like other crustaceans , lobsters have a hard exoskeleton which they must shed in order to grow , in a process called ecdysis ( moulting ) . This may occur several times a year for young lobsters , but decreases to once every 1 – 2 years for larger animals .
The first pair of pereiopods is armed with a large , asymmetrical pair of claws . The larger one is the " crusher " , and has rounded nodules used for crushing prey ; the other is the " cutter " , which has sharp inner edges , and is used for holding or tearing the prey . Usually , the left claw is the crusher , and the right is the cutter .
The exoskeleton is generally blue above , with spots that coalesce , and yellow below . The red colour associated with lobsters only appears after cooking . This occurs because , in life , the red pigment astaxanthin is bound to a protein complex , but the complex is broken up by the heat of cooking , releasing the red pigment .
The closest relative of H. gammarus is the American lobster , Homarus americanus . The two species are very similar , and can be crossed artificially , although hybrids are unlikely to occur in the wild since their ranges do not overlap . The two species can be distinguished by a number of characteristics :
The rostrum of H. americanus bears one or more spines on the underside , which are lacking in H. gammarus .
The spines on the claws of H. americanus are red or red @-@ tipped , while those of H. gammarus are white or white @-@ tipped .
The underside of the claw of H. americanus is orange or red , while that of H. gammarus is creamy white or very pale red .
Female H. gammarus reach sexual maturity when they have grown to a carapace length of 80 – 85 millimetres ( 3 @.@ 1 – 3 @.@ 3 in ) , whereas males mature at a slightly smaller size . Mating typically occurs in summer between a recently moulted female , whose shell is therefore soft , and a hard @-@ shelled male . The female carries the eggs for up to 12 months , depending on the temperature , attached to her pleopods . Females carrying eggs are said to be " berried " and can be found throughout the year .
The eggs hatch at night , and the larvae swim to the water surface where they drift with the ocean currents , preying on zooplankton . This stage involves three moults and lasts for 15 – 35 days . After the third moult , the juvenile takes on a form closer to the adult , and adopts a benthic lifestyle . The juveniles are rarely seen in the wild , and are poorly known , although they are known to be capable of digging extensive burrows . It is estimated that only 1 larva in every 20 @,@ 000 survives to the benthic phase . When they reach a carapace length of 15 mm ( 0 @.@ 59 in ) , the juveniles leave their burrows and start their adult lives .
Homarus gammarus is found across the north @-@ eastern Atlantic Ocean from northern Norway to the Azores and Morocco , not including the Baltic Sea . It is also present in most of the Mediterranean Sea , only missing from the section east of Crete , and along only the north @-@ west coast of the Black Sea . The northernmost populations are found in the Norwegian fjords Tysfjorden and Nordfolda , inside the Arctic Circle .
The species can be divided into four genetically distinct populations , one widespread population , and three which have diverged due to small effective population sizes , possibly due to adaptation to the local environment . The first of these is the population of lobsters from northern Norway , which have been referred to as the " midnight @-@ sun lobster " . The populations in the Mediterranean Sea are distinct from those in the Atlantic Ocean . The last distinct population is found in the Netherlands : samples from the Oosterschelde were distinct from those collected in the North Sea or English Channel .
Attempts have been made to introduce H. gammarus to New Zealand , alongside other European species such as the edible crab , Cancer pagurus . Between 1904 and 1914 , one million lobster larvae were released from hatcheries in Dunedin , but the species did not become established there .
Adult H. gammarus live on the continental shelf at depths of 0 – 150 metres ( 0 – 492 ft ) , although not normally deeper than 50 m ( 160 ft ) . They prefer hard substrates , such as rocks or hard mud , and live in holes or crevices , emerging at night to feed .
The diet of H. gammarus mostly consists of other benthic invertebrates . These include crabs , molluscs , sea urchins , starfish and polychaete worms .
The three clawed lobster species Homarus gammarus , H. americanus and Nephrops norvegicus are hosts to the three known species of the animal phylum Cycliophora ; the species on H. gammarus has not been described .
Homarus gammarus is susceptible to the disease gaffkaemia , caused by the bacterium Aerococcus viridans . Although it is frequently found in American lobsters , the disease has only been seen in captive H. gammarus , where prior occupation of the tanks by H. americanus could not be ruled out .
Homarus gammarus is traditionally " highly esteemed " as a foodstuff and was mentioned in " The Crabfish " a seventeenth century English folk song . It may fetch very high prices and may be sold fresh , frozen , canned or powdered . Both the claws and the abdomen of H. gammarus contain " excellent " white meat , and most of the contents of the cephalothorax are edible . The exceptions are the gastric mill and the " sand vein " ( gut ) . The price of H. gammarus is up to three times higher than that of H. americanus , and the European species is considered to have a better flavour .
Lobsters are mostly fished using lobster pots , although lines baited with octopus or cuttlefish sometimes succeed in tempting them out , to allow them to be caught in a net or by hand . In 2008 , 4 @,@ 386 t of H. gammarus were caught across Europe and North Africa , of which 3 @,@ 462 t ( 79 % ) was caught in the British Isles ( including the Channel Islands ) . The minimum landing size for H. gammarus is a carapace length of 87 mm ( 3 @.@ 4 in ) .
Aquaculture systems for H. gammarus are under development , and production rates are still very low .
Homarus gammarus was first given a binomial name by Carl Linnaeus in the tenth edition of his Systema Naturae , published in 1758 . That name was Cancer gammarus , since Linnaeus ' concept of the genus Cancer at that time included all large crustaceans .
H. gammarus is the type species of the genus Homarus Weber , 1795 , as determined by Direction 51 of the International Commission on Zoological Nomenclature . Prior to that direction , confusion arose because the species had been referred to by several different names , including Astacus marinus Fabricius , 1775 and Homarus vulgaris H. Milne @-@ Edwards , 1837 , and also because Friedrich Weber 's description of the genus had been overlooked until rediscovered by Mary Rathbun , rendering any prior assignments of type species ( for Homarus H. Milne @-@ Edwards , 1837 ) invalid for Homarus Weber , 1795 .
The type specimen of Homarus gammarus was a lectotype selected by Lipke Holthuis in 1974 . It came from 57 ° 53 ′ N 11 ° 32 ′ E , near Marstrand , Sweden ( 48 kilometres or 30 miles northwest of Gothenburg ) , but both it and the paralectotypes have since been lost .
The common name for H. gammarus preferred by the Food and Agriculture Organization is " European lobster " , but the species is also widely known as the " common lobster " .
Air Vice Marshal Frank Headlam , CB , CBE ( 15 July 1914 – 23 December 1976 ) was a senior commander in the Royal Australian Air Force ( RAAF ) . Born and educated in Tasmania , he joined the RAAF as an air cadet in January 1934 . He specialised in flying instruction and navigation before the outbreak of World War II . In April 1941 , he became commanding officer of No. 2 Squadron , which operated Lockheed Hudsons . The squadron was deployed to Dutch Timor in December , and saw action against Japanese forces in the South West Pacific . After returning to Australia in February 1942 , Headlam held staff appointments and training commands , finishing the war a group captain .
Headlam served as Officer Commanding North @-@ Western Area in 1946 , and as Director of Training from 1947 to 1950 . In 1950 – 51 , during the Malayan Emergency , he was stationed at Singapore as commander of No. 90 ( Composite ) Wing and , later , RAF Tengah . He twice served as acting Air Member for Personnel , in 1957 and 1959 – 60 , receiving appointment as a Commander of the Order of the British Empire in 1958 . Promoted air vice marshal , he successively held the positions of Air Officer Commanding ( AOC ) Operational Command in 1961 – 62 , AOC No. 224 Group RAF from 1962 to 1965 during the Indonesia – Malaysia Konfrontasi , Deputy Chief of the Air Staff in 1965 – 66 , and AOC Support Command in 1966 – 67 . He was appointed a Companion of the Order of the Bath in 1965 . Following a posting to London as Head of the Australian Joint Services Staff from 1968 to 1971 , he retired from the Air Force and died in Melbourne five years later .
The son of farmers Malcolm and Hilda Headlam , Frank Headlam was born on 15 July 1914 in Launceston , Tasmania . He was schooled at Clemes College , Hobart , and matriculated in 1932 . Against the wishes of his parents he joined the Royal Australian Air Force ( RAAF ) as an air cadet on 16 January 1934 . He underwent flying instruction with No. 1 Flying Training School ( FTS ) at RAAF Point Cook , Victoria , and was commissioned as a pilot officer on 1 January 1935 .
After completing a conversion course , Headlam was assigned to the Seaplane Squadron at Point Cook . No larger than a flight according to the official history of the pre @-@ war RAAF , Seaplane Squadron was part of No. 1 FTS and operated Supermarine Southampton flying boats and de Havilland Gipsy Moth floatplanes , among other types . During this posting Headlam was promoted to flying officer , on 1 July 1935 , and wrote a paper on national defence in which he suggested that with " strong air forces , naval forces ( including submarines ) , and fixed defences , Australia may be made practically invulnerable " . According to Air Force historian Alan Stephens , this paper " in effect , defined the ' anti @-@ lodgment ' concept which has been a persistent feature of RAAF strategic thinking " .
Headlam completed a flying instructors course in July 1936 and joined the staff of No. 1 FTS . He was promoted to flight lieutenant on 1 March 1937 . Commencing in July 1938 , he was one of six students to take part in the RAAF 's first Long Specialist Navigation Course , run by Flight Lieutenants Bill Garing and Alister Murdoch at Point Cook . The course involved several epic training flights that attracted considerable media attention , including a twelve @-@ day , 10 @,@ 800 @-@ kilometre ( 6 @,@ 700 mi ) round @-@ Australia trip by three Avro Ansons , one of which was piloted by Headlam , in November . The following month , Headlam led the three Ansons on a six @-@ day journey back and forth over Central Australia . He subsequently passed the navigation course with a special distinction . On 27 January 1939 he was posted to RAAF Station Laverton , Victoria , as a flight commander . He served initially with No. 2 Squadron , before transferring to No. 1 Squadron on 29 August . Both units operated Ansons .
Following the outbreak of World War II , No. 1 Squadron was engaged in convoy escort and maritime reconnaissance duties off south @-@ eastern Australia . Headlam continued to serve with the squadron as a flight commander until 15 January 1940 , when he was assigned to Headquarters Laverton as the station navigation officer . On 27 March he was posted to the staff of RAAF Headquarters , Melbourne . He was promoted to squadron leader on 1 June 1940 . Two weeks later he married Katherine Bridge at St Paul 's Anglican Church in Frankston ; the couple would have a son and a daughter .
Headlam was given command of No. 2 Squadron at Laverton on 15 April 1941 , and raised to wing commander on 1 July . Equipped with Lockheed Hudsons , the squadron mainly conducted maritime patrols in southern waters until 5 December , when four of its aircraft were ordered to Darwin , Northern Territory , in response to fears of Japanese aggression in the Pacific . On 7 December , this detachment established itself at Penfui , near Koepang in Dutch Timor , while No. 2 Squadron 's eight remaining Hudsons were stationed at Darwin on standby . The following day , aware that Australia was now at war in the Pacific , one of the Penfui @-@ based Hudsons attacked the Japanese pearler Nanyo Maru , which was suspected of being a radio ship , and forced it aground . By 12 December , Headlam had transferred to Penfui as commanding officer of the base , as well as No. 2 Squadron .
During January 1942 , No. 2 Squadron 's aircraft were dispersed at Penfui , Boeroe Island , and Darwin . The Penfui detachment attacked Japanese shipping taking part in the invasion of Celebes . Two Hudsons shot down or damaged three Japanese floatplanes that attacked them as they were bombing a transport ship on 11 January ; the next day both Hudsons were themselves shot down by Mitsubishi Zeros . Penfui was bombed by the Japanese for the first time on 26 January 1942 , and attacked regularly thereafter , damaging some aircraft . The intact Hudsons were withdrawn to Darwin but Headlam and his staff remained at Penfui to enable the base to be used by aircraft during reconnaissance missions from Australia . On 18 February , Headlam was ordered to evacuate all his personnel except a small party to demolish the airfield with assistance from Sparrow Force . He returned to Darwin the following day , just as the city experienced its first raid by the Japanese . Four of No. 2 Squadron 's Hudsons were destroyed in the attack ; the remainder were relocated to Daly Waters , where they continued to carry out reconnaissance and bombing missions against Japanese targets in Timor .
Headlam remained in Darwin as Controller of Operations at Headquarters North @-@ Western Area Command until 12 May 1942 , when he was posted to Nhill , Victoria , as commanding officer of No. 2 Air Navigation School , operating Ansons . No. 97 ( Reserve ) Squadron was formed from the school 's personnel in June . On 20 July 1943 , Headlam took command of No. 2 Air Observer School ( AOS ) , also operating Ansons , at Mount Gambier , South Australia . He was promoted to group captain on 1 December 1943 , and was appointed the inaugural commanding officer of No. 3 AOS , operating Ansons and Fairey Battles out of Port Pirie , on 9 December . After handing over command of No. 3 AOS , he commenced studies at RAAF Staff School in Mount Martha , Victoria , on 2 October 1944 . He was appointed senior administrative staff officer at North @-@ Western Area Command on 12 January 1945 .
Headlam became Officer Commanding North @-@ Western Area in January 1946 . Posted to Britain at the end of the year , he attended the Royal Air Force Staff College , Andover , and served with RAAF Overseas Headquarters , London . On his return to Australia , in November 1947 , he became Director of Training at RAAF Headquarters . In November 1950 , Headlam was appointed to take over command of No. 90 ( Composite ) Wing from Group Captain Paddy Heffernan . Headquartered at RAF Changi , Singapore , No. 90 Wing controlled RAAF units operating during the Malayan Emergency : No. 1 ( Bomber ) Squadron , flying Avro Lincolns , and No. 38 ( Transport ) Squadron , flying Douglas C @-@ 47 Dakotas . The Lincolns conducted area bombing missions over communist @-@ held territory , as well as strikes against pinpoint targets . The Dakotas were tasked with courier flights , VIP transport and medical evacuations across South East Asia , and in Malaya with airlifting troops and cargo , dropping supplies to friendly forces and despatching propaganda leaflets . Headlam was slightly injured on 20 December , when a No. 38 Squadron Dakota he was co @-@ piloting on a supply drop crash @-@ landed at Kampong Aur in Pahang , following engine failure . In August 1951 he was named commander of RAF Tengah , Singapore , in addition to his post as commanding officer of No. 90 Wing . Headlam handed over command of No. 90 Wing in December 1951 .
On 19 February 1952 , Headlam became senior air staff officer ( SASO ) at Eastern Area Command in Penrith , New South Wales . During his term as SASO , the RAAF began re @-@ equipping with English Electric Canberra jet bombers and CAC Sabre jet fighters . The Air Force also underwent a major organisational change , as it transitioned from a geographically based command @-@ and @-@ control system to one based on function , resulting in the establishment of Home ( operational ) , Training , and Maintenance Commands . Eastern Area Command , considered a de facto operational headquarters owing to the preponderance of combat units under its control , was reorganised as Home Command in October 1953 . Headlam was appointed an Officer of the Order of the British Empire ( OBE ) in the 1954 New Year Honours for his " exceptional ability and devotion to duty " . He was promoted to acting air commodore in May . His appointment as aide @-@ de @-@ camp to Queen Elizabeth II was announced on 7 October 1954 .
Headlam was promoted to substantive air commodore on 1 January 1955 . In November he was posted to RAAF Overseas Headquarters , London , and the following year undertook studies at the Imperial Defence College . Returning to Australia , he served as acting Air Member for Personnel at the Department of Air , Canberra , from 19 March to 21 October 1957 , between the terms of Air Vice Marshals Fred Scherger and Allan Walters , and again from 24 August 1959 to 28 March 1960 , between the terms of Walters and Air Vice Marshal Bill Hely . In this role Headlam occupied a seat on the Air Board , the service 's controlling body that comprised its senior officers and was chaired by the Chief of the Air Staff . He was also one of two RAAF representatives to serve on a committee , chaired by businessman William John Allison , examining conditions of defence service ; the committee 's recommendations led to a doubling of flight pay , among other improvements . Headlam 's other positions at the Department of Air included Air Commodore Plans from October 1957 to January 1959 , and Director General Plans and Policy from January to August 1959 . The latter assignment put him in charge of the RAAF 's Directorate of Intelligence . Headlam was appointed a Commander of the Order of the British Empire ( CBE ) in the 1958 Queen 's Birthday Honours , gazetted on 3 June . In May 1960 he became acting Deputy Chief of the Air Staff .
On 30 January 1961 , Headlam joined the staff of Operational Command ( OPCOM ) , the successor organisation to Home Command , responsible for the direction of RAAF operational units . He took over as Air Officer Commanding ( AOC ) OPCOM from Air Vice Marshal Val Hancock in April . Headlam was promoted to air vice marshal on 29 May . On 17 July 1962 , he was posted to RAAF Base Butterworth , Malaya , and took up the appointment of AOC No. 224 Group RAF in Singapore one week later . He was succeeded as AOC OPCOM by Air Vice Marshal Alister Murdoch . As AOC No. 224 Group , Headlam had overall responsibility for regional air defence and offensive air operations during the Brunei Rebellion in December 1962 , and the subsequent Konfrontasi between Indonesia and Malaysia that officially began the following month . Divorced from his first wife in 1956 , he married widowed social worker Vernon Spence at the Sydney registry office on 20 January 1964 . He handed over No. 224 Group to Air Vice Marshal Christopher Foxley @-@ Norris on 30 November .
Returning to Australia , Headlam became Deputy Chief of the Air Staff ( DCAS ) on 26 January 1965 . He was appointed a Companion of the Order of the Bath ( CB ) " in recognition of distinguished service in the Borneo Territories " on 22 June . His tenure as DCAS coincided with the most significant rearmament program the Air Force had undertaken since World War II , and with manpower shortages stemming from this expansion and from Australia 's increasing involvement in the security of South East Asia . The first RAAF helicopters were committed to the Vietnam War towards the end of his term , and he travelled to Saigon with the Chief of the General Staff , Lieutenant General Sir John Wilton , in March 1966 to plan the deployment . The year before , Wilton had recommended to Air Marshal Murdoch , the Chief of the Air Staff , that two Iroquois be sent to Vietnam for familiarisation purposes ; Murdoch had rebuffed Wilton , and the RAAF helicopter squadron was considered underprepared for its army co @-@ operation role when it finally did deploy . Headlam succeeded Air Vice Marshal Douglas Candy as AOC Support Command , Melbourne , on 8 August 1966 . Support Command had been formed in 1959 , by merging the RAAF 's former Training and Maintenance Commands . On 1 January 1968 , Headlam was posted to London as Head of the Australian Joint Services Staff . He served as an Extra Gentleman Usher to the Queen from 17 November 1970 to 5 June 1971 .
Returning to Australia in June 1971 , Headlam took resettlement leave before retiring from the Air Force on 3 August . He made his home in Melbourne , where he died aged 62 on 23 December 1976 , after a lengthy battle with cancer . Survived by his children and his second wife , he was given a private funeral and cremated at Springvale Crematorium .
M @-@ 82 is a state trunkline in the Lower Peninsula in the US state of Michigan that travels between Fremont and Howard City . The section between Newaygo and Howard City travels through Fremont and along the southern edge of Manistee National Forest . The current version of M @-@ 82 is actually the second in the state ; the first usage appeared in the Upper Peninsula by 1919 . The Lower Peninsula routing has been in use since the 1920s . Various extensions and truncations have shifted the terminus as far west as New Era or Hesperia in the past . The current route was finalized in the late 1970s
M @-@ 82 begins at a junction with M @-@ 120 and B @-@ 96 west of Fremont . This junction is at a tripoint of county lines . M @-@ 120 forms the north – south Newaygo – Oceana and Newaygo – Muskegon county lines . B @-@ 96 , which forms the east – west Oceana – Muskegon county line runs due west of the intersection . M @-@ 82 exits the intersection to the east . The highway runs along 48th Street through rural farms into the community of Fremont . The road , now called Main Street , passes through the downtown area and M @-@ 82 turns south along Stewart Avenue out of town . The highway rounds a curve and transitions to 72nd Street running eastward through more farm land . As the trunkline approaches Newaygo , the terrain becomes more wooded near the Muskegon River . M @-@ 82 follows Fremont Street east to a junction with M @-@ 37 . The two highways merge and run concurrently over the river and into downtown on State Street . South of downtown , M @-@ 82 turns east again , independent of M @-@ 37 , and runs along 82nd Street on the southern edge of the Manistee National Forest . The east end of M @-@ 82 is at exit 118 on US 131 / M @-@ 46 west of Howard City .
The Michigan Department of Transportation ( MDOT ) , as a part of its maintenance responsibilities , tracks the volume of traffic using its roadways . These levels are expressed in terms of a metric called average annual daily traffic ( AADT ) , which is a calculation of the traffic along a segment of road for any average day of the year . In 2009 , the department 's measurements indicated that a segment of M @-@ 82 west of Fremont had the peak volume for the highway at 16 @,@ 532 vehicles daily . The traffic nadir was 4 @,@ 018 vehicles east of Newaygo . In addition , MDOT has not had any section of the highway listed on the National Highway System , a network of roads important to the country 's economy , defense , and mobility .
The first usage of M @-@ 82 was in the Upper Peninsula by July 1 , 1919 . The trunkline started at M @-@ 25 and ran north of Newberry to the vicinity of Eight Mile Corner . It was later replaced by M @-@ 48 in 1926 .
The current M @-@ 82 dates back to 1926 . It ran from US 31 in Hart to the northern junction of US 131 and M @-@ 46 in Howard City . The highway was routed through Ferry , Hesperia and Fremont , replacing M @-@ 41 . In late 1936 , M @-@ 46 was extended along the section between Newaygo and Howard City , forming a M @-@ 46 / M @-@ 82 concurrency to fill a gap in the M @-@ 46 routing . This concurrent section became just M @-@ 46 in 1938 , shortening M @-@ 82 back to the northern M @-@ 37 junction in Newaygo . The highway was moved to a new alignment west of Ferry in late 1947 or early 1948 . Instead of heading northwesterly to Hart , it was continued west to end in Shelby .
Two realignments in 1963 and 1964 rerouted the western end of the highway again . This time it was realigned to run from Hesperia to New Era , bypassing Ferry . A larger change around 1969 reconfigured the highway designations in Oceana County . M @-@ 20 replaced M @-@ 82 west of Hesperia , to end at New Era instead of Muskegon . The new M @-@ 120 designation replaced M @-@ 20 south of Hesperia . M @-@ 82 now ran from Hesperia to Newaygo only . The length of the highway was increased in 1973 when the eastern end was moved back to Howard City . M @-@ 46 was rerouted to follow the US 131 freeway south of Howard City to Cedar Springs , and replaced M @-@ 57 between Cedar Springs and Casnovia . This freed up the Newaygo to Howard City highway for a return to the M @-@ 82 designation . The last change came in 1978 when the concurrency with M @-@ 120 was eliminated in favor of M @-@ 120 . The M @-@ 82 designation was truncated at this time to the junction west of Fremont , resulting in the current highway routing .
Robert Boulter is an English film , television and theatre actor . He had a guest @-@ starring role on the television series The Bill in 2000 . This was followed by a starring role in the play Herons written by Simon Stephens , which was performed in 2001 at the Royal Court Theatre . He had a guest role in the television series Judge John Deed in 2002 . In 2004 Boulter landed a role as " Craig " in the episode " Teddy 's Story " of the television series The Long Firm ; he starred alongside actors Mark Strong and Derek Jacobi . He was cast in the 2005 theatre productions of the Philip Ridley play Mercury Fur , which was performed at the Drum Theatre in Plymouth and the Menier Chocolate Factory in London . He was directed by John Tiffany and starred alongside Ben Whishaw , Shane Zaza , Harry Kent , Fraser Ayres , Sophie Stanton and Dominic Hall .
In 2006 , Boulter starred alongside Whishaw in the play Citizenship written by Mark Ravenhill . He appeared on a 2006 episode of the television series , Doctors , followed by a role in the 2007 theatre production of How to Curse directed by Josie Rourke . How to Curse was performed at Bush Theatre in the London Borough of Hammersmith and Fulham . Boulter starred in two films in 2008 , Daylight Robbery by filmmaker Paris Leonti , and Donkey Punch directed by Olly Blackburn . In May 2008 , Boulter made a guest appearance on a two @-@ part episode arc of the television series Waking the Dead , followed by an appearance on the television series Survivors in November 2008 . He had a recurring role in ten episodes of the television series Casualty in 2010 , as " Kieron Fletcher " . Boulter starred in the 2011 film Mercenaries directed by Paris Leonti .
In 2000 Boulter had a guest @-@ starring role on the television series The Bill ; he portrayed " Scott Parry " in the episode , " In Safe Hands " . Boulter starred as " Scott " in the play Herons written by Simon Stephens , which was performed in 2001 at the Royal Court Theatre . A review of Boulter 's performance in The Independent on Sunday described him as " horribly menacing " in the role , and he received critical reviews in The Herald , and Evening Standard . He appeared in the television series Judge John Deed in 2002 as " Addem Armitage " in the episode " Political Expediency " , and had a role as a different character " Toby Steele " on The Bill .
He had a recurring role in 2003 on two episodes of The Bill , as character " Connor Price " . In 2004 Boulter landed a role as " Craig " in the episode " Teddy 's Story " of the television series The Long Firm ; he starred alongside actors Mark Strong and Derek Jacobi . Boulter starred as " Darren " , in the 2005 theatre productions of the Philip Ridley play Mercury Fur . It was performed at the Drum Theatre in Plymouth , and the Menier Chocolate Factory in London . He was directed by John Tiffany and starred alongside Ben Whishaw , Shane Zaza , Harry Kent , Fraser Ayres , Sophie Stanton and Dominic Hall . Boulter received a favorable review in The Daily Telegraph : " The acting is shatteringly intense , with wired performances from Ben Whishaw ( now unrecognisable from his performance as Trevor Nunn 's Hamlet ) , Robert Boulter , Shane Zaza and Fraser Ayres . " The Guardian noted , " Ben Whishaw and Robert Boulter offer tenderness amid the savagery . "
In 2006 Boulter starred in the play Citizenship written by Mark Ravenhill . The play was part of a series which featured different playwrights , titled Burn / Chatroom / Citizenship . In a 2006 interview , fellow actor Ben Whishaw identified Boulter as one of his favorite co @-@ stars : " I loved working with a guy called Robert Boulter , who was in the triple bill of Burn , Chatroom and Citizenship at the National . He played my brother in Mercury Fur . " He portrayed " Jason Tyler " on the 2006 episode of the television series , Doctors , titled " Something I Ate " . Boulter starred as " William " in the 2007 production of How to Curse directed by Josie Rourke . How to Curse was performed at Bush Theatre in the London Borough of Hammersmith and Fulham . In a review of the production for The Daily Telegraph , theatre critic Charles Spencer noted , " Robert Boulter brings a touching vulnerability to the stage as William . "
Boulter starred in two films in 2008 , Daylight Robbery by filmmaker Paris Leonti , and Donkey Punch directed by Olly Blackburn . Boulter portrayed a character named " Sean " in Donkey Punch , who tags along with character " Josh " as the " quiet brother ... who hits it off with Tammi " . Boulter guest starred on a two @-@ part episode arc " Wounds " in May 2008 of the television series Waking the Dead as character " Jimmy Dearden " . He appeared on the television series Survivors as " Neil " in November 2008 . He had a recurring role in ten episodes of the television series Casualty in 2010 , as " Kieron Fletcher " . He portrayed an emergency physician applying for a medical fellowship . He commented on the inherent difficulties in portraying a physician on television : " Playing a doctor is a strange experience . Pretending you know what you 're talking about when you don 't is very bizarre but there are advisers on set who are fantastic at taking you through procedures and giving you the confidence to stand there and look like you know what you 're doing . " Boulter starred in the 2011 film Mercenaries directed by Paris Leonti .
Du Fu ( Wade – Giles : Tu Fu ; Chinese : 杜甫 ; 712 – 770 ) was a prominent Chinese poet of the Tang dynasty . Along with Li Bai ( Li Po ) , he is frequently called the greatest of the Chinese poets . His greatest ambition was to serve his country as a successful civil servant , but he proved unable to make the necessary accommodations . His life , like the whole country , was devastated by the An Lushan Rebellion of 755 , and his last 15 years were a time of almost constant unrest .
Although initially he was little @-@ known to other writers , his works came to be hugely influential in both Chinese and Japanese literary culture . Of his poetic writing , nearly fifteen hundred poems have been preserved over the ages . He has been called the " Poet @-@ Historian " and the " Poet @-@ Sage " by Chinese critics , while the range of his work has allowed him to be introduced to Western readers as " the Chinese Virgil , Horace , Ovid , Shakespeare , Milton , Burns , Wordsworth , Béranger , Hugo or Baudelaire " .
Traditional Chinese literary criticism emphasized the life of the author when interpreting a work , a practice which Burton Watson attributes to " the close links that traditional Chinese thought posits between art and morality " . Since many of Du Fu 's poems feature morality and history , this practice is particularly important . Another reason , identified by the Chinese historian William Hung , is that Chinese poems are typically concise , omitting context that might be relevant , but which an informed contemporary could be assumed to know . For modern Western readers , " The less accurately we know the time , the place and the circumstances in the background , the more liable we are to imagine it incorrectly , and the result will be that we either misunderstand the poem or fail to understand it altogether " . Stephen Owen suggests a third factor particular to Du Fu , arguing that the variety of the poet 's work required consideration of his whole life , rather than the " reductive " categorizations used for more limited poets .
Most of what is known of Du Fu 's life comes from his poems . His paternal grandfather was Du Shenyan , a noted politician and poet during the reign of Empress Wu . Du Fu was born in 712 ; the exact birthplace is unknown , except that it was near Luoyang , Henan province ( Gong county is a favourite candidate ) . In later life , he considered himself to belong to the capital city of Chang 'an , ancestral hometown of the Du family .
Du Fu 's mother died shortly after he was born , and he was partially raised by his aunt . He had an elder brother , who died young . He also had three half brothers and one half sister , to whom he frequently refers in his poems , although he never mentions his stepmother .
The son of a minor scholar @-@ official , his youth was spent on the standard education of a future civil servant : study and memorisation of the Confucian classics of philosophy , history and poetry . He later claimed to have produced creditable poems by his early teens , but these have been lost .
In the early 730s , he travelled in the Jiangsu / Zhejiang area ; his earliest surviving poem , describing a poetry contest , is thought to date from the end of this period , around 735 . In that year , he took the civil service exam , likely in Chang 'an . He failed , to his surprise and that of centuries of later critics . Hung concludes that he probably failed because his prose style at the time was too dense and obscure , while Chou suggests his failure to cultivate connections in the capital may have been to blame . After this failure , he went back to traveling , this time around Shandong and Hebei .
His father died around 740 . Du Fu would have been allowed to enter the civil service because of his father 's rank , but he is thought to have given up the privilege in favour of one of his half brothers . He spent the next four years living in the Luoyang area , fulfilling his duties in domestic affairs .
In the autumn of 744 , he met Li Bai ( Li Po ) for the first time , and the two poets formed a friendship . David Young describes this as " the most significant formative element in Du Fu 's artistic development " because it gave him a living example of the reclusive poet @-@ scholar life to which he was attracted after his failure in the civil service exam . The relationship was somewhat one @-@ sided , however . Du Fu was by some years the younger , while Li Bai was already a poetic star . We have twelve poems to or about Li Bai from the younger poet , but only one in the other direction . They met again only once , in 745 .
In 746 , he moved to the capital in an attempt to resurrect his official career . He took the civil service exam a second time during the following year , but all the candidates were failed by the prime minister ( apparently in order to prevent the emergence of possible rivals ) . He never again attempted the examinations , instead petitioning the emperor directly in 751 , 754 and probably again in 755 . He married around 752 , and by 757 the couple had had five children — three sons and two daughters — but one of the sons died in infancy in 755 . From 754 he began to have lung problems ( probably asthma ) , the first of a series of ailments which dogged him for the rest of his life . It was in that year that Du Fu was forced to move his family due to the turmoil of a famine brought about by massive floods in the region .
In 755 , he received an appointment as Registrar of the Right Commandant 's office of the Crown Prince 's Palace . Although this was a minor post , in normal times it would have been at least the start of an official career . Even before he had begun work , however , the position was swept away by events .
The An Lushan Rebellion began in December 755 , and was not completely suppressed for almost eight years . It caused enormous disruption to Chinese society : the census of 754 recorded 52 @.@ 9 million people , but ten years later , the census counted just 16 @.@ 9 million , the remainder having been displaced or killed . During this time , Du Fu led a largely itinerant life unsettled by wars , associated famines and imperial displeasure . This period of unhappiness was the making of Du Fu as a poet : Even Shan Chou has written that , " What he saw around him — the lives of his family , neighbors , and strangers – what he heard , and what he hoped for or feared from the progress of various campaigns — these became the enduring themes of his poetry " . Even when he learned of the death of his youngest child , he turned to the suffering of others in his poetry instead of dwelling upon his own misfortunes . Du Fu wrote :
Brooding on what I have lived through , if even I know such suffering , the common man must surely be rattled by the winds .
In 756 , Emperor Xuanzong was forced to flee the capital and abdicate . Du Fu , who had been away from the city , took his family to a place of safety and attempted to join the court of the new emperor ( Suzong ) , but he was captured by the rebels and taken to Chang 'an . In the autumn , his youngest son , Du Zongwu ( Baby Bear ) , was born . Around this time Du Fu is thought to have contracted malaria .
He escaped from Chang 'an the following year , and was appointed Reminder when he rejoined the court in May 757 . This post gave access to the emperor but was largely ceremonial . Du Fu 's conscientiousness compelled him to try to make use of it : he caused trouble for himself by protesting the removal of his friend and patron Fang Guan on a petty charge . He was arrested but was pardoned in June . He was granted leave to visit his family in September , but he soon rejoined the court and on December 8 , 757 , he returned to Chang 'an with the emperor following its recapture by government forces . However , his advice continued to be unappreciated , and in the summer of 758 he was demoted to a post as Commissioner of Education in Huazhou . The position was not to his taste : in one poem , he wrote :
I am about to scream madly in the office / Especially when they bring more papers to pile higher on my desk .
He moved on in the summer of 759 ; this has traditionally been ascribed to famine , but Hung believes that frustration is a more likely reason . He next spent around six weeks in Qinzhou ( now Tianshui , Gansu province ) , where he wrote more than sixty poems .
In December 759 , he briefly stayed in Tonggu ( modern Gansu ) . He departed on December 24 for Chengdu ( Sichuan province ) , where he was hosted by local Prefect and fellow poet Pei Di . Du subsequently based himself in Sichuan for most of the next five years . By the autumn of that year he was in financial trouble , and sent poems begging help to various acquaintances . He was relieved by Yan Wu , a friend and former colleague who was appointed governor general at Chengdu . Despite his financial problems , this was one of the happiest and most peaceful periods of his life . Many of Du 's poems from this period are peaceful depictions of his life at " thatched hut " . In 762 , he left the city to escape a rebellion , but he returned in summer 764 when he was appointed an advisor to Yan , who was involved in campaigns against the Tibetan Empire .
Luoyang , the region of his birthplace , was recovered by government forces in the winter of 762 , and in the spring of 765 Du Fu and his family sailed down the Yangtze , apparently with the intention of making their way there . They traveled slowly , held up by his ill @-@ health ( by this time he was suffering from poor eyesight , deafness and general old age in addition to his previous ailments ) . They stayed in Kuizhou ( in what is now Baidicheng , Chongqing ) at the entrance to the Three Gorges for almost two years from late spring 766 . This period was Du Fu 's last great poetic flowering , and here he wrote 400 poems in his dense , late style . In autumn 766 , Bo Maolin became governor of the region : he supported Du Fu financially and employed him as his unofficial secretary .
In March 768 , he began his journey again and got as far as Hunan province , where he died in Tanzhou ( now Changsha ) in November or December 770 , in his 58th year . He was survived by his wife and two sons , who remained in the area for some years at least . His last known descendant is a grandson who requested a grave inscription for the poet from Yuan Zhen in 813 .
Hung summarises his life by concluding that , " He appeared to be a filial son , an affectionate father , a generous brother , a faithful husband , a loyal friend , a dutiful official , and a patriotic subject . "
Below is an example of one of Du Fu 's later works , To My Retired Friend Wei ( Chinese : 贈衛八處士 ) . Like many other poems in the Tang it featured the theme of a long parting between friends , which was often due to officials being frequently transferred to the provinces :
Criticism of Du Fu 's works has focused on his strong sense of history , his moral engagement , and his technical excellence .
Since the Song dynasty , critics have called Du Fu the " poet historian " ( 詩史 shī shǐ ) . The most directly historical of his poems are those commenting on military tactics or the successes and failures of the government , or the poems of advice which he wrote to the emperor . Indirectly , he wrote about the effect of the times in which he lived on himself , and on the ordinary people of China . As Watson notes , this is information " of a kind seldom found in the officially compiled histories of the era " .
Du Fu 's political comments are based on emotion rather than calculation : his prescriptions have been paraphrased as , " Let us all be less selfish , let us all do what we are supposed to do " . Since his views were impossible to disagree with , his forcefully expressed truisms enabled his installation as the central figure of Chinese poetic history .
A second favourite epithet of Chinese critics is that of " poet sage " ( 詩聖 shī shèng ) , a counterpart to the philosophical sage , Confucius . One of the earliest surviving works , The Song of the Wagons ( from around 750 ) , gives voice to the sufferings of a conscript soldier in the imperial army and a clear @-@ sighted consciousness of suffering . These concerns are continuously articulated in poems on the lives of both soldiers and civilians produced by Du Fu throughout his life .
Although Du Fu 's frequent references to his own difficulties can give the impression of an all @-@ consuming solipsism , Hawkes argues that his " famous compassion in fact includes himself , viewed quite objectively and almost as an afterthought " . He therefore " lends grandeur " to the wider picture by comparing it to " his own slightly comical triviality " .
Du Fu 's compassion , for himself and for others , was part of his general broadening of the scope of poetry : he devoted many works to topics which had previously been considered unsuitable for poetic treatment . Zhang Jie wrote that for Du Fu , " everything in this world is poetry " , Du wrote extensively on subjects such as domestic life , calligraphy , paintings , animals , and other poems .
Du Fu 's work is notable above all for its range . Chinese critics traditionally used the term 集大成 ( jídàchéng- " complete symphony " ) , a reference to Mencius ' description of Confucius . Yuan Zhen was the first to note the breadth of Du Fu 's achievement , writing in 813 that his predecessor , " united in his work traits which previous men had displayed only singly " . He mastered all the forms of Chinese poetry : Chou says that in every form he " either made outstanding advances or contributed outstanding examples " . Furthermore , his poems use a wide range of registers , from the direct and colloquial to the allusive and self @-@ consciously literary . This variety is manifested even within individual works : Owen identifies the , " rapid stylistic and thematic shifts " in poems which enable the poet to represent different facets of a situation , while Chou uses the term " juxtaposition " as the major analytical tool in her work . Du Fu is noted for having written more on poetics and painting than any other writer of his time . He wrote eighteen poems on painting alone , more than any other Tang poet . Du Fu 's seemingly negative commentary on the prized horse paintings of Han Gan ignited a controversy that has persisted to the present day .
The tenor of his work changed as he developed his style and adapted to his surroundings ( " chameleon @-@ like " according to Watson ) : his earliest works are in a relatively derivative , courtly style , but he came into his own in the years of the rebellion . Owen comments on the " grim simplicity " of the Qinzhou poems , which mirrors the desert landscape ; the works from his Chengdu period are " light , often finely observed " ; while the poems from the late Kuizhou period have a " density and power of vision " .
Although he wrote in all poetic forms , Du Fu is best known for his lǜshi , a type of poem with strict constraints on form and content , for example :
About two thirds of Du Fu 's 1500 extant works are in this form , and he is generally considered to be its leading exponent . His best lǜshi use the parallelisms required by the form to add expressive content rather than as mere technical restrictions . Hawkes comments that , " it is amazing that Tu Fu is able to use so immensely stylized a form in so natural a manner " .
According to the Encyclopædia Britannica , Du Fu 's writings are considered by many literary critics to be among the greatest of all time , and it states " his dense , compressed language makes use of all the connotative overtones of a phrase and of all the intonational potentials of the individual word , qualities that no translation can ever reveal . "
In his lifetime and immediately following his death , Du Fu was not greatly appreciated . In part this can be attributed to his stylistic and formal innovations , some of which are still " considered extremely daring and bizarre by Chinese critics . " There are few contemporary references to him — only eleven poems from six writers — and these describe him in terms of affection , but not as a paragon of poetic or moral ideals . Du Fu is also poorly represented in contemporary anthologies of poetry .
However , as Hung notes , he " is the only Chinese poet whose influence grew with time " , and his works began to increase in popularity in the ninth century . Early positive comments came from Bai Juyi , who praised the moral sentiments of some of Du Fu 's works ( although he found these in only a small fraction of the poems ) , and from Han Yu , who wrote a piece defending Du Fu and Li Bai on aesthetic grounds from attacks made against them . Both these writers showed the influence of Du Fu in their own poetic work . By the beginning of the 10th century , Wei Zhuang constructed the first replica of his thatched cottage in Sichuan .
It was in the 11th century , during the Northern Song era that Du Fu 's reputation reached its peak . In this period a comprehensive re @-@ evaluation of earlier poets took place , in which Wang Wei , Li Bai and Du Fu came to be regarded as representing respectively the Buddhist , Daoist and Confucian strands of Chinese culture . At the same time , the development of Neo @-@ Confucianism ensured that Du Fu , as its poetic exemplar , occupied the paramount position . Su Shi famously expressed this reasoning when he wrote that Du Fu was " preeminent ... because ... through all his vicissitudes , he never for the space of a meal forgot his sovereign " . His influence was helped by his ability to reconcile apparent opposites : political conservatives were attracted by his loyalty to the established order , while political radicals embraced his concern for the poor . Literary conservatives could look to his technical mastery , while literary radicals were inspired by his innovations . Since the establishment of the People 's Republic of China , Du Fu 's loyalty to the state and concern for the poor have been interpreted as embryonic nationalism and socialism , and he has been praised for his use of simple , " people 's language " .


====================
文件: .\data\processed\wikitext-2-raw-v1\corpus.txt
====================

Senjō no Valkyria 3 : Unrecorded Chronicles ( Japanese : 戦場のヴァルキュリア3 , lit . Valkyria of the Battlefield 3 ) , commonly referred to as Valkyria Chronicles III outside Japan , is a tactical role @-@ playing video game developed by Sega and Media.Vision for the PlayStation Portable . Released in January 2011 in Japan , it is the third game in the Valkyria series . Employing the same fusion of tactical and real @-@ time gameplay as its predecessors , the story runs parallel to the first game and follows the " Nameless " , a penal military unit serving the nation of Gallia during the Second Europan War who perform secret black operations and are pitted against the Imperial unit " Calamaty Raven " .
The game began development in 2010 , carrying over a large portion of the work done on Valkyria Chronicles II . While it retained the standard features of the series , it also underwent multiple adjustments , such as making the game more forgiving for series newcomers . Character designer Raita Honjou and composer Hitoshi Sakimoto both returned from previous entries , along with Valkyria Chronicles II director Takeshi Ozawa . A large team of writers handled the script . The game 's opening theme was sung by May 'n .
It met with positive sales in Japan , and was praised by both Japanese and western critics . After release , it received downloadable content , along with an expanded edition in November of that year . It was also adapted into manga and an original video animation series . Due to low sales of Valkyria Chronicles II , Valkyria Chronicles III was not localized , but a fan translation compatible with the game 's expanded edition was released in 2014 . Media.Vision would return to the franchise with the development of Valkyria : Azure Revolution for the PlayStation 4 .
As with previous Valkyira Chronicles games , Valkyria Chronicles III is a tactical role @-@ playing game where players take control of a military unit and take part in missions against enemy forces . Stories are told through comic book @-@ like panels with animated character portraits , with characters speaking partially through voiced speech bubbles and partially through unvoiced text . The player progresses through a series of linear missions , gradually unlocked as maps that can be freely scanned through and replayed as they are unlocked . The route to each story location on the map varies depending on an individual player 's approach : when one option is selected , the other is sealed off to the player . Outside missions , the player characters rest in a camp , where units can be customized and character growth occurs . Alongside the main story missions are character @-@ specific sub missions relating to different squad members . After the game 's completion , additional episodes are unlocked , some of them having a higher difficulty than those found in the rest of the game . There are also love simulation elements related to the game 's two main heroines , although they take a very minor role .
The game 's battle system , the BliTZ system , is carried over directly from Valkyira Chronicles . During missions , players select each unit using a top @-@ down perspective of the battlefield map : once a character is selected , the player moves the character around the battlefield in third @-@ person . A character can only act once per @-@ turn , but characters can be granted multiple turns at the expense of other characters ' turns . Each character has a field and distance of movement limited by their Action Gauge . Up to nine characters can be assigned to a single mission . During gameplay , characters will call out if something happens to them , such as their health points ( HP ) getting low or being knocked out by enemy attacks . Each character has specific " Potentials " , skills unique to each character . They are divided into " Personal Potential " , which are innate skills that remain unaltered unless otherwise dictated by the story and can either help or impede a character , and " Battle Potentials " , which are grown throughout the game and always grant boons to a character . To learn Battle Potentials , each character has a unique " Masters Table " , a grid @-@ based skill table that can be used to acquire and link different skills . Characters also have Special Abilities that grant them temporary boosts on the battlefield : Kurt can activate " Direct Command " and move around the battlefield without depleting his Action Point gauge , the character Reila can shift into her " Valkyria Form " and become invincible , while Imca can target multiple enemy units with her heavy weapon .
Troops are divided into five classes : Scouts , Shocktroopers , Engineers , Lancers and Armored Soldier . Troopers can switch classes by changing their assigned weapon . Changing class does not greatly affect the stats gained while in a previous class . With victory in battle , experience points are awarded to the squad , which are distributed into five different attributes shared by the entire squad , a feature differing from early games ' method of distributing to different unit types .
The game takes place during the Second Europan War . Gallian Army Squad 422 , also known as " The Nameless " , are a penal military unit composed of criminals , foreign deserters , and military offenders whose real names are erased from the records and thereon officially referred to by numbers . Ordered by the Gallian military to perform the most dangerous missions that the Regular Army and Militia will not do , they are nevertheless up to the task , exemplified by their motto , Altaha Abilia , meaning " Always Ready . " The three main characters are No.7 Kurt Irving , an army officer falsely accused of treason who wishes to redeem himself ; Ace No.1 Imca , a female Darcsen heavy weapons specialist who seeks revenge against the Valkyria who destroyed her home ; and No.13 Riela Marcellis , a seemingly jinxed young woman who is unknowingly a descendant of the Valkyria . Together with their fellow squad members , these three are tasked to fight against a mysterious Imperial unit known as Calamity Raven , consisting of mostly Darcsen soldiers .
As the Nameless officially do not exist , the upper echelons of the Gallian Army exploit the concept of plausible deniability in order to send them on missions that would otherwise make Gallia lose face in the war . While at times this works to their advantage , such as a successful incursion into Imperial territory , other orders cause certain members of the 422nd great distress . One such member , Gusurg , becomes so enraged that he abandons his post and defects into the ranks of Calamity Raven , attached to the ideal of Darcsen independence proposed by their leader , Dahau . At the same time , elements within Gallian Army Command move to erase the Nameless in order to protect their own interests . Hounded by both allies and enemies , and combined with the presence of a traitor within their ranks , the 422nd desperately move to keep themselves alive while at the same time fight to help the Gallian war effort . This continues until the Nameless 's commanding officer , Ramsey Crowe , who had been kept under house arrest , is escorted to the capital city of Randgriz in order to present evidence exonerating the weary soldiers and expose the real traitor , the Gallian General that had accused Kurt of Treason .
Partly due to these events , and partly due to the major losses in manpower Gallia suffers towards the end of the war with the Empire , the Nameless are offered a formal position as a squad in the Gallian Army rather than serve as an anonymous shadow force . This is short @-@ lived , however , as following Maximilian 's defeat , Dahau and Calamity Raven move to activate an ancient Valkyrian super weapon within the Empire , kept secret by their benefactor . Without the support of Maximilian or the chance to prove themselves in the war with Gallia , it is Dahau 's last trump card in creating a new Darcsen nation . As an armed Gallian force invading the Empire just following the two nations ' cease @-@ fire would certainly wreck their newfound peace , Kurt decides to once again make his squad the Nameless , asking Crowe to list himself and all under his command as killed @-@ in @-@ action . Now owing allegiance to none other than themselves , the 422nd confronts Dahau and destroys the Valkyrian weapon . Each member then goes their separate ways in order to begin their lives anew .
Concept work for Valkyria Chronicles III began after development finished on Valkyria Chronicles II in early 2010 , with full development beginning shortly after this . The director of Valkyria Chronicles II , Takeshi Ozawa , returned to that role for Valkyria Chronicles III . Development work took approximately one year . After the release of Valkyria Chronicles II , the staff took a look at both the popular response for the game and what they wanted to do next for the series . Like its predecessor , Valkyria Chronicles III was developed for PlayStation Portable : this was due to the team wanting to refine the mechanics created for Valkyria Chronicles II , and they had not come up with the " revolutionary " idea that would warrant a new entry for the PlayStation 3 . Speaking in an interview , it was stated that the development team considered Valkyria Chronicles III to be the series ' first true sequel : while Valkyria Chronicles II had required a large amount of trial and error during development due to the platform move , the third game gave them a chance to improve upon the best parts of Valkyria Chronicles II due to being on the same platform . In addition to Sega staff from the previous games , development work was also handled by Media.Vision. The original scenario was written Kazuki Yamanobe , while the script was written by Hiroyuki Fujii , Koichi Majima , Kishiko Miyagi , Seiki Nagakawa and Takayuki Shouji . Its story was darker and more somber than that of its predecessor .
The majority of material created for previous games , such as the BLiTZ system and the design of maps , was carried over . Alongside this , improvements were made to the game 's graphics and some elements were expanded , such as map layouts , mission structure , and the number of playable units per mission . A part of this upgrade involved creating unique polygon models for each character 's body . In order to achieve this , the cooperative elements incorporated into the second game were removed , as they took up a large portion of memory space needed for the improvements . They also adjusted the difficulty settings and ease of play so they could appeal to new players while retaining the essential components of the series ' gameplay . The newer systems were decided upon early in development . The character designs were done by Raita Honjou , who had worked on the previous Valkyria Chronicles games . When creating the Nameless Squad , Honjou was faced with the same problem he had had during the first game : the military uniforms essentially destroyed character individuality , despite him needing to create unique characters the player could identify while maintaining a sense of reality within the Valkyria Chronicles world . The main color of the Nameless was black . As with the previous Valkyria games , Valkyria Chronicles III used the CANVAS graphics engine . The anime opening was produced by Production I.G.
The music was composed by Hitoshi Sakimoto , who had also worked on the previous Valkyria Chronicles games . When he originally heard about the project , he thought it would be a light tone similar to other Valkyria Chronicles games , but found the themes much darker than expected . An early theme he designed around his original vision of the project was rejected . He redid the main theme about seven times through the music production due to this need to reassess the game . The main theme was initially recorded using orchestra , then Sakimoto removed elements such as the guitar and bass , then adjusted the theme using a synthesizer before redoing segments such as the guitar piece on their own before incorporating them into the theme . The rejected main theme was used as a hopeful tune that played during the game 's ending . The battle themes were designed around the concept of a " modern battle " divorced from a fantasy scenario by using modern musical instruments , constructed to create a sense of atonality . While Sakimoto was most used to working with synthesized music , he felt that he needed to incorporate live instruments such as orchestra and guitar . The guitar was played by Mitsuhiro Ohta , who also arranged several of the later tracks . The game 's opening theme song , " If You Wish for ... " ( もしも君が願うのなら , Moshimo Kimi ga Negauno Nara ) , was sung by Japanese singer May 'n . Its theme was the reason soldiers fought , in particular their wish to protect what was precious to them rather than a sense of responsibility or duty . Its lyrics were written by Seiko Fujibayashi , who had worked on May 'n on previous singles .
In September 2010 , a teaser website was revealed by Sega , hinting at a new Valkyria Chronicles game . In its September issue , Famitsu listed that Senjō no Valkyria 3 would be arriving on the PlayStation Portable . Its first public appearance was at the 2010 Tokyo Game Show ( TGS ) , where a demo was made available for journalists and attendees . During the publicity , story details were kept scant so as not to spoil too much for potential players , along with some of its content still being in flux at the time of its reveal . To promote the game and detail the story leading into the game 's events , an episodic Flash visual novel written by Fujii began release in January 2011 . The game was released January 27 , 2011 . During an interview , the development team said that the game had the capacity for downloadable content ( DLC ) , but that no plans were finalized . Multiple DLC maps , featuring additional missions and recruitable characters , were released between February and April 2011 . An expanded edition of the game , Valkyria Chronicles III Extra Edition , released on November 23 , 2011 . Packaged and sold at a lower price than the original , Extra Edition game with seven additional episodes : three new , three chosen by staff from the game 's DLC , and one made available as a pre @-@ order bonus . People who also owned the original game could transfer their save data between versions .
Unlike its two predecessors , Valkyria Chronicles III was not released in the west . According to Sega , this was due to poor sales of Valkyria Chronicles II and the general unpopularity of the PSP in the west . An unofficial fan translation patch began development in February 2012 : players with a copy of Valkyria Chronicles III could download and apply the patch , which translated the game 's text into English . Compatible with the Extra Edition , the patch was released in January 2014 .
On its day of release in Japan , Valkyria Chronicles III topped both platform @-@ exclusive and multi @-@ platform sales charts . By early February , the game sold 102 @,@ 779 units , coming in second overall to The Last Story for the Wii . By the end of the year , the game had sold just over 152 @,@ 500 units .
Famitsu enjoyed the story , and were particularly pleased with the improvements to gameplay . Japanese gaming site Game Watch Impress , despite negatively noting its pacing and elements recycled from previous games , was generally positive about its story and characters , and found its gameplay entertaining despite off @-@ putting difficulty spikes . 4Gamer.net writer Naohiko Misuosame , in a " Play Test " article based on the game 's PSN demo , felt that Valkyria Chronicles III provided a " profound feeling of closure " for the Valkyria Chronicles series . He praised its gameplay despite annoying limitations to aspects such as special abilities , and positively noted its shift in story to a tone similar to the first game .
PlayStation Official Magazine - UK praised the story 's blurring of Gallia 's moral standing , art style , and most points about its gameplay , positively noting the latter for both its continued quality and the tweaks to balance and content . Its one major criticism were multiple difficulty spikes , something that had affected the previous games . Heath Hindman of gaming website PlayStation Lifestyle praised the addition of non @-@ linear elements and improvements or removal of mechanics from Valkyria Chronicles II in addition to praising the returning gameplay style of previous games . He also positively noted the story 's serious tone . Points criticized in the review were recycled elements , awkward cutscenes that seemed to include all characters in a scene for no good reason , pacing issues , and occasional problems with the game 's AI .
In a preview of the TGS demo , Ryan Geddes of IGN was left excited as to where the game would go after completing the demo , along with enjoying the improved visuals over Valkyria Chronicles II . Kotaku 's Richard Eisenbeis was highly positive about the game , citing is story as a return to form after Valkyria Chronicles II and its gameplay being the best in the series . His main criticisms were its length and gameplay repetition , along with expressing regret that it would not be localized .
Kurt and Riela were featured in the Nintendo 3DS crossover Project X Zone , representing the Valkyria series . Media.Vision would return to the series to develop Valkyria : Azure Revolution , with Ozawa returning as director . Azure Revolution is a role @-@ playing video game for the PlayStation 4 that forms the beginning of a new series within the Valkyria franchise .
Valkyria Chronicles 3 was adapted into a two @-@ episode original video animation series in the same year of its release . Titled Senjō no Valkyria 3 : Taga Tame no Jūsō ( 戦場のヴァルキュリア３ 誰がための銃瘡 , lit . Valkyria of the Battlefield 3 : The Wound Taken for Someone 's Sake ) , it was originally released through PlayStation Network and Qriocity between April and May 2011 . The initially @-@ planned release and availability period needed to be extended due to a stoppage to PSN during the early summer of that year . It later released for DVD on June 29 and August 31 , 2011 , with separate " Black " and " Blue " editions being available for purchase . The anime is set during the latter half of Valkyria Chronicles III , detailing a mission by the Nameless against their Imperial rivals Calamity Raven . The anime was first announced in November 2010 . It was developed by A @-@ 1 Pictures , produced by Shinji Motoyama , directed by Nobuhiro Kondō , and written by Hiroshi Ōnogi . Sakimoto 's music for the game was used in the anime .
The anime 's title was inspired by the principle purpose of the Nameless : to suffer in battle for the goals of others . A subtitle attached to the project during development was " The Road to Kubinka " , which referenced the Kubinka Tank Museum in Moscow . The game 's main theme was how the characters regained their sense of self when stripped of their names and identities , along with general themes focused on war and its consequences . While making the anime , the production team were told by Sega to make it as realistic as possible , with the consequence that the team did extensive research into aspects such as what happened when vehicles like tanks were overturned or damaged . Due to it being along the same timeline as the original game and its television anime adaptation , the cast of Valkyria Chronicles could make appearances , which pleased the team . The opening theme , " Akari ( Light ) -Tomoshibi- " ( 灯 @-@ TOMOSHIBI- ) , was sung by Japanese singer Faylan . The ending theme , " Someday the Flowers of Light Will Bloom " ( いつか咲く光の花 , Itsuka Saku Hikari no Hana ) , was sung by Minami Kuribayashi . Both songs ' lyrics were written by their respective artists .
Two manga adaptations were produced , following each of the game 's main female protagonists Imca and Riela . They were Senjō no Valkyria 3 : Namo naki Chikai no Hana ( 戦場のヴァルキュリア3 名もなき誓いの花 , lit . Valkyria of the Battlefield 3 : The Flower of the Nameless Oath ) , illustrated by Naoyuki Fujisawa and eventually released in two volumes after being serialized in Dengeki Maoh between 2011 and 2012 ; and Senjō no Valkyria 3 : -Akaki Unmei no Ikusa Otome- ( 戦場のヴァルキュリア3 -赤き運命の戦乙女- , lit . Valkyria of the Battlefield 3 -The Valkyrie of the Crimson Fate ) , illustrated by Mizuki Tsuge and eventually released in a single volume by Kadokawa Shoten in 2012 .
The Tower Building of the Little Rock Arsenal , also known as U.S. Arsenal Building , is a building located in MacArthur Park in downtown Little Rock , Arkansas . Built in 1840 , it was part of Little Rock 's first military installation . Since its decommissioning , The Tower Building has housed two museums . It was home to the Arkansas Museum of Natural History and Antiquities from 1942 to 1997 and the MacArthur Museum of Arkansas Military History since 2001 . It has also been the headquarters of the Little Rock Æsthetic Club since 1894 .
The building receives its name from its distinct octagonal tower . Besides being the last remaining structure of the original Little Rock Arsenal and one of the oldest buildings in central Arkansas , it was also the birthplace of General Douglas MacArthur , who became the supreme commander of US forces in the South Pacific during World War II . It was also the starting place of the Camden Expedition . In 2011 it was named as one of the top 10 attractions in the state of Arkansas by Arkansas.com.
The arsenal was constructed at the request of Governor James Sevier Conway in response to the perceived dangers of frontier life and fears of the many Native Americans who were passing through the state on their way to the newly established Oklahoma Territory . Thirty @-@ six acres were appropriated on the outskirts of Little Rock by Major Robert B. Lee of the U.S. Army . The land had been previously used as a racetrack by the local jockey club . John Wormley Walker , a builder for the Federal Government , supervised the construction . Originally $ 14 @,@ 000 was allocated for the construction of the arsenal , but proved inadequate . The budget was later increased to $ 30 @,@ 000 . Work began on the Tower Building in 1840 , and it was the first permanent structure of the arsenal to be built . Being originally constructed to store ammunition , the building was designed with 3 @-@ foot @-@ thick ( 0 @.@ 91 m ) exterior walls . The original plans called for it to be built of stone , however , masonry was used instead . The Arkansas Gazette referred to the structure as " A splendid specimen of masonry " .
For several years the arsenal , which was owned by the federal government , served as a simple arms depot and was staffed with only a handful of soldiers . But in November 1860 , with the American Civil War on the horizon , a company of the Second United States Artillery , consisting of sixty @-@ five men , was transferred to Little Rock under the command of Captain James Totten . On January 15 , 1861 , the state legislature decided to hold a referendum to determine if a state convention should be held to consider the issue of secession and to elect delegates to such a convention . It was planned for February 18 ; however , events at the arsenal , would not wait . On January 28 , then Governor Henry Massey Rector informed Captain Totten that he and his soldiers would be " permitted to remain in the possession of the Federal officers until the State , by authority of the people , shall have determined to sever their connection with the General Government , " Totten responded to this by telling the Governor that his orders came from the United States Government and began a desperate but ultimately futile dispatch of letters and telegrams asking for reinforcements , although rumors were widely spread that they were already coming . The first telegraph wire to span between Little Rock and Memphis had recently been completed . Local attorney John M Harrel was asked to compose the first telegraph dispatched from Arkansas 's capital . In his message , Harrel reported unconfirmed rumors that more federal troops had been sent to reinforce the Little Rock Arsenal .
The United States troops at the outposts of the western frontier of the state and in the Indian nation have all been recalled from winter quarters to reinforce the garrison at Fort Smith . The garrison at Fort Smith had been previously transferred to the United States Arsenal in this city ( Little Rock ) . The arsenal is one of the richest depositories of military stores in the United States and is supposed to be the ultimate destination of the tropps [ sic ] ordered from the frontier .
The item was intended simply as a piece of news , but telegraph lines quickly spread the news throughout the state , fueling procession sentiment . The rumor was interpreted by some Arkansans as a call from the governor to assemble to help expel the federal troops from the arsenal . By February 5 , six militia units , consisting of 1 @,@ 000 men , with a guarantee that the numbers could be increased to 5 @,@ 000 if the situations deemed it necessary , had assembled in Little Rock . Governor Rector vehemently denied ordering the troops to assemble or giving any order at all in connection with the troops . Faced with the fact that the military had assembled believing they were following his orders and the consensus of the citizens of Little Rock against any armed conflict between the civilian army and federal troops , Governor Rector was forced to take control of the situation . On February 6 , he sent a formal demand for surrender of the arsenal to Captain Totten ,
This movement is prompted by the feeling that pervades the citizens of this State that in the present emergency the arms and munitions of war in the Arsenal should be under the control of the State authorities , in order to their security . This movement , although not authorized by me , has assumed such an aspect that it becomes my duty , as the executive of this Sate , to interpose my official authority to prevent a collision between the people of the State and the Federal troops under your command . I therefore demand in the name of the State the delivery of the possession of the Arsenal and munitions of war under your charge to the State authorities , to be held subject to the action of the convention to be held on the 4th of March next .
Perhaps because Abraham Lincoln had not yet been inaugurated as President , Captain Totten received no instructions from his superiors and was forced to withdraw his troops . He agreed to surrender the arsenal as long as the governor agreed to three provisions :
The governor would take possession of the arsenal in the name of the United States .
The soldiers would be allowed safe passage in any direction carrying any personal and public property besides munitions of war .
The soldiers would be allowed to march away as men leaving under orders , not as conquered and surrendering soldiers .
On the morning of February 8 , 1861 , Rector and Totten signed an agreement placing the arsenal in the hands of state officials . That afternoon , the citizen militia marched to the arsenal with Governor Rector at its head . All of the federal troops had left at this point , except Totten who had stayed behind to listen to the Governor 's speech and to hand the arsenal over in person .
The Little Rock Arsenal was classified in 1860 as an " arsenal of deposit , " meaning that it was simply a warehouse for the storage of weapons intended for the use of the state militia in times of crisis . Thus there were no substantial operations for ordnance fabrication or repairs , nor for the manufacture of cartridges at the time the Arsenal fell into State hands . Most of these operations were started from scratch through the efforts of the Arkansas Military Board .
Inside the Little Rock Arsenal after its seizure in February , 1861 , the Confederates inventoried some 10 @,@ 247 weapons , 250 @,@ 000 musket cartridges , and 520 @,@ 000 percussion caps , as well as the four bronze cannon of Totten 's battery . Long arms in the Arsenal 's inventory consisted of :
Of this number , approximately 9600 weapons were serviceable , or ready @-@ for @-@ issue . Note there were only 1 @,@ 364 percussion weapons available . Disposition of the weapons found in the Arsenal is somewhat sketchy , but from various records it can be surmised that the 5th , 6th , 7th , and 8th Arkansas Infantry Regiments , mustered in June , 1861 , were issued M1816 / M1822 .69 caliber flintlocks . The 9th and 10th Arkansas , four companies of Kelly 's 9th Arkansas Battalion , and the 3rd Arkansas Cavalry Regiment were issued flintlock Hall 's Rifles . The units comprising the infantry force of Van Dorn 's Army of the West were the 1st and 2nd Arkansas Mounted Rifles were also armed with M1822 flintlocks from the Little Rock Arsenal . By the time the 11th and 12th Arkansas Infantry Regiments mustered in at Little Rock , the supply of arms had been almost completely exhausted , and only old " junker " weapons were left .
Most of the equipment , arms , and machinery at the Little Rock Arsenal was removed to east of the Mississippi River by order of Maj. Gen. Earl Van Dorn in April and May 1862 , and accountability for it is lost at that point . By all appearances , the equipment was sent down the river to Napoleon , Arkansas , and from there to Jackson Mississippi , where it was probably destroyed during the Vicksburg campaign in the early summer of 1863 .
Major General Thomas C. Hindman , sent to command the district of Arkansas in May , 1862 , found the state nearly destitute of military material . Hindman established another armory at Arkadelphia , and revived the Little Rock Arsenal as a collection point and depot for armaments and ammunition manufacture for small arms . Hindman recorded :
" Machinery was made for manufacturing percussion caps and small arms , and both were turned out in small quantity , but of excellent quality . Lead mines were opened and worked , and a chemical laboratory was established and successfully operated in aid of the Ordnance Department and in the manufacture of calomel , castor oil , spirits of nitre , the various tinctures of iron , and other valuable medicines . Most of these works were located at or near Arkadelphia on the Ouachita River , 75 miles south from Little Rock . The tools , machinery , and the material were gathered piecemeal or else made by hand labor . Nothing of this sort had been before attempted on Government account in Arkansas to my knowledge , except for the manufacture of small arms , the machinery for which was taken away by General Van Dorn and there was neither capital nor sufficient enterprise among the citizens to engage in such undertakings � A further supply , along with lead and caps , was procured from the citizens of Little Rock and vicinity by donation , purchases , and impressments .
This ammunition , and that which I brought with me , was rapidly prepared for use at the Laboratory established at the Little Rock Arsenal for that purpose . As illustrating as the pitiful scarcity of material in the country , the fact may be stated that it was found necessary to use public documents of the State Library for cartridge paper . Gunsmiths were employed or conscripted , tools purchased or impressed , and the repair of the damaged guns I brought with me and about an equal number found at Little Rock commenced at once . But , after inspecting the work and observing the spirit of the men I decided that a garrison 500 strong could hold out against Fitch and that I would lead the remainder - about 1500 - to Gen 'l Rust as soon as shotguns and rifles could be obtained from Little Rock instead of pikes and lances , with which most of them were armed . Two days elapsed before the change could be effected . "
The Confederate ordnance establishment at Little Rock was reactivated in August , 1862 . Looking around for a suitable person to head this activity , General Hindman turned to the Confederate Navy and borrowed Lieutenant John W. Dunnington . Lt. Dunnington was the commander of the gunboat C.S.S. Ponchartrain , which had been brought to Little Rock in hopes of converting it to an ironclad . Dunnington was selected to head the ordnance works at Little Rock , and although he continued to draw his pay from the Confederate Navy Department , he was placed in charge of all Confederate ordnance activities ( which included artillery functions ) there with the rank of lieutenant colonel .
Lt. Col. Dunnington 's " Returns for the month of August , 1862 , at Little Rock Arsenal , C.S.A. , " are found in Vol . 149 , Chapter IV of the " Captured Rebel Ordnance Records , " and are most enlightening as to the scope of Confederate ordnance activities at Little Rock during this crucial time . According to Dunnington , " When I assumed command at this Post , all material had been removed to Arkadelphia . There were no persons employed . No shops were open for repair of arms or for fabricating ammunition . Material , tools , etc . , had to be procured as well as the employment of laborers . Work commenced the last part of the month . "
The military force at Little Rock under Dunnington 's command consisted of four officers : himself , Major John B. Lockman , Captain C.C. Green , and 2nd Lt. W.W. Murphy . In addition to these , he had 20 enlisted men and a civilian force composed of a foreman , 2 clerks , 3 gunsmiths for repairing small arms , a laboratorian , 26 laborers in the ammunition laboratory , and a carpenter for making packing boxes .
During the month of August , 1862 , the following work was performed : " Fabricated : one pair of musket bullet moulds ; 10 @,@ 000 buck & ball shot cartridges ; repaired : 750 muskets , shotguns , and rifles ; received and repaired : ordnance stores and ordnances ; performed : guard , office , and police duties ; inspected : Posts at Camden and Arkadelphia . "
Lt. Col. Dunnington continued to build up his works at Little Rock until November 1862 , when Captain Sanford C. Faulkner ( composer of The Arkansas Traveler ) was placed in charge of the Arsenal . Dunnington presumably returned to his naval duties and the Ponchartrain .
A " Summary of the Work Done for November , 1862 , Little Rock Arsenal " shows : Fabrication :
2 @,@ 236 shotguns and rifles ( repaired mostly for troops in service )
23 pistols ( repaired mostly for troops in service )
752 packages of ordnance and ordnance stores received and mostly issued to troops in service .
Perhaps the most illuminating points of the above " Summary of Work " and those for following months are that the standard ammunition made was . " buck & ball " , indicating that the .69 caliber smoothbores and shotguns remained the predominant caliber weapon in use , and of this , nearly one sixth or more of all small arms ammunition was still for flintlock weapons , indicating that no less than a sixth of the Confederate troops in this vicinity were still armed with obsolete flintlock weapons .
The " Summaries of Work done at Little Rock Arsenal , C.S.A. " continue at about the same pace and scale from August 1862 until August 1863 . Appended to the " Summary " for August , 1863 is the ominous notation , " During the last week in the month , nearly all stores at the Arsenal have been packed and sent to Arkadelphia , in obedience to orders from Chief of Ordnance , District of Arkansas . " This then marks the beginning of the evacuation of ordnance activities from Little Rock , with the city being surrendered to the advancing Federal troops of Frederick Steele 's Arkansas Expedition on September 11 , 1863 .
In 1864 , after Little Rock fell to the Union Army and the arsenal had been recaptured , General Fredrick Steele marched 8 @,@ 500 troops from the arsenal beginning the Camden Expedition .
The arsenal was briefly seized once more by Joseph Brooks loyalists during the Brooks @-@ Baxter War of 1874 .
In 1873 , the building was renamed Little Rock Barracks and used as a barracks for married officers and their families . The building was drastically altered the inside and outside . Prior to renovation , a rear basement door provided the only entrance to the building , while the tower served as a hoist to move munitions between floors . By 1868 , front and rear porches had been added to the building , as well as interior walls and stairs , some of which remain today , including the central staircase . In 1880 , Douglas MacArthur was born on the northwest upper floor of this building while his father , Captain Arthur MacArthur , was stationed there .
In the 1880s , the federal government began closing many small arsenals around the country in favor of smaller ones built near railroads for quick deployment . The arsenal commander received word from Washington that the Little Rock site must be abandoned " not later than October 1 , 1890 . " On April 12 , 1893 the tower building and the surrounding buildings were traded to the city of Little Rock for 1 @,@ 000 acres ( 4 km ² ) in North Little Rock under the condition that the building and land be " forever exclusively devoted to the uses and purposes of a public park " for 1 @,@ 000 acres ( 4 km ² ) in Big Rock Mountain on the north side of the Arkansas River , present day North Little Rock . That site later became Fort Logan H. Roots . All of the original buildings surrounding the Tower Building were demolished .
In 1894 the Little Rock Æsthetic Club , one of the oldest women 's societies west of the Mississippi River , moved into the Tower Building . This was prompted due to increased membership and a need for larger , more permanent quarters . The previous year , club members working with women 's organizations throughout the state , raised money to furnish the Arkansas Building of the Columbian Exposition at The Chicago World 's Fair . At the fair 's conclusion , artifacts from the exhibit were displayed in the Tower Building , with the Æsthetic Club invited to meet in the " Columbian Room . "
Except for Æsthetic Club meetings , the Tower Building remained largely unoccupied for almost fifty years and suffered significant deterioration . The Æsthetic Club provided much @-@ needed financial support during the period and even paid the electric bill during the Great Depression . The Æsthetic Club is still headquartered in the Tower Building .
The building and the surrounding park were used for many public purposes throughout the early 20th century . The Tower Building served as headquarters for the United Confederate Veterans Reunion , May 15 – 18 , 1911 . Over 106 @,@ 000 Civil War veterans , the largest popular gathering in the history of the city up to that time , attended and were housed in the building or camped in the park , which had also become a popular camping area . Later the building served as an armory for the Arkansas National Guard . In 1912 , the second floor of the Tower Building became Little Rock 's first public library . In 1917 , Little Rock built a fire station in the park , that building is now gone . A band shell named for H. H. Foster also was built in the park during this time , but also no longer exists . In 1936 , Works Progress Administration built the Museum of Fine Arts , now called the Arkansas Arts Center , just south of the Tower Building .
The arsenal was listed in the National Register of Historic Places in 1970 . Due to its association with the Camden Expedition of 1864 , the arsenal may be included in the Camden Expedition Sites National Historic Landmark designated in 1994 .
In 1942 , the Tower Building was renovated due to the efforts of the Æsthetic Club , Little Rock philanthropist Frederick W. Allsop , and the Works Progress Administration . It became the new home of The Arkansas Museum of Natural History and Antiquities , which had been located in Little Rock City Hall . The museum remained in the tower building for approximately fifty @-@ five years . The area surrounding the Tower Building had been known as Arsenal Park when the first decommissioned and then later renamed City Park . Due to the efforts of Bernie Babcock , however , the city finally named it MacArthur Park in 1942 in honor of Douglas MacArthur .
In 1997 , the Museum of Science and Natural History merged with the Little Rock Children 's Museum , which had been located in Union Station , to form the Arkansas Museum of Discovery . The new museum was relocated to a historic building in the Little Rock River Market District . The MacArthur Museum of Arkansas Military History opened on May 19 , 2001 in the Tower Building . The new museum 's goal is to educate and inform visitors about the military history of Arkansas , preserve the Tower Building , honor servicemen and servicewomen of the United States and commemorate the birthplace of Douglas MacArthur .
Cicely Mary Barker ( 28 June 1895 – 16 February 1973 ) was an English illustrator best known for a series of fantasy illustrations depicting fairies and flowers . Barker 's art education began in girlhood with correspondence courses and instruction at the Croydon School of Art . Her earliest professional work included greeting cards and juvenile magazine illustrations , and her first book , Flower Fairies of the Spring , was published in 1923 . Similar books were published in the following decades .
Barker was a devout Anglican , and donated her artworks to Christian fundraisers and missionary organizations . She produced a few Christian @-@ themed books such as The Children ’ s Book of Hymns and , in collaboration with her sister Dorothy , He Leadeth Me . She designed a stained glass window for St. Edmund 's Church , Pitlake , and her painting of the Christ Child , The Darling of the World Has Come , was purchased by Queen Mary .
Barker was equally proficient in watercolour , pen and ink , oils , and pastels . Kate Greenaway and the Pre @-@ Raphaelites were the principal influences on her work . She claimed to paint instinctively and rejected artistic theories . Barker died in 1973 . Though she published Flower Fairy books with spring , summer , and autumn themes , it wasn 't until 1985 that a winter collection was assembled from her remaining work and published posthumously .
Barker was born the second daughter and youngest child of Walter Barker , a partner in a seed supply company and an amateur artist , and his wife Mary Eleanor ( Oswald ) Barker on 28 June 1895 at home at 66 Waddon Road in Croydon , Surrey , England . Barker was an epileptic as a child , and cared for at home by her parents . Later , her sister and elder by two years , Dorothy Oswald Barker , continued the care .
The family of four was moderately well off , and belonged to the lower end of the upper middle class . A nanny , a governess , and a cook to prepare special meals for Barker were hired . She spent much time in bed at home amusing herself with painting books and a nursery library that included the works of Kate Greenaway and Randolph Caldecott – two artists who exerted strong influences on her later art .
Barker took correspondence courses in art , probably until about 1919 . In 1908 at 13 years , she entered an evening class at the Croydon School of Art , and attended the school into the 1940s . In time , she received a teaching position .
In 1911 , Raphael Tuck & Sons bought four of Barker 's " little drawings " for half a sovereign , and published them as postcards . In October 1911 , she won second prize in the Croydon Art Society 's poster competition , and shortly afterward was elected the youngest member of the Society . The art critic for the Croydon Advertiser remarked , " Her drawings show a remarkable freedom of spirit . She has distinct promise . "
Following her father ’ s death in June 1912 , the seventeen @-@ year @-@ old Barker submitted art and poetry to My Magazine , Child ’ s Own , Leading Strings , and Raphael Tuck annuals in an effort to support both her mother and sister . Her sister Dorothy taught kindergarten in two private schools before opening a kindergarten at home . She brought in some money for the family 's support while supervising the household .
Fairies became a popular theme in art and literature in the early 20th century following the releases of The Coming of the Fairies by Sir Arthur Conan Doyle , Peter Pan by J.M. Barrie , and the fairy @-@ themed work of Australian Ida Rentoul Outhwaite . Queen Mary made such themes even more popular by sending Outhwaite postcards to friends during the 1920s . In 1918 , Barker produced a postcard series depicting elves and fairies .
In 1923 , Barker sent her flower fairy paintings to various publishers . Blackie paid £ 25 for 24 paintings with accompanying verses , but it wasn 't until publication of Flower Fairies of the Summer in 1925 that Barker received royalties for her work . Mary Violet Clayton Calthrop , wife of author Dion Clayton Calthrop , wrote in April 1925 about Barker and Flower Fairies of the Spring : " She has such exquisite taste , besides draughtsmanship . "
In 1924 , the family moved into a four @-@ level , semi @-@ detached Victorian house at 23 The Waldrons . Barker had a studio built in the garden and her sister conducted a kindergarten in a room at the back of the house . The family lived frugally and attended both St. Edmund 's and St. Andrew 's in Croydon – " low " churches for the less privileged . Barker sometimes incorporated portraits of her fellow parishioners in her religious works . She was described by Canon Ingram Hill as " one of the pillars " of St. Andrew 's .
The children in the kindergarten modelled for the Flower Fairies until the kindergarten closed in 1940 . In an interview in 1958 , Barker said , " My sister ran a kindergarten and I used to borrow her students for models . For many years I had an atmosphere of children about me – I never forgot it . " She also painted the children of relatives as well as Gladys Tidy , the Barkers ' young housekeeper , who posed for the Primrose Fairy in 1923 . The plants were painted from life , and if a specimen was not readily at hand , Kew Gardens staff would provide her the specimens needed . Barker designed and built the Flower Fairy costumes , and based each on the flowers and leaves of the particular plant to be illustrated . The costumes were kept in a trunk in her studio along with wings made of twigs and gauze . Each was broken down after an illustration was completed and the parts recycled for other costumes . She often referred to Dion Clayton Calthrop 's English Costume .
In the late 1920s , Barker began to doubt she was doing enough for the church and considered focusing solely on sacred works . Family and friends recommended she continue secular and sacred works , which she did .
Barker continued to attend evening classes at the Croydon Art School between the 1920s and the 1940s , eventually receiving a teaching position . She took sketching trips to Amberley and Storrington in Sussex and to Cornwall and the southern coast with family and friends . She visited and stayed with artist Margaret Tarrant in Gomshall , Surrey and with family in Ugglebarnby , Near Whitby , North Yorkshire .
In 1940 , the Barker 's live @-@ in maid retired , and Dorothy Barker closed her school at the back of the house in The Waldrons . She continued to supervise the household , and to give both her mother and sister the care they needed . Dorothy and her sister collaborated upon only two books : Our Darling 's First Book and the Christian @-@ themed , He Leadeth Me . In 1954 Dorothy Barker died of a heart attack . Barker was unable to pursue her art to any significant extent following her sister 's death , as all the care of her aged mother devolved upon her , but she did manage to begin planning a stained glass window design in her sister 's memory for St. Edmund 's , Pitlake .
Barker 's mother died in 1960 , and , in 1961 , Barker moved from 23 The Waldrons to 6 Duppas Avenue in Croydon . She restored a maisonette in Storrington , Sussex , England , bequeathed by her friend Edith Major , and named it St. Andrew 's . After taking up residence , her health began to deteriorate . She was in and out of nursing and convalescent homes , and tended by relatives and friends .
Barker died at Worthing Hospital on 16 February 1973 , aged 77 years . Two funeral services were held – one in Storrington Church and one in Barker 's maisonette . Her ashes were scattered in Storrington churchyard . In 1989 , Frederick Warne , a division of Penguin Books since 1983 , acquired the Flower Fairies properties .
Barker worked principally in watercolor with pen @-@ and @-@ ink , but she was equally competent in black @-@ and @-@ white , in oils , and in pastels . She carried a sketchbook with her for capturing interesting children . She once indicated , " I have always tried to paint instinctively in a way that comes naturally to me , without any real thought or attention to artistic theories . "
Kate Greenaway was a childhood favorite and an influence on her art . Barker 's child subjects wear nostalgic clothing as Greenaway 's children do , though Barker 's children are less melancholy and less flat in appearance , due perhaps to advances in printing technology . Barker studied flowers with an analytical eye and was friend to children 's illustrator , Margaret Tarrant . Along with Greenaway , illustrator Alice B. Woodward also influenced Barker 's work .
The Pre @-@ Raphaelites were a strong , lifelong influence on Barker . She once indicated , " I am to some extent influenced by them — not in any technical sense , but in the choice of subject matter and the feeling and atmosphere they could achieve . " She admitted a fondness for the early paintings of John Everett Millais and " the wonderful things " of Edward Burne @-@ Jones .
Barker 's sketches , drawings , and paintings of children were given to friends or to the parents of the subjects , donated to charitable institutions and church sponsored events , or exhibited through various art organizations . She illustrated magazine covers , dust jackets , and produced series of postcards for Raphael Tuck and other publishers such as Picturesque Children of the Allies ( 1915 ) , Seaside Holidays ( 1918 ) , and Shakespeare 's Boy and Girl Characters ( 1917 , 1920 ) . Her own Old Rhymes for All Times ( 1928 ) and The Lord of the Rushie River ( 1938 ) , a tale about a girl who lives among swans on a riverbank , were critically well received . Set about 1800 , Groundsel and Necklaces ( 1943 ) tells of a girl named Jenny who rescues her family from poverty through the agency of the fairies . The story features an old Scrooge @-@ like man called Mr. Petercoo and tonally suggests a Dickensian social consciousness . Simon the Swan , intended as a sequel to Rushie River was outlined in 1943 with Groundsel , but only developed in 1953 . It was published posthumously in 1988 and is critically considered less successful than Groundsel .
Barker was a devout Christian , and produced religious @-@ themed works throughout her life . She published eight postcards and five guardian angel birthday cards for the Society for Promoting Christian Knowledge in 1916 and in 1923 respectively . Christmas cards were designed for The Girls ' Friendly Society over a 20 @-@ year period , and the first three designs sold out a combined printing of 46 @,@ 500 in 1923 . An original design for the society called The Darling of the World Has Come was purchased by Queen Mary for ₤ 5 @.@ 5 @.@ 0 in 1926 . The Croydon Art Society hung Barker 's booklet cover design for the Society for the Propagation of the Gospel in its November 1919 exhibition .
Religious @-@ themed books include The Children 's Book of Hymns ( 1929 ) and He Leadeth Me ( 1933 ) , the latter written in collaboration with her sister . Major religious works include the triptychs in oil , The Feeding of the Five Thousand ( 1929 ) , for the chapel in Llandaff House , a home for destitute women at Penarth , Wales , and The Parable of the Great Supper ( 1934 ) for St. George 's Chapel , Waddon . The Feeding has since disappeared , and only a black @-@ and @-@ white photograph dated 1929 reproduces the work . In 1941 , she completed oil panels on the subject of the seven sacraments for the baptismal font at St. Andrew 's , South Croydon . She designed baptismal rolls for the wall behind the font in 1948 and 1962 . In 1946 , she completed the 4 x 7 ft. oil painting , Out of Great Tribulation , for the Memorial Chapel of Norbury Methodist Church . Following the death of her sister in 1954 , Barker began designs for a stained glass memorial window depicting Christ preparing to wash the feet of his disciples . Her last religious @-@ themed work , it was installed in St. Edmund 's , Pitlake , in 1962 .
Picturesque Children of the Allies ; J. Salmon , 1916
National Mission ; Society for the Preservation of Christian Knowledge , 1916
Shakespeare 's Boy Characters ; C. W. Faulkner , 1917
Shakespeare 's Girl Characters ; C. W. Faulkner , 1920
Guardian Angel ; Society for the Preservation of Christian Knowledge , 1923
Christmas cards ; Girls ' Friendly Society , 1920s , 1930s
Christmas cards ( US ) ; Barton @-@ Colton , 1920s , 1930s
Child Thoughts in Picture and Verse ( by M. K. Westcott ) ; Blackie , 1925
The Book of the Flower Fairies ; Blackie , 1927
The Children ’ s Book of Hymns ; Blackie , 1929 ; rep . 1933
Our Darling ’ s First Book ( written in collaboration with Dorothy Barker ) ; Blackie , 1929
A Little Book of Old Rhymes ; Blackie , 1936
He Leadeth Me ( written in collaboration with Dorothy Barker ) ; Blackie , 1936
A Little Book of Rhymes New and Old ; Blackie , 1937
The Lord of the Rushie River ; Blackie , 1938
When Spring Came In at the Window ; Blackie , 1942
A Child ’ s Garden of Verses ( Robert Louis Stevenson ) ; Blackie , 1944
Groundsel and Necklaces ; Blackie , 1946 ; reprinted as Fairy Necklaces
Flower Fairies of the Flowers and Trees ; Blackie , 1950
The Sand , the Sea and the Sun ; Gibson , 1970
Flower Fairies of the Seasons ; Bedrick / Blackie , 1988
A Little Book of Prayers and Hymns ; Frederick Warne , 1994
Wild Cherry Makes A Wish ; ( collaboration with Pippa Le Quesne ) Frederick Warne , 2006
How to find Flower Fairies ; Frederick Warne , 2007
A New Epiphany ; Society for the Preservation of Christian Knowledge , 1919
Cradle roll design ; St. Edmund 's , Pitlake , 1922
Banner design ; St. Mary 's , Sanderstead , 1923
The Feeding of the Five Thousand ; reredos triptych , chapel at Penarth , Wales ; 1929
The Parable of the Great Supper ; triptych , St. George 's chapel , Waddon
The Seven Sacraments ; baptismal font panels , St. Andrew 's , Croydon
St. John the Baptist ; central banner panel , Abesford church , 1943
Lettering , sword , and shield ; mount for a list of men and woman serving in the Forces , St. Andrews , Croydon , 1943
Baptismal rolls ; St. Andrews , Croydon , 1948 , 1962
The font in St Andrew 's Church , South Croydon
Out of Great Tribulation ; memorial chapel , Norbury Medthodist church , 1948
I Am Among You As He That Serveth ; stained glass window design , St. Edmund 's , Pitlake , 1962
The Gambia women 's national football team represents the Gambia in international football competition . The team , however , has not competed in a match recognised by FIFA , the sport 's international governing body , despite that organised women 's football has been played in the country since 1998 . The Gambia has two youth teams , an under @-@ 17 side that has competed in FIFA U @-@ 17 Women 's World Cup qualifiers , and an under @-@ 19 side that withdrew from regional qualifiers for an under @-@ 19 World Cup . The development of a national team faces challenges similar to those across Africa , although the national football association has four staff members focusing on women 's football .
In 1985 , few countries had women 's national football teams . While the sport gained popularity worldwide in later decades , the Gambia 's national team only played its first game in 2007 . That game was not FIFA @-@ recognised . As of March 2012 , the team was unranked by FIFA , and as of the following month the Gambia had not played in a FIFA @-@ sanctioned match . The team has not participated in major regional and international tournaments , including the Women 's World Cup , the 2010 African Women 's Championship or the 2011 All @-@ Africa Games .
The country did not have a FIFA @-@ recognised youth national team until 2012 , when the Gambia under @-@ 17 women 's team competed in Confederation of African Football qualifiers for the FIFA U @-@ 17 World Cup , to be held in Azerbaijan in September 2012 . The Gambia had fielded an under @-@ 17 team of 24 players , narrowed from an initial pool of 49 young women . Two girls from the SOS Children ’ s Village Bakoteh were chosen as a members of the team . The Gambia first played Sierra Leone in a pair of qualifying matches for the tournament . Gambia won the first match 3 @-@ 0 in Banjul , the Gambia 's capital . The return match was delayed in for 24 hours and played in Makeni . The Gambia beat Sierra Leone 4 @-@ 3 to qualify for the final round . The Gambia then beat Tunisia 1 @-@ 0 at home and won 2 @-@ 1 in Tunisia . Adama Tamba and Awa Demba scored the Gambia 's goals . Tunisia 's only goal was a Gambian own goal . The win qualified Gambia for the 2012 Azerbaijan World Cup .
The Gambia also has an under @-@ 19 team that was to play in the African Women 's U @-@ 19 Championship in 2002 . The Gambia 's first match was against Morocco , but the team withdrew from the competition .
The development of women 's football in Africa faces several challenges , including limited access to education , poverty amongst women , inequalities and human rights abuses targeting women . Funding is another issue impacting the game in Africa , where most financial assistance comes from FIFA and not national football associations . Another challenge is the retention of football players . Many women footballers leave the continent to seek greater opportunity in Europe or the United States .
Gambia 's national football association was founded in 1952 , and became affiliated with FIFA in 1968 . Football is the most popular women 's sport in the country , and was first played in an organized system in 1998 . A national competition was launched in 2007 , the same year FIFA started an education course on football for women . Competition was active on both the national and scholastic levels by 2009 . There are four staffers dedicated to women 's football in the Gambia Football Association , and representation of women on the board is required by the association 's charter .
The plain maskray or brown stingray ( Neotrygon annotata ) is a species of stingray in the family Dasyatidae . It is found in shallow , soft @-@ bottomed habitats off northern Australia . Reaching 24 cm ( 9 @.@ 4 in ) in width , this species has a diamond @-@ shaped , grayish green pectoral fin disc . Its short , whip @-@ like tail has alternating black and white bands and fin folds above and below . There are short rows of thorns on the back and the base of the tail , but otherwise the skin is smooth . While this species possesses the dark mask @-@ like pattern across its eyes common to its genus , it is not ornately patterned like other maskrays .
Benthic in nature , the plain maskray feeds mainly on caridean shrimp and polychaete worms , and to a lesser extent on small bony fishes . It is viviparous , with females producing litters of one or two young that are nourished during gestation via histotroph ( " uterine milk " ) . This species lacks economic value but is caught incidentally in bottom trawls , which it is thought to be less able to withstand than other maskrays due to its gracile build . As it also has a limited distribution and low fecundity , the International Union for Conservation of Nature ( IUCN ) has listed it as Near Threatened .
The first scientific description of the plain maskray was authored by Commonwealth Scientific and Industrial Research Organisation ( CSIRO ) researcher Peter Last in a 1987 issue of Memoirs of the National Museum of Victoria . The specific name annotatus comes from the Latin an ( " not " ) and notatus ( " marked " ) , and refers to the ray 's coloration . The holotype is a male 21 @.@ 2 cm ( 8 @.@ 3 in ) across , caught off Western Australia ; several paratypes were also designated . Last tentatively placed the species in the genus Dasyatis , noting that it belonged to the " maskray " species group that also included the bluespotted stingray ( then Dasyatis kuhlii ) . In 2008 , Last and William White elevated the kuhlii group to the rank of full genus as Neotrygon , on the basis of morphological and molecular phylogenetic evidence .
In a 2012 phylogenetic analysis based on mitochondrial and nuclear DNA , the plain maskray and the Ningaloo maskray ( N. ningalooensis ) were found to be the most basal members of Neotrygon . The divergence of the N. annotata lineage was estimated to have occurred ~ 54 Ma . Furthermore , the individuals sequenced in the study sorted into two genetically distinct clades , suggesting that N. annotata is a cryptic species complex . The two putative species were estimated to have diverged ~ 4 @.@ 9 Ma ; the precipitating event was likely the splitting of the ancestral population by coastline changes .
The pectoral fin disc of the plain maskray is thin and diamond @-@ shaped with narrowly rounded outer corners , measuring 1 @.@ 1 – 1 @.@ 3 times longer than wide . The leading margins of the disc are gently concave and converge at a broad angle to the pointed tip of the snout . The small eyes are placed close together , and behind them are the spiracles . The nostrils are elongated and have a skirt @-@ shaped flap of skin between them . The small mouth bears prominent furrows at the corners and contains two slender papillae on the floor . Small papillae are also found around the outside of the mouth . There are five pairs of gill slits . The pelvic fins are fairly large and pointed .
The tail is short , barely exceeding the length of the disc when intact , and has a broad and flattened base leading to usually two stinging spines . After the stings , the tail becomes slender and bears a long ventral fin fold and a much shorter , lower dorsal fin fold . Most of the body lacks dermal denticles ; a midline row of 4 – 13 small , closely spaced thorns is present behind the spiracles , and another row of 0 – 4 thorns before the stings . The dorsal coloration is grayish green , becoming pinkish towards the disc margins ; there is a dark mask @-@ like shape around the eyes and a pair of small dark blotches behind the spiracles . The tail behind the stings has alternating black and white bands of variable width , ending with black at the tip . The underside is plain white and the ventral fin fold is light grayish in color . This species grows to 24 cm ( 9 @.@ 4 in ) across and 45 cm ( 18 in ) long .
The plain maskray inhabits the continental shelf of northern Australia from the Wellesley Islands in Queensland to the Bonaparte Archipelago in Western Australia , including the Gulf of Carpentaria and the Timor and Arafura Seas . There are unsubstantiated reports that its range extends to southern Papua New Guinea . It is the least common of the several maskray species native to the region . This species is a bottom @-@ dweller that prefers habitats with fine sediment . It has been recorded from between 12 and 62 m ( 39 and 203 ft ) deep , and tends to be found farther away from shore than other maskrays in its range .
The plain maskray generally hunts at the surface of the bottom substrate , rather than digging for prey . Its diet consists predominantly of caridean shrimp and polychaete worms . Small bony fishes are also eaten , along with the occasional penaeid prawn or amphipod . Larger rays consume a greater variety of prey and relatively more polychaete worms when compared to smaller rays . This species is parasitized by the tapeworm Acanthobothrium jonesi .
Like other stingrays , the plain maskray is viviparous with the developing embryos sustained to term by histotroph ( " uterine milk " ) produced by the mother . Mature females have a single functional ovary and uterus , on the left . Litter size is one or two ; the newborns measure 12 – 14 cm ( 4 @.@ 7 – 5 @.@ 5 in ) across . Males and females reach sexual maturity at disc widths of 20 – 21 cm ( 7 @.@ 9 – 8 @.@ 3 in ) and 18 – 19 cm ( 7 @.@ 1 – 7 @.@ 5 in ) respectively . The maximum lifespan is estimated to be 9 years for males and 13 years for females .
The main conservation threat to the plain maskray is incidental capture by commercial bottom trawl fisheries . In the present day , this is mostly caused by Australia 's Northern Prawn Fishery , which operates throughout its range . Although this species is discarded when caught , it is more delicate @-@ bodied than other maskrays and is thus unlikely to survive encounters with trawling gear . Historically , this species may also have been negatively affected by Japanese , Chinese , and Taiwanese trawlers that fished intensively off northern Australia from 1959 to 1990 . These factors , coupled with the plain maskray 's limited distribution and low reproductive rate , have resulted in its being assessed as Near Threatened by the International Union for Conservation of Nature ( IUCN ) .
The 2011 – 12 Columbus Blue Jackets season was the team 's 12th season in the National Hockey League ( NHL ) . The Blue Jackets ' record of 29 – 46 – 7 [ note 1 ] was the worst record in the NHL for 2011 – 12 and the first time in franchise history they finished in last place . It also marked the third straight year that they missed the playoffs . Consequently , they had the best chance to receive the first overall selection in the 2012 NHL Entry Draft lottery , but lost out to the Edmonton Oilers and received the second pick instead .
The Blue Jackets began the year with the worst start in franchise history and the worst by any team in an NHL season in 19 years . After an 11 – 25 – 5 start , Head Coach Scott Arniel was fired and replaced by Assistant Coach Todd Richards . The poor season prompted several personnel changes including the trade of All @-@ Star forward Jeff Carter , who was acquired with much fanfare during the off @-@ season . With the prospect of another rebuild looming the Blue Jackets ' captain and best player , Rick Nash , requested to be traded , though he would remain with the team for the entire season .
The team was involved in a controversial loss to the Los Angeles Kings , when the Staples Center clock appeared to freeze at 1 @.@ 8 seconds allowing the Kings time to score the tying goal , before winning in overtime . During the season Columbus managed only two winning streaks of three or more games . One of which came towards the end of the year helping the Blue Jackets finish with 65 points , the third worst point total in franchise history .
In the off @-@ season the Blue Jackets ' approach to building their team changed , moving from a team of young developing players into one with established players . The first deal General Manager Scott Howson made was the acquisition of All @-@ Star forward Jeff Carter on June 23 , 2011 . The deal sent Jakub Voracek , Columbus ' first @-@ round draft choice , the eighth overall , and their third @-@ round pick in the 2011 Draft to the Philadelphia Flyers in exchange for Carter . The trade received a positive response in Columbus from fans and management who felt they finally had a number one center to play alongside of their best player , Rick Nash . Next , they traded for the negotiating rights of soon to be free agent James Wisniewski . Wisniewski scored a career high 51 points during the 2010 – 11 season , splitting time between the New York Islanders and Montreal Canadiens . The point total was fifth @-@ highest in the league for defenseman scoring , tying Tobias Enstrom . The Blue Jackets came to terms with Wisniewski , just an hour prior to the start of free agency , signing him to a six @-@ year , $ 33 million deal .
Columbus also traded former first round draft pick Nikita Filatov to the Ottawa Senators for a third @-@ round pick in the 2011 Draft . Filatov had failed to live up to expectations in Columbus , playing in only 44 games over three seasons scoring six goals . Prior to the start of the season , the Blue Jackets were questioned for not signing a veteran back @-@ up to starting goaltender Steve Mason , as the former Calder Memorial Trophy winner had struggled in consecutive seasons . The Blue Jackets signed Mark Dekanich as the back @-@ up who had only 50 minutes of NHL experience prior to the start of the season . Columbus did sign a veteran Curtis Sanford to be their third string goaltender and to start for their American Hockey League ( AHL ) affiliate , the Springfield Falcons . Sanford had not played in the NHL since 2009 . During training camp , Dekanich suffered a high ankle sprain that was expected to keep him out of the line @-@ up for a month . Additionally , Sanford suffered a groin injury , leaving Allen York as the back @-@ up . York had only played four professional games , all in the AHL , entering the season .
After the first five games , all losses , Jeff Carter suffered a broken foot that kept him out of the line @-@ up for 10 games . While Carter was injured , the Blue Jackets continued to lose games . In the eighth game of the year , they had a chance to end the losing streak against the Ottawa Senators . Columbus held a 3 – 2 lead with under a minute to play . Jason Spezza tied the game on a late power play , and with just 4 @.@ 7 seconds remaining , Milan Michalek notched the winning goal for the Senators . The loss helped set a franchise record for futility with a 0 – 7 – 1 record to start a season . [ note 1 ] The losing streak came to an end three days later with a win over the Detroit Red Wings . During the game , several milestones were reached . James Wisniewski made his Columbus debut , Ryan Johansen and John Moore scored their first career NHL goals and Grant Clitsome had a career @-@ high three assists . Columbus was unable to create any momentum from the win , however , and continued to struggle , culminating in a 2 – 12 – 1 record , which was the worst start to an NHL season for any team in 19 years . With the team struggling , management attempted to " shake things up " by making some roster moves . The first move was the acquisition of center Mark Letestu from the Pittsburgh Penguins . Next , they traded defenseman Kris Russell to the St. Louis Blues for Nikita Nikitin . As the clubs slow start continued , there were rumors that Head Coach Scott Arniel would be fired and replaced with Ken Hitchcock . Hitchcock had previously coached the Blue Jackets to their only playoff appearance in club history and was still under contract with the franchise through to the end of the season . Before any of these rumors came to fruition , the St. Louis Blues asked Columbus for permission to hire Hitchcock , which the Blue Jackets allowed . Hitchcock began his Blues coaching career with a 6 – 1 – 2 record in his first nine games , while Columbus amassed a 6 – 13 – 3 record to start the season .
During the same time frame as the Hitchcock rumors , goaltender Curtis Sanford returned from his groin injury on November 13 . He made his first start of the season against the Boston Bruins , losing 2 – 1 in a shootout . Sanford continued his strong play , posting a 3 – 1 – 2 record , 1 @.@ 38 goals against average and .947 save percentage over his next six games . Sanford started 12 consecutive games before Steve Mason made his next start . The number of starts might not have been as numerous , but prior to the November 23 game , Mason was hit in the head by a shot from Rick Nash during pre @-@ game warm @-@ ups and suffered a concussion . Mason returned from his concussion after two games , making a start against the Vancouver Canucks . Mason allowed only one goal in the game despite suffering from cramping in the third period , temporarily being replaced by Sanford for just over three minutes . Columbus won the game 2 – 1 in a shootout , breaking a nine @-@ game losing streak to the Canucks . After the game , Arniel stated that Sanford was still seen as the team 's number one goaltender . However , Mason started four of the next six games with the Blue Jackets going 0 – 5 – 1 during that stretch .
With the losing continuing , more rumors began to surface . Unlike before , the rumors were about player moves rather than coaching changes . The majority of rumors were that the Blue Jackets would trade Rick Nash . While Howson stated that he had never brought up trading Nash in discussions , other teams had inquired about his availability . Nash stated that if Columbus felt it would make the franchise better than he would be willing to waive his no @-@ trade clause . Howson publicly stated that he had no intention of trading Nash . More rumors came to light when reports attributed to Réseau des sports stated that Carter was unhappy in Columbus and demanded a trade . Howson , Carter and his agent all denied that a trade request was ever made , and they were unsure where the reports were coming from . With the trade deadline approaching , speculation picked up on the Blue Jackets trading Carter . Reports were that Columbus was trying to trade Carter and that he was " 100 percent available . "
At the halfway point of the season , with the Blue Jackets barely into double digit wins with an 11 – 25 – 5 record , worst in the league , and sitting 20 points out of playoff position , Columbus fired Arniel . He was replaced by Assistant Coach Todd Richards on an interim basis . Richards had previously coached the Minnesota Wild . He recorded his first coaching victory for the Blue Jackets in his second game , a 4 – 3 win over the Phoenix Coyotes . The change in coaching did not change the fortunes of the team , as they reached the All @-@ Star break with a 13 – 30 – 6 record . At the break , Blue Jackets ' owner John P. McConnell sent out a letter to fans stating his understanding of their frustration . He added that action would be taken around the trade deadline , the Entry Draft and free agency to take the team in a new direction . When speaking of the season , McConnell stated " disappointing is not a strong enough word " and that he was committed to giving fans a team of which they can be proud of . He also thanked them for their dedication and passion , while reiterating that the team goal was to " win consistently and compete for the Stanley Cup . " Days later , a 250 @-@ person protest occurred outside of Nationwide Arena . Fans were upset with the Blue Jackets ' management and were calling for changes at the top . The same day the fans protested , it was announced that the franchise would host the 2013 All @-@ Star Game . Columbus was without a representative for the 2012 All @-@ star Game , but Ryan Johansen represented the club as a rookie participant in the Super Skills Competition . In the competition , Johansen participated in the Allstate Insurance NHL Breakaway Challenge , a shootout themed event judged by the fans . He received just 1 % of the vote and finished last .
Following the break , the Blue Jackets were on the road playing the Los Angeles Kings , and with the score tied late in the game , Kings ' defenseman Drew Doughty scored with just 0 @.@ 4 seconds remaining to win the game . Upon review of the goal it , was determined that the clock at Staples Center froze at 1 @.@ 8 seconds for over a full second , which would have resulted in time expiring prior to the goal being scored . Kings ' General Manager Dean Lombardi stated that the clock was correct and no extra time had been added due to the way the clock self @-@ corrects at various times . Howson stated on the team 's blog that " It is an amazing coincidence that with the Kings on a power play at Staples Center and with a mad scramble around our net in the dying seconds of the third period of a 2 – 2 hockey game that the clock stopped for at least one full second , " adding that , " Either there was a deliberate stopping of the clock or the clock malfunctioned . " NHL Senior Vice President of Hockey Operations Colin Campbell stated that the Blue Jackets were wronged , but that the outcome of the game could not be changed , and that the delay was not noticed by the off @-@ ice officials or the situation room in Toronto . To determine the true cause of the clock pause , the NHL launched an investigation , talking with the clock 's manufacturer and interviewing Staples Center staff .
Two weeks prior to the NHL trade deadline , Columbus announced that unlike earlier in the season , they would listen to trade proposals involving Rick Nash , though they were not actively shopping him . Howson stated that the team was open to all options for improving the team , including trading Nash . Speculation was that in return for Nash the Blue Jackets would ask for a " combination of young , proven players , high @-@ end prospects and draft picks . " Leading up to the trade deadline , the Blue Jackets dealt Antoine Vermette to the Phoenix Coyotes for two draft picks and goaltender Curtis McElhinney . Despite being injured at the time , the acquisition of McElhinney was believed to give Columbus the flexibility to trade Curtis Sanford . The following day , on February 23 , Columbus traded Jeff Carter to the Kings . In the deal , Columbus acquired defenseman Jack Johnson and a first @-@ round draft pick ; the team was given the choice of taking the pick in either 2012 or 2013 . At the deadline , Columbus was unable to come to terms on a deal involving Nash , but they did make one more move ; they sent center Samuel Pahlsson to the Vancouver Canucks in exchange for two fourth @-@ round draft picks and minor league defenseman Taylor Ellington . Following the trade deadline , Howson announced that the team had attempted to trade Nash at the player 's request . Nash stated that he had requested the trade after being informed that the franchise was going into another rebuilding phase . He further noted that he felt that he " could be a huge part of that towards bringing assets in , " and in his view " it was the best thing for the team , the organization , and personally for [ his ] career . " After the personnel changes , the Blue Jackets closed out the month with a three @-@ game losing streak .
Columbus started March with a 2 – 0 shutout against the Colorado Avalanche . They proceeded to win their next game against the Phoenix Coyotes 5 – 2 , which marked the first time that the Blue Jackets posted back @-@ to @-@ back regulation victories during the season . Columbus again defeated the Coyotes three days later to earn their first three @-@ game win streak of the season . They extended the streak to four with a win over the Los Angeles Kings before it came to an end with a 4 – 1 loss to the St. Louis Blues . It was the only four @-@ game win streak of the season for the Blue Jackets . They immediately matched their four @-@ game win streak with a four @-@ game losing streak and with ten games remaining , the Blue Jackets were the first team eliminated from playoff contention . Shortly after being eliminated , they were defeated by the Edmonton Oilers 6 – 3 ; the loss clinched last place in the NHL for Columbus . It was the first time in franchise history the Blue Jackets finished in 30th place .
Three days later , on March 28 , goaltender Steve Mason was injured in the morning skate when a shot from Colton Gillies hit him in the mask . With Sanford again injured , York made an emergency start . Playing against the Detroit Red Wings , York made 29 saves , including 17 in the third period , helping Columbus to a 4 – 2 victory and giving York his first career NHL win . York remained the starter and led the Blue Jackets to a second three @-@ game winning streak . In his fourth start , Columbus was shutout by the Coyotes despite a franchise @-@ record 54 shots on goal , losing 2 – 0 . The 54 saves by Phoenix goaltender Mike Smith set an NHL record for a regulation shutout . Mason returned to the starter 's role for the final two games , winning both . The two victories gave Columbus 65 points for the year , their third @-@ lowest total in franchise history .
The Blue Jackets struggled in shorthanded situations , allowing the most power @-@ play goals in the League , with 64 , and having the lowest penalty @-@ kill percentage , at 76 @.@ 64 %
Finishing with the worst record in the NHL , Columbus had the best chance of receiving the first overall pick in the 2012 draft . With the NHL 's weighted draft lottery the Blue Jackets had a 48 @.@ 2 % chance of drafting first overall . However , the lottery was won by the Edmonton Oilers , who proceeded to leapfrog Columbus and secure the number one draft pick for a third consecutive year . It was the fifth time that the Blue Jackets were dropped one draft position in the franchise 's 12 lottery participations .
A month later , on May 14 , the Blue Jackets announced that Richards would remain as head coach and signed him to a two @-@ year contract . During the press conference , Howson noted , " Our team continuously improved under Todd and he has earned the opportunity to build upon the work he started . " Columbus posted an 18 – 21 – 2 record under Richards , including winning seven of their final 11 games .
Since being founded as an expansion team , the Blue Jackets have played in the Central Division of the Western Conference . Division rivals Chicago Blackhawks , Detroit Red Wings , Nashville Predators and St. Louis Blues , all made the playoff during the 2011 – 12 season , which helped Columbus finish 36 points behind fourth place Chicago and 44 points out of first .
Divisions : CE – Central , NW – Northwest , PA – Pacific
bold - qualified for playoffs , y – Won division , p – Won Presidents ' Trophy ( best record in NHL )
Red background indicates regulation loss ( 0 points ) .
Silver background indicates overtime / shootout loss ( 1 point ) .
In ice hockey , a combination of a player 's goals and assists are collectively called points . Penalty minutes are the total number of minutes assigned to a player for infractions assessed during the season.Plus @-@ minus is a statistic that tracks when a player was on the ice while goals were scored , both for and against their team , though some in game situations will not effect the statistic . Below is a listing of all player statistics for the Blue Jackets during the season .
Penalty minutes ; + / - = Plus / minus
Goals Against ; GAA = Goals Against Average ; SA = Shots Against ; SV
† Denotes player spent time with another team before joining Blue Jackets . Stats reflect time with the Blue Jackets only . ‡ Traded mid @-@ season
When Mason was injured in warm @-@ ups late in the year , Columbus was without an active goaltender on their roster . To remedy the situation , the team signed former University of Michigan goaltender Shawn Hunwick to a one @-@ day , amateur tryout contract . After being eliminated from the NCAA Tournament just days prior , Hunwick skipped an astronomy class and drove his worn down 2003 Ford Ranger to Columbus to make the game . He served as the back @-@ up to Allen York during the game , and the following day , he signed a contract for the remainder of the year . With Mason returning from injury , Hunwick was third on the team 's depth chart when an injury to York allowed Hunwick to remain as the back @-@ up for the final two games of the year . In the final game of the season , the Blue Jackets were leading the Islanders 7 – 3 with 2 : 33 remaining when , at the behest of his teammates , Head Coach Todd Richards put Hunwick in to finish the game . He did not face a shot . Hunwick was the franchise record ninth player to make his NHL debut during the season . Conversely , Vaclav Prospal played in his 1,000th NHL game during the year .
During the off @-@ season the Blue Jackets parted ways with defensemen Jan Hejda , Anton Stralman , Sami Lepisto and Mike Commodore . Hejda , who played four of his first five NHL seasons with the Blue Jackets , was offered a contract by Columbus , but felt that the organization undervalued him and left via free agency . Columbus had offered him a three @-@ year , $ 7 @.@ 5 million contract . He instead signed a four @-@ year , $ 13 million deal with the Colorado Avalanche . Stralman and Lepisto were not given qualifying offers which made them unrestricted free agents , and both signed with other teams . Commodore had originally signed a big contract with the Blue Jackets in 2008 , but fell out of favor . He was waived , sent to the minors and eventually had his contract bought out . In order to replace the departed players , Columbus not only acquired James Wisniewski , but also signed ten @-@ year NHL veteran Radek Martinek . Martinek played only seven games with the Blue Jackets before suffering a concussion and missing the remainder of the season . Brett Lebda was brought in to replace him .
The Gregorian Tower ( Italian : Torre Gregoriana ) or Tower of the Winds ( Italian : Torre dei Venti ) is a round tower located above the Gallery of Maps , which connects the Villa Belvedere with the Apostolic Palace in Vatican City . The tower was built between 1578 and 1580 to a design by the Bolognese architect Ottaviano Mascherino ( who was credited with building the Apostolic Palace ) mainly to promote the study of astronomy for the Gregorian Calendar Reform which was commissioned by Pope Gregory XIII and promulgated in 1582 . It was then also known as the Tower of Winds . The tower is now called the " Specola Astronomica Vaticana " , the Vatican Observatory . Four stages of progressive development have occurred since it was first established . The tower was an edifice of great value for astronomical observations made using a sundial as they provided essential confirmation of the need to reform the Julian calendar .
The first stage of building of the tower , as recorded by Leo XIII in his motu proprio Ut mysticam of 1891 , is credited to Pope Gregory XIII , Pope from 1572 to 1585 . The directive was to build a tower at a suitable location in the Vatican and equip it with the " greatest and best instruments of the time " . The design was effected after a series of meetings of the experts who had been appointed to reform the Julian calendar , in use since 45 BC , to verify their proposed reforms . Fr . Christoph Clavius , a Jesuit mathematician from the Roman College , was the expert on the committee who suggested the new system for the observations . The 73 metres ( 240 ft ) tower was then built above the museum and library , flanked by the Belvedere and della Pigna courtyards . The instrumentation for the observation of the sun rays falling over it consisted of a meridian line designed by Ignazio Danti of Perugia . It was in the form of a circular marble plate in the centre , embellished with scientific designs . The tower still remains today , but has undergone improvements over the centuries .
The second stage of construction in the 17th and 18th centuries , when the tower was under the charge of the Vatican librarian , involved Mgr . Filippo Luigi Gilii , a clergyman of St. Peter 's Basilica . Earlier in 1797 , Pius VI gave approval to placing a Latin inscription Specula Vaticana at the entrance to the upper part of the tower , which was implemented by Cardinal Zelada with plans to enhance the instrumentation system in the tower 's observatory . The original observatory was then set up above the second level of the tower with the agreement of Pope Pius VI . Its instrumentation , apart from many normal devices ( such as meteorological and magnetic equipment , with a seismograph and a small transit and pendulum clock , ) was noted for the Dolland Telescope . The instrumentation facilitated recording of occurrences of eclipse , appearance of comets , Satellites of Jupiter and Mercury ’ s transit . As an addition , under the patronage of Pope Pius X , four rotary observatory domes were also added at strategic locations on the 1 @,@ 300 feet ( 400 m ) long fortification walls , more than a thousand years old . Mgr . Gilii , highly respected as a polyglot with a knowledge of physics , biology , archeology and the Hebrew language , was in charge of the observatory from 1800 to 1821 . He carried out continuous meteorological observations ( twice a day at 6 AM and 2 PM ) conforming to the programme of the Mannheim Meteorological Society . While the observation records for seven years were published , the balance data in a manuscript form was preserved in the Vatican Library . Subsequent to Gilii 's death in 1821 , the observatory on the tower was discontinued and the instruments were moved to the observatory at the Roman College . Established in 1787 , it was considered more suitable for making observations than the Vatican .
The revival of the observatory on the Gregorian Tower was initiated by the Barnabite Francesco Denza with the approval of Pope Leo XIII . High quality instruments were procured , partly with generous donations from Hicks of London , and the automatic recording instruments were procured from Richard in Paris . A four @-@ inch equatorial , a three @-@ inch transit instrument , and four pendulum clocks with two chronometers , were also procured from the observatory at Modena . In 1888 , the gift of a 16 inch long telescope to Pope Leo XIII , became a part of the observatory . Father Denza joined the observatory in 1889 after it was upgraded with more modern instruments . The same year , a second tower was built some 400 metres ( 1 @,@ 300 ft ) away from the main Gregorian Tower , overlooking the Vatican Gardens behind St. Peter 's Basilica on the south @-@ west border . It was built to a diameter of 17 metres ( 56 ft ) with a lower wall thickness of 4 @.@ 5 metres ( 15 ft ) , which could bear the load of a 13 inch photographic refractor , newly procured from Paris . Augustinian Father Rodriguez was the expert meteorologist who held the post of director from 1898 to 1905 . In 1891 , Pope Leo XIII , promulgating the motu proprio Ut mysticam , designated the second tower as the seat of the newly established Vatican Observatory , a decision which required altering the roof to provide a flat terrace for astronomical observations .
The fourth stage involved remedying the problem of communicating between the two towers during the time of Pope Pius X. His plans were to make the Gregorian Tower into a historical tower and to record and carry out observations at the second tower by linking the two towers along the fortified wall with a 83 metres ( 272 ft ) iron bridge spanning the gap . At the west end of this bridge , a four @-@ inch equatorial was installed on semicircular bastion . The east end of the bridge , above the barracks of the gendarmes , had a heliograph , with a camera attached , used to photograph the Sun ( photoheliograph ) . A new 16 @-@ inch visual telescope , called Torre Pio X , was erected in the second tower . As a result of these modifications , the original library was moved to the Pontifical Academy Lincei , and the old meteorological and seismic instruments were shifted to the Valle di Pompei observatory . The new Astronomical Library was housed in two rooms of the building . The two new Repsold machines were used for recording on the astrographic plates . The recorded observations were published along with explanatory notes together with the last two series of the atlas of stars . Charts were printed on silver bromide paper .
The tower had two floors and a mezzanine . On the first floor was the famous Sundial Room or Meridian Room , which was initially an open loggia . Pope Urban VIII had it enclosed and it was subsequently decorated with long sequences of frescoes painted between 1580 and 1582 by Simon Lagi and the two Flemish artists Paul and Matthijs Bril . Today the tower has paintings by Cristoforo Roncalli and Matteino da Siena .
The Sundial Room , also called the Meridian Hall , was once the residence of Queen Christina of Sweden , then newly converted to Catholicism . The room was further modified by two additions which gave it its current name : a sundial , and a delicate but sophisticated anemoscope which was fixed to the ceiling of the Meridian Hall . These were created by Ignazio Danti , the papal cosmographer , in association with the Gregorian Calendar Reform . The sundial consisted of a straight line in white marble running across the floor in a north @-@ south direction , intended to measure the height of the Sun at noon according to the seasons of the year . The observations made with the sundial provided essential confirmation of the need to reform the Julian calendar . The anemoscope , in contrast , was a complex mechanism attached to the ceiling which was used to measure the strength and direction of the wind but soon stopped functioning . The instrument may have led to the other name of the tower , Tower of the Winds ; however , an ancient observatory at Athens was also called the Tower of the Winds and might have been the source for inspiration .
The interior walls and ceiling of the hall were richly decorated , in some cases with gaudy frescoes of the hills and Roman countryside , the Pantheons , religious themes , the buildings surrounding the area , and naval shipwrecks with Jesus calming the storm and so forth .
" There 's Got to Be a Way " is a song by American singer and songwriter Mariah Carey from her self @-@ titled debut studio album ( 1990 ) . Columbia released it as the fifth and final single from the album in the United Kingdom . It was one of four songs Carey wrote with Ric Wake during their first recording session together , but " There 's Got to Be a Way " was the only composition to make the final track listing . It is a socio @-@ political conscious R & B @-@ pop song which addresses the existence of poverty , racism and war in the world which gradually becomes more aspirational and positive as it progresses . The track garnered a mixed reception upon the album 's release in 1990 . While Carey 's vocals were praised , it was seen as too political . An accompanying music video highlights social injustices . The song reached number 54 on the UK Singles Chart .
" There 's Got to Be a Way " was written by Mariah Carey and Ric Wake for Carey 's self @-@ titled debut studio album ( 1990 ) . It was written during Carey and Wake 's first recording session together . They composed four songs , but only " There 's Got to Be a Way " was chosen for the final track listing . Co @-@ produced by Wake and Narada Michael Walden , it appears as the second of ten songs on the track listing . The track was recorded and engineered by Bob Cadway at Cove City Sound Studios and The Power Station , both located in New York City . He was assisted by Dana Jon Chappelle . It was mixed by David Frazer at Tarpan Studios in San Rafael . The keyboards , bass and rhythm engineering was carried out by Louis Biancaniello , while Joe Franco performed the percussion , Vernon " Ice " Black played the guitar , and Rich Tancredo also performing on the keyboards . Walter Afanasieff played the synth horns . Carey provided her own background vocals along with Billy T. Scott , Jamiliah Muhammed and The Billy T. Scott Ensemble . The song was released as the fifth and final single from the album in the United Kingdom . It is available to purchase as a CD single while the remixes are available on vinyl .
" There 's Got to Be a Way " is an R & B @-@ pop music song with elements of gospel . The theme of social activism can be heard in the lyrics " There ’ s got to be a way / to connect this world today . " The song begins with Carey publicly denouncing the existence of poverty and racism in the world , and she uses the bridge to shift the lyrics towards an uplifting and aspirational tone . Carey suggests we should be more tolerant of each other and not resort so readily to war in the lyrics " Couldn 't we accept each other / Can 't we make ourselves aware . "
Music critic Robert Christgau felt that Carey was being too political in her " brave , young , idealistic attack " on war and destitution . Ralph Novak , David Hiltbrand and David Grogan of People wrote that it is a " testimony to her talent that she does so much with so little . " They continued to write that Carey 's " tone and clarity " makes " There 's Got to Be a Way " a " mesmerizing " track . To mark twenty @-@ five years since the release of Mariah Carey in June 1990 , Billboard writer Trevor Anderson wrote a track @-@ by @-@ track review of the album in June 2015 . He noted that " There 's Got to Be a Way " follows the same melodic tone as the album 's opener " Vision of Love " but highlighted their stark lyrical differences , as the former is about social activism and the latter is about love . Although he praised Carey 's vocals , writing that she " deploys " one of her best whistle notes of her career , he felt that " the aim for broad appeal comes at the expense of memorable lyrics . "
The accompanying music video begins with a shot of an empty street , followed by clips of disadvantaged and poorer members of society going about their daily activities . Two men play dominoes on a wooden crate outside a building , a gang make fun of an elderly man hanging newspapers outside his store and an obese woman walks down the street . Clips of Carey leaning against a wall and sitting on some steps looking on at what is happening are shown . As the first chorus begins , everyone starts to dance joyfully in the street and help those in need . A gospel choir comes out of one of the buildings as the street becomes more crowded with people of all ages and backgrounds rejoicing and getting along with each other . One of the shops in the background has a neon light outside the entrance which says " Jesus Saves " .
" There 's Got to Be a Way " ( Original album version ) – 4 : 52
" There 's Got to Be a Way " ( 7 " remix )
" There 's Got to Be a Way " ( 12 " remix )
" There 's Got to Be a Way " ( Alternative Vocal Dub Mix )
Nebraska Highway 88 ( N @-@ 88 ) is a highway in northwestern Nebraska . It has a western terminus at Wyoming Highway 151 ( WYO 151 ) at the Wyoming – Nebraska state line . The road travels eastward to N @-@ 71 , where it turns south . N @-@ 88 continues east to south of Bridgeport . The road turns north , ends at an intersection with U.S. Highway 385 ( US 385 ) and N @-@ 92 in Bridgeport . The route was designated in 1937 , before the official state highway system was created . It was extended to the state line in 1986 .
N @-@ 88 starts at the Nebraska – Wyoming state line in Banner County , where WYO 151 ends , and travels northeast . The road quickly bends east after less than one mile ( 1 @.@ 6 km ) , and continues in a straight line . For the next twenty miles ( 32 km ) , N @-@ 88 intersects minor streets , through rural farmland . The route turns south at N @-@ 71 , and becomes concurrent . Four miles ( 6 @.@ 4 km ) later , N @-@ 88 turns east , ending the concurrency with N @-@ 71 . The route continues to travel through farmland for sixteen miles ( 26 km ) , where it enters Morrill County . The road crosses over Pumpkin Creek four times , and enters the unincorporated community of Redington . Two rock formations , Courthouse and Jail Rocks , become visible from the road . N @-@ 88 turns north toward Bridgeport soon after . The road crosses over Pumpkin Creek for the fifth time , and enters into Bridgeport five miles ( 8 @.@ 0 km ) later . The road intersects a railroad owned by BNSF Railway . N @-@ 88 turns northeast soon after , and ends at the intersection of US 385 and N @-@ 92 . In 2012 , Nebraska Department of Roads ( NDOR ) calculated as many as 2 @,@ 410 vehicles traveling on the N @-@ 71 / N @-@ 88 concurrency , and as few as 315 vehicles traveling east of the Banner – Morrill county line . This is expressed in terms of annual average daily traffic ( AADT ) , a measure of traffic volume for any average day of the year . Only the N @-@ 71 / N @-@ 88 concurrency is part of the National Highway System ( NHS ) , a network of highways identified as being most important for the economy , mobility and defense of the nation .
N @-@ 88 was unofficially designated around 1937 , connecting from N @-@ 29 , to N @-@ 86 and N @-@ 19 in Bridgeport . The route remained relatively the same as the state highway system was officially designated . Before 1955 , Nebraska did not have an adequate legal instrument to define the state highway system . By 1960 , N @-@ 19 was renumbered to US 385 , and US 26 was rerouted north near Bridgeport . The old alignment became part of N @-@ 92 . Two years later , N @-@ 29 was renumbered to N @-@ 71 . Between 1981 @-@ 82 , a road appeared on the official state map , extending from WYO 151 to N @-@ 71 . That road became part of N @-@ 88 by 1986 . No significant changes have been made since .
Atlanta was a casemate ironclad that served in the Confederate and Union Navies during the American Civil War . She was converted from a Scottish @-@ built blockade runner named Fingal by the Confederacy after she made one run to Savannah , Georgia . After several failed attempts to attack Union blockaders , the ship was captured by two Union monitors in 1863 when she ran aground . Atlanta was floated off , repaired , and rearmed , serving in the Union Navy for the rest of the war . She spent most of her time deployed on the James River supporting Union forces there . The ship was decommissioned in 1865 and placed in reserve . Several years after the end of the war , Atlanta was sold to Haiti , but was lost at sea in December 1869 on her delivery voyage .
Fingal was designed and built as a merchantman by J & G Thomson 's Clyde Bank Iron Shipyard at Govan in Glasgow , Scotland , and was completed early in 1861 . She was described by Midshipman Dabney Scales , who served on the Atlanta before her battle with the monitors , as being a two @-@ masted , iron @-@ hulled ship 189 feet ( 57 @.@ 6 m ) long with a beam of 25 feet ( 7 @.@ 6 m ) . She had a draft of 12 feet ( 3 @.@ 7 m ) and a depth of hold of 15 feet ( 4 @.@ 6 m ) . He estimated her tonnage at around 700 tons bm . Fingal was equipped with two vertical single @-@ cylinder direct @-@ acting steam engines using steam generated by one flue @-@ tubular boiler . The engines drove the ship at a top speed of around 13 knots ( 24 km / h ; 15 mph ) . They had a bore of 39 inches ( 991 mm ) and a stroke of 30 inches ( 762 mm ) .
The ship briefly operated between Glasgow and other ports in Scotland for Hutcheson 's West Highland Service before she was purchased in September 1861 by James D. Bulloch , the primary foreign agent in Great Britain for the Confederacy , to deliver the military and naval ordnance and supplies that he had purchased . To disguise his control of Fingal , and the destination of her cargo , Bulloch hired an English crew and captain and put out his destination as Bermuda and Nassau in the Bahamas . The cargo was loaded in Greenock in early October , although Bullock and the other passengers would not attempt to board until they rendezvoused with the ship at Holyhead , Wales . On the night 14 / 15 October , as she was slowly rounding the breakwater at Holyhead , Fingal rammed and sank the Austrian brig Siccardi , slowly swinging at anchor without lights . Bulloch and the passengers embarked in the steamer while Bulloch dispatched a letter to his financial agents instructing them to settle damages with the brig 's owners because he could not afford to take the time to deal with the affair lest he and Fingal be detained . The ship reached Bermuda on 2 November and , after leaving port on 7 November , Bulloch informed the crew that the steamer 's real destination was Savannah , Georgia ; he offered to take anyone who objected to the plan to Nassau . However , all of the crew agreed to join in the effort to run the Union blockade . Fingal was able slip safely into the Savannah estuary in a heavy fog on the night of 12 November without sighting any blockaders .
While Fingal was discharging her cargo , Bulloch went to Richmond to confer with Stephen Mallory , Secretary of the Navy . Mallory endorsed Bulloch 's plan to load Fingal with cotton to sell on the Navy Department 's account to be used to purchase more ships and equipment in Europe . He returned to Savannah on 23 November and it took him almost a month to purchase a cargo and acquire enough coal . He made one attempt to break through the blockade on 23 December , but it proved impossible to do as the Union controlled every channel from Savannah , aided by their occupation of Tybee Island at the mouth of the Savannah River . Bulloch reported to Mallory in late January 1862 that breaking out was hopeless so Mallory ordered him to turn the ship over to another officer and to return to Europe some other way .
The brothers Asa and Nelson Tift received the contract to convert the blockade runner into an ironclad in early 1862 with the name of Atlanta , after the city in Georgia . This was largely financed by contributions from the women of Savannah . Fingal was cut down to her main deck and large wooden sponsons were built out from the sides of her hull to support her casemate . After the conversion , Atlanta was 204 feet ( 62 @.@ 2 m ) long overall and had a beam of 41 feet ( 12 m ) . Her depth of hold was now 17 feet ( 5 @.@ 2 m ) and she now had a draft of 15 feet 9 inches ( 4 @.@ 8 m ) . Atlanta now displaced 1 @,@ 006 long tons ( 1 @,@ 022 t ) and her speed was estimated at 7 – 10 knots ( 13 – 19 km / h ; 8 @.@ 1 – 11 @.@ 5 mph ) .
The armor of the casemate was angled at 30 ° from the horizontal and made from two layers of railroad rails , rolled into plates 2 inches ( 51 mm ) thick and 7 inches ( 180 mm ) wide . The outer layer ran vertically and the inner layer horizontally . Her armor was backed by 3 inches ( 76 mm ) of oak , vertically oriented , and two layers of 7 @.@ 5 inches ( 191 mm ) of pine , alternating in direction . The bottom of the casemate was some 20 inches ( 508 mm ) from the waterline and its top was 8 feet 6 inches ( 2 @.@ 59 m ) above the waterline . The pyramidal pilothouse was armored in the same way and had room for two men . The upper portion of Atlanta 's hull received two inches of armor .
The rectangular casemate was pierced with eight narrow gun ports , one each at the bow and stern and three along each side . Each gun port was protected by an armored shutter made of two layers of iron riveted together and allowed the guns to elevate only to a maximum of + 5 to + 7 ° . Atlanta was armed with single @-@ banded , 7 @-@ inch ( 178 mm ) Brooke rifles on pivot mounts at the bow and stern . The middle gun port on each side was occupied by a single @-@ banded , 6 @.@ 4 @-@ inch ( 163 mm ) Brooke rifle . The 17 @-@ caliber , seven @-@ inch guns weighed about 15 @,@ 000 pounds ( 6 @,@ 800 kg ) and fired 80 @-@ pound ( 36 kg ) armor @-@ piercing " bolts " and 110 @-@ pound ( 50 kg ) explosive shells . The equivalent statistics for the 18 @.@ 5 @-@ caliber , 6 @.@ 4 @-@ inch gun were 9 @,@ 110 pounds ( 4 @,@ 130 kg ) with 80 @-@ pound bolts and 64 @-@ pound ( 29 kg ) shells . Atlanta was also armed with a 20 @-@ foot ( 6 @.@ 1 m ) , solid iron , ram that was reinforced by a series of vertical steel bars . In front of the ram was a spar torpedo that carried 50 pounds ( 23 kg ) of black powder on a wooden pole connected to an iron lever that could be raised or lowered by means of pulleys .
On 31 July 1862 , under the command of Lieutenant Charles H. McBlair , Atlanta conducted her sea trials down the Savannah River toward Fort Pulaski . The ship proved to be difficult to steer , and the additional weight of her armor and guns significantly reduced her speed and increased her draft . This latter was a real problem in the shallow waters near Savannah . She also leaked significantly , and her design virtually eliminated air circulation . One report said that " it was almost intolerable on board the Atlanta , there being no method of ventilation , and the heat was intense . " Scales commented in his diary , " What a comfortless , infernal and God @-@ forsaken ship ! ! "
Attempts were made to fix the problems and were at least partially successful in stopping many of the leaks . The ship was commissioned on 22 November and became the flagship of Flag Officer Josiah Tattnall , commander of the naval defenses of Georgia . Under pressure from Mallory to engage the blockading ships , Tattnall attempted to engage them before any ironclads arrived on 5 January 1863 , but army engineers could not clear the obstacles blocking the channel in a timely manner , despite early coordination being made by Tattnall to do so . It took another month to actually clear the obstacles and two monitors arrived before the end of January . Nonetheless Tattnall attempted to pass through the obstructions during high tide on 3 February , but high winds prevented the water from rising enough to allow the ship to do so . After Atlanta successfully passed through them on 19 March , Tattnall planned to attack the Union base at Port Royal , South Carolina while the monitors were attacking Charleston . Deserters revealed Tatnall 's plan while he was waiting at the head of Wassaw Sound and he was forced to retreat when three monitors augmented the defenses at Port Royal . Dissatisfied with Tattnall 's perceived lack of aggressiveness , Mallory replaced Tattnall as commander of the Savannah squadron later that month with Commander Richard L. Page . Page , in his turn was relieved in May by Commander William A. Webb ; Atlanta remained the squadron flagship throughout this time .
Webb demonstrated his aggressiveness when he attempted to sortie on the first spring tide ( 30 May ) after taking command , but Atlanta 's forward engine broke down after he had passed the obstructions , and the ship ran aground . She was not damaged although it took over a day to pull her free . He planned to make another attempt on the next full tide , rejecting Mallory 's idea that he wait until the nearly complete ironclad Savannah was finished before his next sortie . In the meantime , Rear Admiral Samuel F. Du Pont , commander of the South Atlantic Blockading Squadron , had ordered the monitors Weehawken and Nahant into Wassaw Sound . Commander John Rodgers in Weehawken had overall command of the two ships .
In the early evening of 15 June , Webb began his next attempt by passing over the lower obstructions in the Wilmington River and spent the rest of the night coaling . He moved forward the next evening to a concealed position within easy reach of the monitors for an attack early the following morning . Webb planned to sink one of the monitors with his spar torpedo and then deal with the other one with his guns . The gunboat Isondiga and the tugboat Resolute were to accompany him to tow one or both of the monitors back to Savannah .
A lookout aboard Weehawken spotted Atlanta at 04 : 10 on the morning of 17 June . When the latter ship closed to within about 1 @.@ 5 miles ( 2 @.@ 4 km ) of the two Union ships , she fired one round from her bow gun that passed over Weehawken and landed near Nahant . Shortly afterward , Atlanta ran aground on a sandbar ; she was briefly able to free herself , but the pressure of the tide pushed her back onto the sandbar . This time Webb was unable to get off and the monitors closed the range . When Weehawken , the leading ship , closed to within 200 – 300 yards ( 180 – 270 m ) she opened fire with both of her guns . The 11 @-@ inch ( 279 mm ) shell missed , but the 15 @-@ inch ( 381 mm ) shell struck the ironclad above the port middle gun port , penetrated her armor and broke the wooden backing behind it , spraying splinters and fragments that disabled the entire gun crew and half the crew of the bow gun , even though it failed to cleanly penetrate through the backing . The next shot from the 11 @-@ inch Dahlgren gun struck the upper hull and started a small leak even though it failed to penetrate the two @-@ inch armor there . The next shell from the 15 @-@ inch Dahlgren glanced off the middle starboard gun shutter as it was being opened , wounding half the gun 's crew with fragments . The final shell was also from the 15 @-@ inch Dahlgren and it struck the top of the pilothouse , breaking the armor there and wounding both pilots in it . By this time , Atlanta had been able to fire only seven shots , none of which hit either Union ship , and was hard aground with high tide not due for another hour and a half . Weehawken and Nahant were able to freely maneuver into positions from which the Atlanta 's narrow gun ports would not allow her to reply and the damage already inflicted by the former ship made further resistance futile . Webb surrendered his ship within 15 minutes of opening fire , before Nahant even had a chance to fire . Of the ironclad 's 21 officers and 124 enlisted men , one man was killed and another sixteen were wounded badly enough to require hospitalization .
Atlanta was easily pulled free by the Union ships and she reached Port Royal under her own power . Not badly damaged , she was repaired and bought by the Union Navy . The prize money of $ 350 @,@ 000 was shared between the crews of Weehawken , Nahant and the gunboat Cimarron , the only ships within signaling distance . The ship retained her name and was commissioned again on 2 February 1864 , rearmed with a pair of 8 @-@ inch ( 203 mm ) , 150 @-@ pound Parrott rifles in the bow and stern and 6 @.@ 4 @-@ inch , 100 @-@ pound Parrott rifles amidships . The 150 @-@ pound Parrott rifle weighed 16 @,@ 500 pounds ( 7 @,@ 500 kg ) and was 17 calibers long . The 100 @-@ pounder weighed 9 @,@ 800 pounds ( 4 @,@ 400 kg ) and was 20 calibers long . It fired a 100 @-@ pound ( 45 kg ) shell a distance of 6 @,@ 900 yards ( 6 @,@ 300 m ) at an elevation of + 25 ° . All four of her Brooke rifles are currently located in Willard Park in the Washington Navy Yard . Atlanta was assigned to the North Atlantic Blockading Squadron and spent most of her time stationed up the James River where she could support operations against Richmond and defend against a sortie by the ironclads of the James River Squadron . On 21 May 1864 , she and the gunboat Dawn fired on and dispersed Confederate cavalry that was attacking Fort Powhatan and she was deployed further upriver in February 1865 after the Battle of Trent 's Reach to better blockade the Confederate ironclads at Richmond .
After the end of the war in April , Atlanta was decommissioned in Philadelphia on 21 June 1865 and placed in reserve at League Island . She was sold to Sam Ward on 4 May 1869 for the price of $ 25 @,@ 000 and subsequently delivered to representatives of Haiti on 8 December by Sydney Oaksmith , a lawyer who had received an advance of $ 50 @,@ 000 on her purchase price of $ 260 @,@ 000 . The ship was briefly seized by the Customs Service , possibly for violations of neutrality laws as she had just loaded four large guns and a number of recruits for the forces of Sylvain Salnave , President of Haiti , who was embroiled in a civil war . Atlanta was released and sailed for Port @-@ au @-@ Prince three days later . She broke down in Delaware Bay and had to put in at Chester , Pennsylvania for repairs . The ship , now renamed either Triumph or Triumfo , departed on 18 December 1869 and vanished en route , apparently sinking with the loss of all hands , either off Cape Hatteras or the Delaware Capes .
Jacqueline Fernandez ( born 11 August 1985 ) is a Sri Lankan actress , former model , and the winner of the 2006 Miss Universe Sri Lanka pageant . As Miss Universe Sri Lanka she represented her country at the 2006 world Miss Universe pageant . She graduated with a degree in mass communication from the University of Sydney , and worked as a television reporter in Sri Lanka .
While on a modelling assignment in India in 2009 , Fernandez successfully auditioned for Sujoy Ghosh 's fantasy drama Aladin , which marked her acting debut . Fernandez ' breakthrough role was in Mohit Suri 's psychological thriller Murder 2 ( 2011 ) , her first commercial success . This was followed by glamorous roles in the ensemble @-@ comedy Housefull 2 ( 2012 ) and its sequel Housefull 3 , and the action thriller Race 2 ( 2013 ) , all of which were box @-@ office successes . Her performance in the first of these garnered her an IIFA Award for Best Supporting Actress nomination . In 2014 , Fernandez played the leading lady in Sajid Nadiadwala 's Kick , which is one of the highest @-@ grossing Bollywood films of all time .
One of the most popular actresses in India , she was the recipient of the IIFA Award for Star Debut of the Year – Female in 2010 . Alongside her screen acting career , Fernandez has participated in stage shows , and is active in humanitarian work .
Fernandez was born on 11 August 1985 , in Manama , Bahrain , and was raised in a multi @-@ ethnic family . Her father , Elroy , is Sri Lankan , and her mother , Kim , is of Malaysian descent . Her grandfather , on her mother 's side of the family , is Canadian and her great grandparents were from Goa , India . Her father , who was a musician in Sri Lanka , moved to Bahrain in the 1980s to escape civil unrest between the Tamils and Sinhalese and subsequently met her mother who was an air hostess . She is the youngest of four children with one elder sister and two elder brothers . She hosted television shows in Bahrain at the age of fourteen . After receiving her early education in Bahrain , she pursued a degree in mass communication from the University of Sydney in Australia . After graduating she worked as a television reporter in Sri Lanka . She also attended the Berlitz school of languages , where she learnt Spanish and improved her French and Arabic .
According to Fernandez , she had aspired to become an actress at a young age and fantasized about becoming a Hollywood movie star . She received some training at the John School of Acting . Although , she was a television reporter , she accepted offers in the modeling industry , which came as a result of her pageant success . In 2006 , she was crowned the winner of the Miss Universe Sri Lanka pageant and represented Sri Lanka at the world Miss Universe 2006 pageant held in Los Angeles . In a 2015 interview , Fernandez described the modeling industry as " a good training ground " and said : " It is a medium that is about shedding your inhibitions , knowing your body , confidence " . In 2006 , she appeared in a music video for the song " O Sathi " by music duo Bathiya and Santhush .
In 2009 , Fernandez traveled to India for a modeling assignment . She studied acting under the mentorship of theatre director Barry John , and successfully auditioned for Sujoy Ghosh 's fantasy film Aladin ( 2009 ) her acting debut . She played the love interest of Riteish Deshmukh 's character , a role based on the Princess Jasmine character . Fernandez garnered mixed reviews for her performance . Anupama Chopra of NDTV called her a " plastic debutant [ e ] " , and Rajeev Masand of CNN @-@ IBN felt that she was : " easy on the eyes and appears confident but has precious little to do " . Although the film was a critical and commercial failure , she won the IIFA Award for Star Debut of the Year - Female .
In 2010 , Fernandez appeared opposite Deshmukh in the science fiction romantic comedy Jaane Kahan Se Aayi Hai . She was cast as a girl from Venus , who lands on Earth in search of love . The film , along with Fernandez 's performance , received poor reviews ; Rediff.com 's Sukanya Verma noted : " She gamely makes a fool of herself whilst aping the actions of movie stars , ranging from Sridevi 's Naagin dance , Mithun Chakravarthy 's Disco Dancer moves , to Big B 's violent headshake in Hum . Her Tara could be a keeper if only Jaane Kahan Se Aayi Hai wasn 't so intent on turning her into a love @-@ struck Barbie . " Critic Anupama Chopra also criticized Fernandez , calling her " a pin @-@ prick on a balloon " . Later that year , she made a cameo appearance in Sajid Khan 's Housefull in the song " Dhanno " .
Mahesh Bhatt 's thriller Murder 2 was Fernandez 's first commercial success and marker a turning point in her career . She took on the role of Priya , a lonely model who is in a confused relationship with Arjun Bhagwat ( played by Emraan Hashmi ) . Fernandez was praised for the her performance , and for the boldness and sex appeal she displayed in the film . Gaurav Malini of The Times of India stated that she was " tastefully tempting " but noted that her romance with Hashmi was " literally half @-@ baked " . The following year , Fernandez appeared in the ensemble comedy Housefull 2 alongside Akshay Kumar , John Abraham , and Asin . It became one of the top grossing productions of India that year and earned ₹ 1 @.@ 86 billion ( US $ 28 million ) worldwide . Fernandez received mostly negative reviews for her performance . While Gaurav Malini praised her for her looks , NDTV called her a " blathering bimbo " who " find [ s ] no pleasure in [ her role ] " . Despite the negative reviews , Fernandez received a Best Supporting Actress nomination at the 14th IIFA Awards for her performance .
Fernandez 's first release of 2013 was Race 2 , an ensemble action thriller ( alongside Saif Ali Khan , John Abraham , Deepika Padukone , Ameesha Patel , and Anil Kapoor ) ) , described as the " cinematic equivalent of a trashy novel " by critic Rajeev Masand . She played Omisha , a femme fatale , a role which required her learn fencing and some acrobatics . The film emerged as a commercial success , with the domestic gross of more than ₹ 1 billion ( US $ 15 million ) . In a particularly scathing review , Saibal Chatterjee of NDTV wrote that both Fernandez and Padukone " strut around like wound @-@ up automatons that are all decked @-@ up but have nowhere to go . " Fernandez also appeared in an item number ( music video ) titled " Jaadu Ki Jhappi " for Prabhu Deva 's Ramaiya Vasta Vaiya .
In 2014 , Fernandez appeared in Sajid Nadiadwala 's directorial debut — the action film Kick , a remake of a 2009 Telugu film of same name . She starred opposite Salman Khan , playing Shaina , a psychiatry student . She retained her real voice for the first time in Kick . While Sneha May Francis commented that she is : " incredibly dazzling , and moves like a magic " , Raja Sen of Rediff.com was more critical of her dialogue delivery , calling it " unfortunate . " The film received mixed reviews from critics , but with worldwide revenue of over ₹ 3 @.@ 75 billion ( US $ 56 million ) , it became the fourth highest @-@ grossing Bollywood film . The film established Fernandez as one of the most popular Bollywood actresses .
In 2015 , Fernandez featured in Vicky Singh 's Roy , a romantic thriller , which critic Sarita A. Tanwar described as a " boring , exhausting and pretentious " film . Fernandez played dual roles , Ayesha Aamir , a filmmaker in a relationship with another filmmaker ( played by Arjun Rampal ) and Tia Desai , a girl in love with a thief ( played by Ranbir Kapoor ) . While India TV called it " her best act till date " , critic Rajeev Masand felt that she " appears miscast in a part that required greater range . " Roy failed to meet its box @-@ office expectations , and was a commercial failure . Later that year , she appeared in a guest appearance for the comedy @-@ satire Bangistan .
Karan Malhotra 's action drama Brothers was Fernandez 's next release . Co @-@ starring alongside Akshay Kumar and Sidharth Malhotra , Fernandez played Jenny , a fearless mother struggling for her child , a role which she described as " challenging " , " intense " , and " difficult " . The role marked a departure from the glamorous characters that she had a reputation for portraying . Film critics praised her performance , though their response to the film was mixed . Dhriti Sharma of Zee News called her character " soft , timid and promising " , and praised her for : " convincingly pull [ ing ] off a pleasing character of a street fighter 's wife " . Film critic Subhash K. Jha noted that she : " ... in a limited role gives her finest emotive shot " , while critic Raja Sen remarked : " [ she ] plays Kumar 's long @-@ sobbing wife who gets so deliriously happy on seeing a text message that it may well have contained news about a Kick sequel . "
As of September 2015 , Fernandez has several projects in various stages of production . She has completed shooting for Chandran Rutnam 's English @-@ Sri Lankan crime @-@ thriller According to Mathew , and the horror thriller Definition of Fear , which marks her Hollywood debut . Fernandez has also signed on to appear in three other projects — Rohit Dhawan 's Dishoom opposite Varun Dhawan and John Abraham as a part of three @-@ film deal with Nadiadwala Grandson Entertainment , Remo D 'Souza 's Flying Jat opposite Tiger Shroff , and in an Indo @-@ Chinese film starring opposite Abhay Deol , Amitabh Bachchan , and Jackie Chan titled Gold Struck .
Fernandez shares a close bond with her family , and admits to missing being around them . She says : " I miss them so much everyday . You don 't realise when you live away from home how difficult life can be [ ... ] At the same time , staying away from them has taught me to be more responsible . It has taught me so many things about myself , about priorities and time management . " In March 2012 , Fernandez turned vegetarian for a 40 @-@ day period to observe Lent , a period from Ash Wednesday to Holy Saturday .
In 2008 , Fernandez started dating Bahraini prince Hassan bin Rashid Al Khalifa , whom she met at a mutual friend 's party ; they separated in 2011 . While filming Housefull 2 in 2011 , Fernandez began a romantic relationship with director Sajid Khan . The relationship attracted media coverage in India and there was speculation of an impending wedding . However , the relationship ended in May 2013 .
In addition to acting in films , Fernandez has supported charitable organisations and a number of causes . In 2011 , on the behalf of People for the Ethical Treatment of Animals ( PETA ) , she sent a letter to the Mumbai Municipal Commissioner asking for an end to horse @-@ drawn carriage rides in Mumbai . In early 2013 , she asked the consulate general of the Philippines , William John T Perera in Colombo , to hasten the transfer of an elephant from its inadequate housing at the Manila Zoo to a humane sanctuary . Later that year , she auctioned a breakfast in Mayfair , London , where she raised around £ 4000 for the Pratham NGO , which helps children 's primary education . In 2014 , Fernandez was named " Woman Of The Year " by PETA ( India ) for advocating the protection of animals . The following year , she auctioned her outfits on an online portal for a philanthropic cause . Some of her outfits included the ones she wore in the song " Party On My Mind " ( from Race 2 ) and " Hangover " ( from Kick ) . In March 2016 , she was part of " Jacqueline Builds " campaign that raised funds for the victims of the 2015 South Indian floods .
Fernandez has participated in several concert tours and televised award ceremonies . In 2013 , she performed at the Temptations Reloaded in Auckland , Perth , and Sydney alongside Shah Rukh Khan , Rani Mukerji , and Madhuri Dixit . She also performed at the live talent show " Got Talent World Stage Live " with Khan , Priyanka Chopra and Varun Dhawan the following year . In July 2014 , Fernandez opened a restaurant in Colombo , Kaema Sutra , in collaboration with chef Dharshan Munidasa , which specialises in contemporary Sri Lankan cuisine .
In the early 2013 , Fernandez became the ambassador for HTC One , which she endorses in India . She was the face of Indian Bridal Fashion Week — IBFW of 2013 . Later that year , she became the spokesperson for Gareth Pugh 's designed Forevermark Diamonds in Mumbai , and was at the inaugural opening of the Forever 21 store in Mumbai . That year , she also launched Gillette Shaving System with Arbaaz Khan and Aditya Roy Kapur . While analysing Fernandez 's career , India TV noted : " Slowly and steadily Jacqueline Fernandez is climbing up the ladder of success [ ... ] Jacqueline is comfortably grasping every aspect of the work , which an actress is required to do and is accordingly giving results . " On the contrary , Charu Thakur of India Today criticized her acting skills , but remarked that : " [ she has ] managed to find her feet in Bollywood now by banking on glamorous roles " .
In 2008 and 2011 , Fernandez featured in the UK magazine Eastern Eye 's " World 's Sexiest Asian Women " list , ranking twelfth . She was ranked third on The Times of India 's listing of the " Most Desirable Woman " in 2013 and 2014 , after being ranked eighth , seventh and fourteenth , respectively , in the preceding three years . In 2013 , Rediff.com placed her on their list of " Bollywood 's Best Dressed Actresses " . The following year , she held the sixty second position in the Indian edition of the Forbes ' Celebrity 100 , a list based on the income and popularity of India 's celebrities . She has been the cover model for many Indian editions of magazines , including : Vogue , FHM , Maxim , Cosmopolitan , Grazia , Elle , Verve , Harper 's Bazaar , Women 's Health , and L 'Officiel among others .
Barry John Cullen ( born August 2 , 1964 ) is a Canadian former professional ice hockey centre who played in the National Hockey League ( NHL ) for the Pittsburgh Penguins , Hartford Whalers , Toronto Maple Leafs and Tampa Bay Lightning . He was a standout player for Boston University and is the school 's all @-@ time leading scorer . After the Buffalo Sabres selected him in the 1986 NHL Supplemental Draft but chose not to offer him a contract , Cullen signed with the Flint Spirits of the International Hockey League ( IHL ) for the 1987 – 88 season where he was named the IHL 's co @-@ Rookie of the Year and Most Valuable Player after leading the league in scoring .
His career was halted in 1997 when he was diagnosed with Non @-@ Hodgkin lymphoma . He attempted a brief comeback in 1998 after an 18 @-@ month battle with the disease , for which the NHL awarded him the Bill Masterton Memorial Trophy , before retiring to serve as an assistant coach for a year with the Lightning . Cullen played in two NHL All @-@ Star Games in his career . He joined his brother in the car dealership business after leaving the game , and briefly operated his own dealership until forced to close during the automotive industry crisis of 2008 – 10 .
Cullen was born in Puslinch @-@ Ontario on August 2 , 1964 . He is one of six children of Barry and Loretta Cullen . His father and uncles Brian and Ray all played in the NHL , and while Cullen and his three brothers all played as well , their father never pressured them , preferring that they enjoy the game .
He idolized his elder brother Terry , who was considered a top NHL prospect until Terry 's career was ended when he suffered a broken neck after being hit from behind into the boards during a college game . While his brother was highly sought by American universities , John received only two scholarship offers , choosing to play for Boston University ( BU ) in 1983 .
At the same time , his mother Loretta was diagnosed with skin cancer . Following her death early in his freshman year , Cullen contemplated returning to his Ontario home , but was convinced by his father to continue with both school and hockey . He used the game to cope with the loss and dedicated every game he played to his mother 's memory . Cullen felt that the inspiration he drew from his mother 's battle allowed him to become a better player .
Cullen was a standout with BU ; he was named the East Coast Athletic Conference Rookie of the Year in 1983 – 84 after leading his team in scoring with 56 points . The National Hockey League passed him over , however , as he went unclaimed in the 1984 NHL Entry Draft . He was named to the Hockey East All @-@ Star Teams in 1985 , 1986 and 1987 , and a National Collegiate Athletic Association East Second Team All @-@ American in 1986 . He graduated as BU 's all @-@ time scoring leader with 241 points , and was named to BU 's Hockey East 25th anniversary team in 2009 .
Passed over in the Entry Draft , Cullen was finally selected by the Buffalo Sabres in the 1986 NHL Supplemental Draft . When the Sabres failed to offer him a contract , Cullen signed with the Flint Spirits of the International Hockey League ( IHL ) for the 1987 – 88 season . He led the league with 157 points , scoring 48 goals , and won the James Gatschene Memorial Trophy as league most valuable player while sharing the Gary F. Longman Memorial Trophy with Ed Belfour as rookie of the year . Cullen 's outstanding season in Flint caught the attention of the Sabres and the Pittsburgh Penguins . He signed a contract with the Penguins for the league minimum , passing up a superior contract offer from Buffalo as he remained upset at how they released him the year before .
Cullen made his NHL debut in 1988 – 89 , appearing in 79 games with the Penguins and scoring 49 points . He was given a greater role with the Penguins the following year after Mario Lemieux missed 21 games due to a back injury and responded by scoring 32 goals and 92 points to finish third in team scoring . Additionally , he played for Team Canada at the 1990 World Championship , scoring four points in ten games . Cullen had his best season in 1990 – 91 . As one of the team 's top offensive centres , he scored 94 points in the Penguins ' first 65 games and played in his first NHL All @-@ Star Game . However , when Lemieux returned after missing an additional 50 @-@ games due to injury , Cullen 's playing time and production declined .
The Penguins ' needs led them to complete a blockbuster trade on March 1 , 1991 . Cullen was sent to the Hartford Whalers , along with Zarley Zalapski and Jeff Parker in exchange for Hartford 's all @-@ time leading scorer , Ron Francis , along with Ulf Samuelsson and Grant Jennings . The Penguins almost turned down the deal as they were concerned about giving up Cullen 's playmaking and leadership abilities , while his former teammates credited Cullen as being the primary reason they were in a playoff position at the time the trade happened . After the Penguins won their first Stanley Cup that season , Phil Bourque later said it " broke his heart " that Cullen was not able to share in that championship .
In Hartford , Cullen worked to overcome the team 's fans ' disappointment at losing Francis . The Hartford fans initially booed him to show their dissatisfaction with the trade . He scored 16 points in 13 regular season games to finish the season with 110 points combined between the Penguins and Whalers , and was the team 's best player in their first round loss to the Boston Bruins in the 1991 Stanley Cup Playoffs . He initially accepted an invitation to join the Canadian team at the 1991 Canada Cup , but subsequently chose not to participate as his contract had expired , leading to greater insurance concerns . Still without a contract when the 1991 – 92 season began , Cullen missed the first four games before signing a four @-@ year deal with Hartford worth a total of $ 4 million . He returned to score 77 points in 77 games in his first full season with the Whalers and represented the team at the 1992 All @-@ Star Game .
Midway through the 1992 – 93 NHL season , the Whalers sent Cullen to the Toronto Maple Leafs for Toronto 's second round selection at the 1993 NHL Entry Draft . Cullen was excited to play for his father 's old team , but injuries reduced his ability to perform . His most significant injury was a herniated disc in his neck that doctors initially feared would end his career . A bulky neck brace allowed Cullen to return and play out his contract in Toronto . When the Leafs chose not to re @-@ sign him following the 1993 – 94 season , he returned to the Penguins for one season before Tony Esposito convinced him to sign with the Tampa Bay Lightning in 1995 .
Cullen enjoyed immediate success with linemates Shawn Burr and Alexander Selivanov as the trio combined to score 130 points and helped lead the Lightning to the first playoff appearance in franchise history . They were eliminated by the Philadelphia Flyers in five games while Cullen led the team in playoff scoring with three goals and three assists . The Lightning looked to improve in 1996 – 97 ; Cullen was leading the team in scoring , but was suffering flu @-@ like symptoms that he could not shake . As Tampa was fighting for a playoff spot , he played through his condition for weeks .
After two months of quietly dealing with his symptoms , Cullen 's wife finally called team trainers and asked them to check into his illness . The team took an x @-@ ray and found a large black shadow in his chest . He underwent a CAT scan which revealed Cullen had a baseball @-@ sized tumor ; he was diagnosed as having Non @-@ Hodgkin lymphoma . The diagnosis ended his season , and he immediately began chemotherapy treatments that quickly reduced his cancer . The tumor was gone by September 1997 , but a precautionary test prior to training camp revealed that Cullen still had cancer cells in his body . He missed the entire 1997 – 98 NHL season as he continued to battle the disease , while his teammates wore a uniform patch with his # 12 in support throughout the year .
On one day during his treatments , as his wife was wheeling him down a hospital corridor , Cullen went into cardiac arrest , requiring doctors to use a defibrillator to revive him . He underwent a bone marrow transplant that briefly reduced his immune system to the point that he could have very little human contact . Another examination in April 1998 revealed that the cancer was finally gone , and Cullen immediately began training for a comeback .
The Lightning signed Cullen to a one @-@ year , $ 500 @,@ 000 contract for the 1998 – 99 season . He played his first game in nearly 18 months on September 18 , 1998 , in an exhibition game between the Lightning and Sabres at Innsbruck , Austria . Cullen scored the game @-@ winning goal in a 3 – 1 victory , after which he said he sat on the bench in disbelief over how he was given a second chance . He was named to the roster and was greeted with a loud standing ovation by the fans in Tampa Bay when he was introduced prior to their season opening game .
Cullen appeared in four of the Lightning 's first eight games , but it was evident that he had lost much of his speed and strength . The Lightning assigned him to the IHL 's Cleveland Lumberjacks , but also gave him the option of retiring and taking up a position as an assistant coach . He chose to accept the demotion , giving himself one month to determine if he could continue playing . He appeared in six games for Cleveland , and in one game against the Chicago Wolves tied an IHL record when he scored seven points in a 7 – 3 victory .
However , a bout of bronchitis led Cullen to fear that his cancer had returned . Tests came back negative , but after spending time with his family , he realized that neither he nor his family were interested in returning to Cleveland . Cullen announced his retirement on November 28 , 1998 , and accepted the Lightning offer to become an assistant coach . In recognition of his comeback attempt , the NHL named him the 1999 winner of the Bill Masterton Memorial Trophy for dedication and perseverance , while the IHL renamed its Comeback Player of the Year award the John Cullen Award .
Former Lightning head coach Terry Crisp has stated publicly that Cullen was a player that stood out as something special saying “ John Cullen ... beat cancer and came back to play and helped us win . ”
Cullen and his wife Valerie have three daughters , Kennedy and twins Karlyn and Kortland . Unwilling to spend so much time away from his family , he left the Lightning in 1999 and settled in the Atlanta area , joining his brother 's car dealership in Jonesboro , Georgia . He had always expected to become a car dealer after his hockey career , as his father , uncles and brother all worked in the industry . After apprenticing under his brother for five years , he bought a Dodge dealership in Newnan , Georgia in 2007 . However , he owned the dealership for less than two years before Chrysler closed him down as part of its recovery plan in response to the Automotive industry crisis of 2008 – 2010 . He has since returned to his brother 's dealership , serving as its general manager .
Cullen 's battle with cancer inspired Timm Harmon of the Moffitt Cancer Centre to partner with the Lightning to raise awareness and money for cancer research . The NHL itself joined the cause in the winter of 1998 , creating the Hockey Fights Cancer program to raise money for research . Cullen has spent time promoting the initiative .
Prior to marrying his wife Valerie , John dated Carolyn Bessette the future wife of John F. Kennedy , Jr . The two met while attending University in Boston .
Cullen is the namesake of the John Cullen Award , previously given to key IHL players .
For the ironclad present at the Battle of Lissa of the same name , see SMS Erzherzog Ferdinand Max ( 1865 ) .
SMS Erzherzog Ferdinand Max ( German : " His Majesty 's ship Archduke Ferdinand Max " ) was a pre @-@ dreadnought battleship built by the Austro @-@ Hungarian Navy in 1902 . The second ship of the Erzherzog Karl class , she was launched on 3 October 1903 . She was assigned to the III Battleship Division .
For most of World War I , Erzherzog Ferdinand Max remained in her home port of Pola , in present @-@ day Croatia , except for four engagements . In 1914 , she formed part of the Austro @-@ Hungarian flotilla sent to protect the escape of the German ships SMS Goeben and SMS Breslau from the British @-@ held Mediterranean ; she advanced as far as Brindisi before being recalled to her home port . Her sole combat engagement occurred in late May 1915 , when she participated in the bombardment of the Italian port city of Ancona . She also took part in suppressing a major mutiny among the crew members of several armored cruisers stationed in Cattaro between 1 – 3 February 1918 . She also attempted to break through the Otranto Barrage in June of that year , but had to retreat when the dreadnought SMS Szent István was sunk . After the war , Erzherzog Ferdinand Max was awarded to the United Kingdom as a war prize in 1920 .
Erzherzog Ferdinand Max displaced 10 @,@ 472 long tons ( 10 @,@ 640 t ) . She was 414 feet 2 inches ( 126 @.@ 2 m ) long , had a beam of 71 feet 5 inches ( 21 @.@ 8 m ) and a draft of 24 feet 7 inches ( 7 @.@ 5 m ) . She was manned by 700 men . She and her sisters were the last and largest pre @-@ dreadnought class built by the Austro @-@ Hungarian Navy , surpassing the Habsburg class by approximately 2 @,@ 000 tonnes ( 1 @,@ 968 long tons ) . She was propelled by two two @-@ shaft , four cylinder vertical triple expansion steam engines . On trials , they developed 18 @,@ 000 ihp ( 13 @,@ 423 kW ) , which propelled the ship at a speed of 20 @.@ 5 knots ( 38 @.@ 0 km / h ; 23 @.@ 6 mph ) .
Erzherzog Ferdinand Max carried a primary armament of four 24 @-@ centimeter ( 9 @.@ 4 in ) / 40 caliber guns in two twin turrets on the centerline . These guns were an Austro @-@ Hungarian replica of the British 24 cm / 40 ( 9 @.@ 4 " ) Krupp C / 94 , which was used on the Habsburgs . Her secondary armament consisted of twelve 19 @-@ centimeter ( 7 @.@ 5 in ) / 42 caliber guns , also made by Škoda , mounted in eight single casemates on either wing of the ship and two twin turrets on the centerline. shell 20 @,@ 000 metres ( 22 @,@ 000 yd ) at maximum elevation with a muzzle velocity of 800 metres per second ( 2 @,@ 600 ft / s ) . The gun weighed 12 @.@ 1 tons and could fire three rounds per minute.The ships had a tertiary armament for protection against torpedo boats in the form of the 6 @.@ 6 centimetres ( 2 @.@ 6 in ) / 45 caliber gun , also manufactured by Škoda . Anti @-@ aircraft and airship protection was covered by the four 37 @-@ millimeter ( 1 @.@ 5 in ) Vickers anti @-@ aircraft guns on the ship bought from Britain in 1910 and mounted onto Erzherzog Karl . Erzherzog Ferdinand Max was also fitted with two above water 45 @-@ centimeter ( 17 @.@ 7 in ) torpedo tubes , although rarely used .
At the outbreak of World War I , Erzherzog Ferdinand Max was in the III division of the Austrian @-@ Hungarian battle @-@ fleet . She was mobilized on the eve of the war along with the remainder of the fleet to support the flight of SMS Goeben and SMS Breslau . The two German ships were attempting to break out of Messina , which was surrounded by British troops , and make their way to Turkey . The breakout succeeded . When the flotilla had advanced as far south as Brindisi in south eastern Italy , the Austro @-@ Hungarian ships were recalled . In company with other units of the Austro Hungarian navy , Erzherzog Ferdinand Max took a minor part in the bombardment of Ancona on 24 May 1915 . There she and her sisters expended 24 rounds of 240 mm armor @-@ piercing shells at signal and semaphore stations as well as 74 rounds of 190 mm shells aimed at Italian gun @-@ batteries and other port installations .
A major mutiny among crews of the armored cruisers stationed in Cattaro , including Sankt Georg and Kaiser Karl VI , began on 1 February 1918 . Two days later , Erzherzog Ferdinand Max and her sisters arrived in the port and assisted with the suppression of the mutiny . Following the restoration of order in the naval base , the armored cruisers Sankt Georg and Kaiser Karl VI were decommissioned and Erzherzog Ferdinand Max and her sisters were stationed in Cattaro in their place . On the morning of 11 June , Admiral Miklos Horthy planned a major assault on the Otranto Barrage ; the three Erzherzog Karls and the four Tegetthoff @-@ class battleships were to provide support for the Novara @-@ class cruisers on an assault on the Allied defenses at the Strait of Otranto . The plan was intended to replicate the success of the raid conducted one year earlier . Horthy 's plan was to destroy the blockading fleet by luring Allied ships to the cruisers and lighter ships , which were protected from the heavier guns of the battleships , including the guns of the Erzherzog Karl class . However , on the morning of 10 June , the dreadnought Szent István was torpedoed and sunk by an Italian torpedo boat . Horthy felt that the element of surprise had been compromised , and therefore called off the operation . This was to be the last military action Erzherzog Ferdinand Max was to take part in , and she and her sisters spent the rest of their career in port .
Near the end of World War I , the Erzherzog Karl @-@ class battleships were handed over to the newly formed State of Slovenes , Croats and Serbs but Erzherzog Ferdinand Max was later transferred to Great Britain as a war reparation . She was later broken up for scrap in 1921 .
Ancient Egyptian deities are the gods and goddesses worshipped in ancient Egypt . The beliefs and rituals surrounding these gods formed the core of ancient Egyptian religion , which emerged sometime in prehistory . Deities represented natural forces and phenomena , and the Egyptians supported and appeased them through offerings and rituals so that these forces would continue to function according to maat , or divine order . After the founding of the Egyptian state around 3100 BC , the authority to perform these tasks was controlled by the pharaoh , who claimed to be the gods ' representative and managed the temples where the rituals were carried out .
The gods ' complex characteristics were expressed in myths and in intricate relationships between deities : family ties , loose groups and hierarchies , and combinations of separate gods into one . Deities ' diverse appearances in art — as animals , humans , objects , and combinations of different forms — also alluded , through symbolism , to their essential features .
In different eras , various gods were said to hold the highest position in divine society , including the solar deity Ra , the mysterious god Amun , and the mother goddess Isis . The highest deity was usually credited with the creation of the world and often connected with the life @-@ giving power of the sun . Some scholars have argued , based in part on Egyptian writings , that the Egyptians came to recognize a single divine power that lay behind all things and was present in all the other deities . Yet they never abandoned their original polytheistic view of the world , except possibly during the era of Atenism in the 14th century BC , when official religion focused exclusively on the impersonal sun god Aten .
Gods were assumed to be present throughout the world , capable of influencing natural events and the course of human lives . People interacted with them in temples and unofficial shrines , for personal reasons as well as for larger goals of state rites . Egyptians prayed for divine help , used rituals to compel deities to act , and called upon them for advice . Humans ' relations with their gods were a fundamental part of Egyptian society .
The beings in ancient Egyptian tradition who might be labeled as deities are difficult to count . Egyptian texts list the names of many deities whose nature is unknown and make vague , indirect references to other gods who are not even named . The Egyptologist James P. Allen estimates that more than 1 @,@ 400 deities are named in Egyptian texts , whereas his colleague Christian Leitz says there are " thousands upon thousands " of gods .
The Egyptian language 's terms for these beings were nṯr , " god " , and its feminine form nṯrt , " goddess " . Scholars have tried to discern the original nature of the gods by proposing etymologies for these words , but none of these suggestions has gained acceptance , and the terms ' origin remains obscure . The hieroglyphs that were used as ideograms and determinatives in writing these words show some of the traits that the Egyptians connected with divinity . The most common of these signs is a flag flying from a pole . Similar objects were placed at the entrances of temples , representing the presence of a deity , throughout ancient Egyptian history . Other such hieroglyphs include a falcon , reminiscent of several early gods who were depicted as falcons , and a seated male or female deity . The feminine form could also be written with an egg as determinative , connecting goddesses with creation and birth , or with a cobra , reflecting the use of the cobra to depict many female deities .
The Egyptians distinguished nṯrw , " gods " , from rmṯ , " people " , but the meanings of the Egyptian and the English terms do not match perfectly . The term nṯr may have applied to any being that was in some way outside the sphere of everyday life . Deceased humans were called nṯr because they were considered to be like the gods , whereas the term was rarely applied to many of Egypt 's lesser supernatural beings , which modern scholars often call " demons " . Egyptian religious art also depicts places , objects , and concepts in human form . These personified ideas range from deities that were important in myth and ritual to obscure beings , only mentioned once or twice , that may be little more than metaphors .
Confronting these blurred distinctions between gods and other beings , scholars have proposed various definitions of a " deity " . One widely accepted definition , suggested by Jan Assmann , says that a deity has a cult , is involved in some aspect of the universe , and is described in mythology or other forms of written tradition . According to a different definition , by Dimitri Meeks , nṯr applied to any being that was the focus of ritual . From this perspective , " gods " included the king , who was called a god after his coronation rites , and deceased souls , who entered the divine realm through funeral ceremonies . Likewise , the preeminence of the great gods was maintained by the ritual devotion that was performed for them across Egypt .
The first written evidence of deities in Egypt comes from the Early Dynastic Period ( c . 3100 – 2686 BC ) . Deities must have emerged sometime in the preceding Predynastic Period ( before 3100 BC ) and grown out of prehistoric religious beliefs . Predynastic artwork depicts a variety of animal and human figures . Some of these images , such as stars and cattle , are reminiscent of important features of Egyptian religion in later times , but in most cases there is not enough evidence to say whether the images are connected with deities . As Egyptian society grew more sophisticated , clearer signs of religious activity appeared . The earliest known temples appeared in the last centuries of the predynastic era , along with images that resemble the iconographies of known deities : the falcon that represents Horus and several other gods , the crossed arrows that stand for Neith , and the enigmatic " Set animal " that represents Set .
Many Egyptologists and anthropologists have suggested theories about how the gods developed in these early times . Gustave Jéquier , for instance , thought the Egyptians first revered primitive fetishes , then deities in animal form , and finally deities in human form , whereas Henri Frankfort argued that the gods must have been envisioned in human form from the beginning . Some of these theories are now regarded as too simplistic , and more current ones , such as Siegfried Morenz ' hypothesis that deities emerged as humans began to distinguish themselves from and personify their environment , are difficult to prove .
Predynastic Egypt originally consisted of small , independent villages . Because many deities in later times were strongly tied to particular towns and regions , many scholars have suggested that the pantheon formed as disparate communities coalesced into larger states , spreading and intermingling the worship of the old local deities . But others have argued that the most important predynastic gods were , like other elements of Egyptian culture , present all across the country despite the political divisions within it .
The final step in the formation of Egyptian religion was the unification of Egypt , in which rulers from Upper Egypt made themselves pharaohs of the entire country . These sacred kings and their subordinates assumed the exclusive right to interact with the gods , and kingship became the unifying focus of the religion .
New gods continued to emerge after this transformation . Some important deities like Isis and Amun are not known to have appeared until the Old Kingdom ( c . 2686 – 2181 BC ) . Places and concepts could suddenly inspire the creation of a deity to represent them , and deities were sometimes created to serve as opposite @-@ sex counterparts to established gods or goddesses . Kings were said to be divine , although only a few continued to be worshipped long after their deaths . Some non @-@ royal humans were said to have the favor of the gods and were venerated accordingly . This veneration was usually short @-@ lived , but the court architects Imhotep and Amenhotep son of Hapu were regarded as gods centuries after their lifetimes , as were some other officials .
Through contact with neighboring civilizations , the Egyptians also adopted foreign deities . Dedun , who is first mentioned in the Old Kingdom , may have come from Nubia , and Baal , Anat , and Astarte , among others , were adopted from Canaanite religion during the New Kingdom ( c . 1550 – 1070 BC ) . In Greek and Roman times , from 332 BC to the early centuries AD , deities from across the Mediterranean world were revered in Egypt , but the native gods remained , and they often absorbed the cults of these newcomers into their own worship .
Modern knowledge of Egyptian beliefs about the gods is mostly drawn from religious writings produced by the nation 's scribes and priests . These people were the elite of Egyptian society and were very distinct from the general populace , most of whom were illiterate . Little is known about how well this broader population knew or understood the sophisticated ideas that the elite developed . Commoners ' perceptions of the divine may have differed from those of the priests . The populace may , for example , have mistaken the religion 's symbolic statements about the gods and their actions for literal truth . But overall , what little is known about popular religious belief is consistent with the elite tradition . The two traditions form a largely cohesive vision of the gods and their nature .
Most Egyptian deities represent natural or social phenomena . The gods were generally said to be immanent in these phenomena — to be present within nature . The types of phenomena they represented include physical places and objects as well as abstract concepts and forces . The god Shu was the deification of all the world 's air ; the goddess Meretseger oversaw a limited region of the earth , the Theban Necropolis ; and the god Sia personified the abstract notion of perception . Major gods often had many roles and were involved in several types of phenomena . For instance , Khnum was the god of Elephantine Island in the midst of the Nile , the river that was essential to Egyptian civilization . He was credited with producing the annual Nile flood that fertilized the nation 's farmland . Perhaps as an outgrowth of this life @-@ giving function , he was said to create all living things , fashioning their bodies on a potter 's wheel . Gods could share the same role in nature ; Ra , Atum , Khepri , Horus , and other deities acted as sun gods . Despite their diverse functions , most gods had an overarching role in common : maintaining maat , the universal order that was a central principle of Egyptian religion and was itself personified as a goddess . But some deities represented disruption to maat . Most prominently , Apep was the force of chaos , constantly threatening to annihilate the order of the universe , and Set was an ambivalent member of divine society who could both fight disorder and foment it .
Not all aspects of existence were seen as deities . Although many deities were connected with the Nile , no god personified it in the way that Ra personified the sun . Short @-@ lived phenomena , like rainbows or eclipses , were not represented by gods ; neither were elements like fire and water or many other components of the world .
The roles of each deity were fluid , and each god could expand its nature to take on new characteristics . As a result , gods ' roles are difficult to categorize or define . But despite their flexibility , the gods had limited abilities and spheres of influence . Not even the creator god could reach beyond the boundaries of the cosmos that he created , and even Isis , though she was said to be the cleverest of the gods , was not omniscient . Richard H. Wilkinson , however , argues that some texts from the late New Kingdom suggest that , as beliefs about the god Amun evolved , he was thought to approach omniscience and omnipresence and to transcend the limits of the world in a way that other deities did not .
The deities with the most limited and specialized domains are often called " minor divinities " or " demons " in modern writing , although there is no firm definition for these terms . Among these lesser deities , Egyptologist Claude Traunecker draws a distinction between " genies " — specialized patron spirits of certain places , objects , or activities , such as the sea or marsh god Wadj @-@ Wer and the harvest goddess Renenutet — and demons , who have a more dangerous character . Many demons are hostile , causing illness and other troubles among humans . Their power can also be protective ; they may guard certain places in the Duat , the realm of the dead , or advise and watch over humans . Egyptians believed the landscape was full of these unpredictable divine powers . Demons often act as servants and messengers to the greater gods , but their position in the hierarchy is not fixed . The protective deities Bes and Taweret originally had minor , demon @-@ like roles , but over time they came to be credited with great influence .
Divine behavior was believed to govern all of nature . Except for the few deities who disrupted the divine order , the gods ' actions maintained maat and created and sustained all living things . They did this work using a force the Egyptians called heka , a term usually translated as " magic " . Heka was a fundamental power that the creator god used to form the world and the gods themselves .
The gods ' actions in the present are described and praised in hymns and funerary texts . In contrast , mythology mainly concerns the gods ' actions during a vaguely imagined past in which the gods were present on earth and interacted directly with humans . The events of this past time set the pattern for the events of the present . Periodic occurrences were tied to events in the mythic past ; the succession of each new pharaoh , for instance , reenacted Horus ' accession to the throne of his father Osiris . Myths are metaphors for the gods ' actions , which humans cannot fully understand . They contain seemingly contradictory ideas , each expressing a particular perspective on divine events . The contradictions in myth are part of the Egyptians ' many @-@ faceted approach to religious belief — what Henri Frankfort called a " multiplicity of approaches " to understanding the gods .
In myth , the gods behave much like humans . They feel emotion ; they can eat , drink , fight , weep , sicken , and die . Some have unique character traits . Set is aggressive and impulsive , and Thoth , patron of writing and knowledge , is prone to long @-@ winded speeches . Yet overall , the gods are more like archetypes than well drawn characters . Their behavior is inconsistent , and their thoughts and motivations are rarely stated . Most myths about them lack highly developed characters and plots , because the symbolic meaning of the myths was more important than elaborate storytelling .
The first divine act is the creation of the cosmos , described in several creation myths . They focus on different gods , each of which may act as creator deities . The eight gods of the Ogdoad , who represent the chaos that precedes creation , give birth to the sun god , who establishes order in the newly formed world ; Ptah , who embodies thought and creativity , gives form to all things by envisioning and naming them ; Atum produces all things as emanations of himself ; and Amun , according to the myths promoted by his priesthood , preceded and created the other creator gods . These and other versions of the events of creation were not seen as contradictory . Each gives a different perspective on the complex process by which the organized universe and its many deities emerged from undifferentiated chaos . The period following creation , in which a series of gods rule as kings over the divine society , is the setting for most myths . The gods struggle against the forces of chaos and among each other before withdrawing from the human world and installing the historical kings of Egypt to rule in their place .
A recurring theme in these myths is the effort of the gods to maintain maat against the forces of disorder . They fight vicious battles with the forces of chaos at the start of creation . Ra and Apep , battling each other each night , continue this struggle into the present . Another prominent theme is the gods ' death and revival . The clearest instance where a god dies is the myth of Osiris ' murder , in which that god is resurrected as ruler of the Duat . The sun god is also said to grow old during his daily journey across the sky , sink into the Duat at night , and emerge as a young child at dawn . In the process he comes into contact with the rejuvenating water of primordial chaos . Funerary texts that depict Ra 's journey through the Duat also show the corpses of gods who are enlivened along with him . Instead of being changelessly immortal , the gods periodically died and were reborn by repeating the events of creation , thus renewing the whole world . But it was always possible for this cycle to be disrupted and for chaos to return . Some poorly understood Egyptian texts even suggest that this calamity is destined to happen — that the creator god will one day dissolve the order of the world , leaving only himself and Osiris amid the primordial chaos .
Gods were linked with specific regions of the universe . In Egyptian tradition , the world includes the earth , the sky , and the Duat . Surrounding them is the dark formlessness that existed before creation . The gods in general were said to dwell in the sky , although gods whose roles were linked with other parts of the universe were said to live in those places instead . Most events of mythology , set in a time before the gods ' withdrawal from the human realm , take place in an earthly setting . The deities there sometimes interact with those in the sky . The Duat , in contrast , is treated as a remote and inaccessible place , and the gods who dwell there have difficulty communicating with those in the world of the living . The space outside the cosmos is also said to be very distant . It too is inhabited by deities , some hostile and some beneficial to the other gods and their orderly world .
In the time after myth , most gods were said to be either in the sky or invisibly present within the world . Temples were their main means of contact with humanity . Each day , it was believed , the gods moved from the divine realm to their temples , their homes in the human world . There they inhabited the cult images , the statues that depicted deities and allowed humans to interact with them in temple rituals . This movement between realms was sometimes described as a journey between the sky and the earth . As temples were the focal points of Egyptian cities , the god in a city 's main temple was the patron god for the city and the surrounding region . Deities ' spheres of influence on earth centered on the towns and regions they presided over . Many gods had more than one cult center , and their local ties changed over time . They could establish themselves in new cities , or their range of influence could contract . Therefore , a given deity 's main cult center in historical times is not necessarily his or her place of origin . The political influence of a city could affect the importance of its patron deity . When kings from Thebes took control of the country at start of the Middle Kingdom ( c . 2055 – 1650 BC ) , they elevated Thebes ' patron gods — first the war god Montu and then Amun — to national prominence .
In Egyptian belief , names express the fundamental nature of the things to which they refer . In keeping with this belief , the names of deities often relate to their roles or origins . The name of the predatory goddess Sekhmet means " powerful one " , the name of the mysterious god Amun means " hidden one " , and the name of the goddess Nekhbet , who was worshipped in the city of Nekheb , means " she of Nekheb " . But many other names have no certain meaning , even when the gods who bear them are closely tied to a single role . The names of the sky goddess Nut and the earth god Geb do not resemble the Egyptian terms for sky and earth .
The Egyptians also devised false etymologies giving more meanings to divine names . A passage in the Coffin Texts renders the name of the funerary god Sokar as sk r , meaning " cleaning of the mouth " , to link his name with his role in the Opening of the Mouth ritual , while one in the Pyramid Texts says the name is based on words shouted by Osiris , connecting Sokar with the most important funerary deity .
The gods were believed to have many names . Among them were secret names that conveyed their true natures more profoundly than others . To know the true name of a deity was to have power over it . The importance of names is demonstrated by a myth in which Isis poisons the superior god Ra and refuses to cure him unless he reveals his secret name to her . Upon learning the name , she tells it to her son , Horus , and by learning it they gain greater knowledge and power .
In addition to their names , gods were given epithets , like " possessor of splendor " , " ruler of Abydos " , or " lord of the sky " , that describe some aspect of their roles or their worship . Because of the gods ' multiple and overlapping roles , deities can have many epithets — with more important gods accumulating more titles — and the same epithet can apply to many deities . Some epithets eventually became separate deities , as with Werethekau , an epithet applied to several goddesses meaning " great enchantress " , which came to be treated as an independent goddess . The host of divine names and titles expresses the gods ' multifarious nature .
Egyptian deities are connected in a complex and shifting array of relationships . A god 's connections and interactions with other deities helped define its character . Thus Isis , as the mother and protector of Horus , was a great healer as well as the patroness of kings . Such relationships were the base material from which myths were formed .
Family relationships are a common type of connection between gods . Deities often form male and female pairs , reflecting the importance of procreation in Egyptian religious thought . Families of three deities , with a father , mother , and child , represent the creation of new life and the succession of the father by the child , a pattern that connects divine families with royal succession . Osiris , Isis , and Horus formed the quintessential family of this type . The pattern they set grew more widespread over time , so that many deities in local cult centers , like Ptah , Sekhmet , and their child Nefertum at Memphis and Amun , Mut , and Khonsu at Thebes , were assembled into family triads . Genealogical connections like these are changeable , in keeping with the multiple perspectives in Egyptian belief . Hathor , as a fertility goddess , could act as mother to any child god , including the child form of the sun god , although in other circumstances she was the sun god 's daughter .
Other divine groups were composed of deities with interrelated roles , or who together represented a region of the Egyptian mythological cosmos . There were sets of gods for the hours of the day and night and for each nome ( province ) of Egypt . Some of these groups contain a specific , symbolically important number of deities . Paired gods can stand for opposite but interrelated concepts that are part of a greater unity . Ra , who is dynamic and light @-@ producing , and Osiris , who is static and shrouded in darkness , merge into a single god each night . Groups of three are linked with plurality in ancient Egyptian thought , and groups of four connote completeness . Rulers in the late New Kingdom promoted a particularly important group of three gods above all others : Amun , Ra , and Ptah . These deities stood for the plurality of all gods , as well as for their own cult centers ( the major cities of Thebes , Heliopolis , and Memphis ) and for many threefold sets of concepts in Egyptian religious thought . Sometimes Set , the patron god of the Nineteenth Dynasty kings and the embodiment of disorder within the world , was added to this group , which emphasized a single coherent vision of the pantheon .
Nine , the product of three and three , represents a multitude , so the Egyptians called several large groups " enneads " , or sets of nine , even if they had more than nine members . The most prominent ennead was the Ennead of Heliopolis , an extended family of deities descended from the creator god Atum , which incorporates many important gods . The term " ennead " was often extended to include all of Egypt 's deities .
This divine assemblage had a vague and changeable hierarchy . Gods with broad influence in the cosmos or who were mythologically older than others had higher positions in divine society . At the apex of this society was the king of the gods , who was usually identified with the creator deity . In different periods of Egyptian history , different gods were most frequently said to hold this exalted position . Horus was the most important god in the Early Dynastic Period , Ra rose to preeminence in the Old Kingdom , Amun was supreme in the New , and in the Ptolemaic and Roman periods , Isis was the divine queen and creator goddess . Newly prominent gods tended to adopt characteristics from their predecessors . Isis absorbed the traits of many other goddesses during her rise , and when Amun became the ruler of the pantheon , he was conjoined with Ra , the traditional king of the gods , to become a solar deity .
The gods were believed to manifest in many forms . The Egyptians had complex conception of the human soul , consisting of several parts . The spirits of the gods were composed of many of these same elements . The ba was the component of the human or divine soul that affected the world around it . Any visible manifestation of a god 's power could be called its ba ; thus , the sun was called the ba of Ra . A depiction of a deity was considered a ka , another component of its being , which acted as a vessel for that deity 's ba to inhabit . The cult images of gods that were the focus of temple rituals , as well as the sacred animals that represented certain deities , were believed to house divine bas in this way . Gods could be ascribed many bas and kas , which were sometimes given names representing different aspects of the god 's nature . Everything in existence was said to be one of the kas of Atum the creator god , who originally contained all things within himself , and one deity could be called the ba of another , meaning that the first god is a manifestation of the other 's power . Divine body parts could act as separate deities , like the Eye of Ra and Hand of Atum , both of which were personified as goddesses .
Nationally important deities gave rise to local manifestations , which sometimes absorbed the characteristics of older regional gods . Horus had many forms tied to particular places , including Horus of Nekhen , Horus of Buhen , and Horus of Edfu . Such local manifestations could be treated almost as separate beings . During the New Kingdom , one man was accused of stealing clothes by an oracle supposed to communicate messages from Amun of Pe @-@ Khenty . He consulted two other local oracles of Amun hoping for a different judgment . Gods ' manifestations also differed according to their roles . Horus could be a powerful sky god or vulnerable child , and these forms were sometimes counted as independent deities .
Gods were combined with each other as easily as they were divided . A god could be called the ba of another , or two or more deities could be joined into one god with a combined name and iconography . Local gods were linked with greater ones , and deities with similar functions were combined . Ra was connected with the local deity Sobek to form Sobek @-@ Ra ; with his fellow ruling god , Amun , to form Amun @-@ Ra ; with the solar form of Horus to form Ra @-@ Horakhty ; and with several solar deities as Horemakhet @-@ Khepri @-@ Ra @-@ Atum . On rare occasion , even deities of different sexes were joined in this way , producing combinations like Osiris @-@ Neith and Mut @-@ Min . This linking of deities is called syncretism . Unlike other situations for which this term is used , the Egyptian practice was not meant to fuse competing belief systems , although foreign deities could be syncretized with native ones . Instead , syncretism acknowledged the overlap between their roles , and extended the sphere of influence for each of them . Syncretic combinations were not permanent ; a god who was involved in one combination continued to appear separately and to form new combinations with other deities . But closely connected deities did sometimes merge . Horus absorbed several falcon gods from various regions , such as Khenty @-@ irty and Khenty @-@ khety , who became little more than local manifestations of him ; Hathor subsumed a similar cow goddess , Bat ; and an early funerary god , Khenti @-@ Amentiu , was supplanted by Osiris and Anubis .
In the reign of Akhenaten ( c . 1353 – 1336 BC ) in the mid @-@ New Kingdom , a single solar deity , the Aten , became the sole focus of the state religion . Akhenaten ceased to fund the temples of other deities and erased the gods ' names and images on monuments , targeting Amun in particular . This new religious system , sometimes called Atenism , differed dramatically from the polytheistic worship of many gods in all other periods . Whereas , in earlier times , newly important gods were integrated into existing religious beliefs , Atenism insisted on a single understanding of the divine that excluded the traditional multiplicity of perspectives . Yet Atenism may not have been full monotheism , which totally excludes belief in other deities . There is evidence suggesting that the general populace was still allowed to worship other gods in private . The picture is further complicated by Atenism 's apparent tolerance for some other deities , like Shu . For these reasons , the Egyptologist Dominic Montserrat suggested that Akhenaten may have been monolatrous , worshipping a single deity while acknowledging the existence of others . In any case , Atenism 's aberrant theology did not take root among the Egyptian populace , and Akhenaten 's successors returned to traditional beliefs .
Scholars have long debated whether traditional Egyptian religion ever asserted that the multiple gods were , on a deeper level , unified . Reasons for this debate include the practice of syncretism , which might suggest that all the separate gods could ultimately merge into one , and the tendency of Egyptian texts to credit a particular god with power that surpasses all other deities . Another point of contention is the appearance of the word " god " in wisdom literature , where the term does not refer to a specific deity or group of deities . In the early 20th century , for instance , E. A. Wallis Budge believed that Egyptian commoners were polytheistic , but knowledge of the true monotheistic nature of the religion was reserved for the elite , who wrote the wisdom literature . His contemporary James Henry Breasted thought Egyptian religion was instead pantheistic , with the power of the sun god present in all other gods , while Hermann Junker argued that Egyptian civilization had been originally monotheistic and became polytheistic in the course of its history .
In 1971 , Erik Hornung published a study rebutting these views . He points out that in any given period many deities , even minor ones , were described as superior to all others . He also argues that the unspecified " god " in the wisdom texts is a generic term for whichever deity the reader chooses to revere . Although the combinations , manifestations , and iconographies of each god were constantly shifting , they were always restricted to a finite number of forms , never becoming fully interchangeable in a monotheistic or pantheistic way . Henotheism , Hornung says , describes Egyptian religion better than other labels . An Egyptian could worship any deity at a particular time and credit it with supreme power in that moment , without denying the other gods or merging them all with the god that he or she focused on . Hornung concludes that the gods were fully unified only in myth , at the time before creation , after which the multitude of gods emerged from a uniform nonexistence .
Hornung 's arguments have greatly influenced other scholars of Egyptian religion , but some still believe that at times the gods were more unified than he allows . Jan Assmann maintains that the notion of a single deity developed slowly through the New Kingdom , beginning with a focus on Amun @-@ Ra as the all @-@ important sun god . In his view , Atenism was an extreme outgrowth of this trend . It equated the single deity with the sun and dismissed all other gods . Then , in the backlash against Atenism , priestly theologians described the universal god in a different way , one that coexisted with traditional polytheism . The one god was believed to transcend the world and all the other deities , while at the same time , the multiple gods were aspects of the one . According to Assmann , this one god was especially equated with Amun , the dominant god in the late New Kingdom , whereas for the rest of Egyptian history the universal deity could be identified with many other gods . James P. Allen says that coexisting notions of one god and many gods would fit well with the " multiplicity of approaches " in Egyptian thought , as well as with the henotheistic practice of ordinary worshippers . He says that the Egyptians may have recognized the unity of the divine by " identifying their uniform notion of ' god ' with a particular god , depending on the particular situation . "
Egyptian writings describe the gods ' bodies in detail . They are made of precious materials ; their flesh is gold , their bones are silver , and their hair is lapis lazuli . They give off a scent that the Egyptians likened to the incense used in rituals . Some texts give precise descriptions of particular deities , including their height and eye color . Yet these characteristics are not fixed ; in myths , gods change their appearances to suit their own purposes . Egyptian texts often refer to deities ' true , underlying forms as " mysterious " . The Egyptians ' visual representations of their gods are therefore not literal . They symbolize specific aspects of each deity 's character , functioning much like the ideograms in hieroglyphic writing . For this reason , the funerary god Anubis is commonly shown in Egyptian art as a dog or jackal , a creature whose scavenging habits threaten the preservation of buried mummies , in an effort to counter this threat and employ it for protection . His black coloring alludes to the color of mummified flesh and to the fertile black soil that Egyptians saw as a symbol of resurrection .
Most gods were depicted in several ways . Hathor could be a cow , cobra , lioness , or a woman with bovine horns or ears . By depicting a given god in different ways , the Egyptians expressed different aspects of its essential nature . The gods are depicted in a finite number of these symbolic forms , so that deities can often be distinguished from one another by their iconographies . These forms include men and women ( anthropomorphism ) , animals ( zoomorphism ) , and , more rarely , inanimate objects . Combinations of forms , such as gods with human bodies and animal heads , are common . New forms and increasingly complex combinations arose in the course of history . Some gods can only be distinguished from others if they are labeled in writing , as with Isis and Hathor . Because of the close connection between these goddesses , they could both wear the cow @-@ horn headdress that was originally Hathor 's alone .
Certain features of divine images are more useful than others in determining a god 's identity . The head of a given divine image is particularly significant . In a hybrid image , the head represents the original form of the being depicted , so that , as the Egyptologist Henry Fischer put it , " a lion @-@ headed goddess is a lion @-@ goddess in human form , while a royal sphinx , conversely , is a man who has assumed the form of a lion . " Divine headdresses , which range from the same types of crowns used by human kings to large hieroglyphs worn on gods ' heads , are another important indicator . In contrast , the objects held in gods ' hands tend to be generic . Male deities hold was staffs , goddesses hold stalks of papyrus , and both sexes carry ankh signs , representing the Egyptian word for " life " , to symbolize their life @-@ giving power .
The forms in which the gods are shown , although diverse , are limited in many ways . Many creatures that are widespread in Egypt were never used in divine iconography , whereas a few , such as falcons , cobras , and cattle , can each represent many deities . Animals that were absent from Egypt in the early stages of its history were not used as divine images . For instance , the horse , which was only introduced in the Second Intermediate Period ( c . 1650 – 1550 BC ) , never represented a god . Similarly , the clothes worn by anthropomorphic deities in all periods changed little from the styles used in the Old Kingdom : a kilt , false beard , and often a shirt for male gods and a long , tight @-@ fitting dress for goddesses .
The basic anthropomorphic form varies . Child gods are depicted nude , as are some adult gods when their procreative powers are emphasized . Certain male deities are given heavy bellies and breasts , signifying either androgyny or prosperity and abundance . Whereas most male gods have red skin and most goddesses are yellow — the same colors used to depict Egyptian men and women — some are given unusual , symbolic skin colors . Thus the blue skin and paunchy figure of the god Hapi alludes to the Nile flood he represents and the nourishing fertility it brought . A few deities , such as Osiris , Ptah , and Min , have a " mummiform " appearance , with their limbs tightly swathed in cloth . Although these gods resemble mummies , the earliest examples predate the cloth @-@ wrapped style of mummification , and this form may instead hark back to the earliest , limbless depictions of deities .
In official writings , pharaohs are said to be divine , and they are constantly depicted in the company of the deities of the pantheon . Each pharaoh and his predecessors were considered the successors of the gods who had ruled Egypt in mythic prehistory . Living kings were equated with Horus and called the " son " of many deities , particularly Osiris and Ra ; deceased kings were equated with these elder gods . Pharaohs had their own mortuary temples where rituals were performed for them during their lives and after their deaths . But few pharaohs were worshipped as gods long after their lifetimes , and non @-@ official texts portray kings in a human light . For these reasons , scholars disagree about how genuinely most Egyptians believed the king to be a god . He may only have been considered divine when he was performing ceremonies .
However much it was believed , the king 's divine status was the rationale for his role as Egypt 's representative to the gods , as he formed a link between the divine and human realms . The Egyptians believed the gods needed temples to dwell in , as well as the periodic performance of rituals and presentation of offerings to nourish them . These things were provided by the cults that the king oversaw , with their priests and laborers . Yet , according to royal ideology , temple @-@ building was exclusively the pharaoh 's work , as were the rituals that priests usually performed in his stead . These acts were a part of the king 's fundamental role : maintaining maat . The king and the nation he represented provided the gods with maat so they could continue to perform their functions , which maintained maat in the cosmos so humans could continue to live .
Although the Egyptians believed their gods to be present in the world around them , contact between the human and divine realms was mostly limited to specific circumstances . In literature , gods may appear to humans in a physical form , but in real life the Egyptians were limited to more indirect means of communication .
The ba of a god was said to periodically leave the divine realm to dwell in the images of that god . By inhabiting these images , the gods left their concealed state and took on a physical form . To the Egyptians , a place or object that was ḏsr — " sacred " — was isolated and ritually pure , and thus fit for a god to inhabit . Temple statues and reliefs , as well as particular sacred animals , like the Apis bull , served as divine intermediaries in this way . Dreams and trances provided a very different venue for interaction . In these states , it was believed , people could come close to the gods and sometimes receive messages from them . Finally , according to Egyptian afterlife beliefs , human souls pass into the divine realm after death . The Egyptians therefore believed that in death they would exist on the same level as the gods and fully understand their mysterious nature .
Temples , where the state rituals were carried out , were filled with images of the gods . The most important temple image was the cult statue in the inner sanctuary . These statues were usually less than life @-@ size , and made of the same precious materials that were said to form the gods ' bodies . Many temples had several sanctuaries , each with a cult statue representing one of the gods in a group such as a family triad . The city 's primary god was envisioned as its lord , employing many of the residents as servants in the divine household that the temple represented . The gods residing in the temples of Egypt collectively represented the entire pantheon . But many deities — including some important gods as well as those that were minor or hostile — were never given temples of their own , although some were represented in the temples of other gods .
To insulate the sacred power in the sanctuary from the impurities of the outside world , the Egyptians enclosed temple sanctuaries and greatly restricted access to them . People other than kings and high priests were thus denied contact with cult statues . The only exception was during festival processions , when the statue was carried out of the temple but still enclosed in a portable shrine . People did have less direct means of interaction . The more public parts of temples often incorporated small places for prayer , from doorways to freestanding chapels near the back of the temple building . Communities also built and managed small chapels for their own use , and some families had shrines inside their homes . Despite the gulf that separated humanity from the divine , the Egyptians were surrounded by opportunities to approach their gods .
Egyptian gods were involved in human lives as well as in the overarching order of nature . This divine influence applied mainly to Egypt , as foreign peoples were traditionally believed to be outside the divine order . But in the New Kingdom , when other nations were under Egyptian control , foreigners were said to be under the sun god 's benign rule in the same way that Egyptians were .
Thoth , as the overseer of time , was said to allot fixed lifespans to both humans and gods . Other gods were also said to govern the length of human lives , including Meskhenet , who presided over birth , and Shai , the personification of fate . Thus the time and manner of death was the main meaning of the Egyptian concept of fate , although to some extent these deities governed other events in life as well . Several texts refer to gods influencing or inspiring human decisions , working through a person 's " heart " — the seat of emotion and intellect in Egyptian belief . Deities were also believed to give commands , instructing the king in the governance of his realm and regulating the management of their temples . Egyptian texts rarely mention direct commands given to private persons , and these commands never evolved into a set of divinely enforced moral codes . Morality in ancient Egypt was based on the concept of maat , which , when applied to human society , meant that everyone should live in an orderly way that did not interfere with the well @-@ being of other people . Because deities were the upholders of maat , morality was connected with them . For example , the gods judged humans ' moral righteousness after death , and by the New Kingdom , a verdict of innocence in this judgment was believed to be necessary for admittance into the afterlife . But in general , morality was based on practical ways to uphold maat in daily life , rather than on strict rules that the gods laid out .
Humans had free will to ignore divine guidance and the behavior required by maat , but by doing so they could bring divine punishment upon themselves . A deity carried out this punishment using its ba , the force that manifested the god 's power in the human world . Natural disasters and human ailments were seen as the work of angry divine bas . Conversely , the gods could cure righteous people of illness or even extend their lifespans . Both these types of intervention were eventually represented by deities : Shed , who emerged in the New Kingdom to represent divine rescue from harm , and Petbe , an apotropaic god from the late eras of Egyptian history who was believed to avenge wrongdoing .
Egyptian texts take different views on whether the gods are responsible when humans suffer unjustly . Misfortune was often seen as a product of isfet , the cosmic disorder that was the opposite of maat , and therefore the gods were not guilty of causing evil events . Some deities who were closely connected with isfet , such as Set , could be blamed for disorder within the world without placing guilt on the other gods . But some writings do accuse the deities of causing human misery , while others give theodicies in the gods ' defense . Beginning in the Middle Kingdom , several texts connected the issue of evil in the world with a myth in which the creator god fights a human rebellion against his rule and then withdraws from the earth . Because of this human misbehavior , the creator is distant from his creation , allowing suffering to exist . New Kingdom writings do not question the just nature of the gods as strongly as those of the Middle Kingdom . They emphasize humans ' direct , personal relationships with deities and the gods ' power to intervene in human events . People in this era put faith in specific gods who they hoped would help and protect them through their lives . As a result , upholding the ideals of maat grew less important than gaining the gods ' favor as a way to guarantee a good life . Even the pharaohs were regarded as dependent on divine aid , and after the New Kingdom came to an end , government was increasingly influenced by oracles communicating the gods ' will .
Official religious practices , which maintained maat for the benefit of all Egypt , were related to , but distinct from , the religious practices of ordinary people , who sought the gods ' help for their personal problems .
Official religion involved a variety of rituals , based in temples . Some rites were performed every day , whereas others were festivals , taking place at longer intervals and often limited to a particular temple or deity . The gods received their offerings in daily ceremonies , in which their statues were clothed , anointed , and presented with food as hymns were recited in their honor . These offerings , in addition to maintaining maat for the gods , celebrated deities ' life @-@ giving generosity and encouraged them to remain benevolent rather than vengeful .
Festivals often involved a ceremonial procession in which a cult image was carried out of the temple in a barque @-@ shaped shrine . These processions served various purposes . In Roman times , when local deities of all kinds were believed to have power over the Nile inundation , processions in many communities carried temple images to the riverbanks so the gods could invoke a large and fruitful flood . Processions also traveled between temples , as when the image of Hathor from Dendera Temple visited her consort Horus at the Temple of Edfu . Rituals for a god were often based in that deity 's mythology . Such rituals were meant to be repetitions of the events of the mythic past , renewing the beneficial effects of the original events . In the Khoiak festival in honor of Osiris , his death and resurrection were ritually reenacted at a time when crops were beginning to sprout . The returning greenery symbolized the renewal of the god 's own life .
Personal interaction with the gods took many forms . People who wanted information or advice consulted oracles , run by temples , that were supposed to convey gods ' answers to questions . Amulets and other images of protective deities were used to ward off the demons that might threaten human well @-@ being or to impart the god 's positive characteristics to the wearer . Private rituals invoked the gods ' power to accomplish personal goals , from healing sickness to cursing enemies . These practices used heka , the same force of magic that the gods used , which the creator was said to have given to humans so they could fend off misfortune . The performer of a private rite often took on the role of a god in a myth , or even threatened a deity , to involve the gods in accomplishing the goal . Such rituals coexisted with private offerings and prayers , and all three were accepted means of obtaining divine help .
Prayer and private offerings are generally called " personal piety " : acts that reflect a close relationship between an individual and a god . Evidence of personal piety is scant before the New Kingdom . Votive offerings and personal names , many of which are theophoric , suggest that commoners felt some connection between themselves and their gods . But firm evidence of devotion to deities became visible only in the New Kingdom , reaching a peak late in that era . Scholars disagree about the meaning of this change — whether direct interaction with the gods was a new development or an outgrowth of older traditions . Egyptians now expressed their devotion through a new variety of activities in and around temples . They recorded their prayers and their thanks for divine help on stelae . They gave offerings of figurines that represented the gods they were praying to , or that symbolized the result they desired ; thus a relief image of Hathor and a statuette of a woman could both represent a prayer for fertility . Occasionally , a person took a particular god as a patron , dedicating his or her property or labor to the god 's cult . These practices continued into the latest periods of Egyptian history . These later eras saw more religious innovations , including the practice of giving animal mummies as offerings to deities depicted in animal form , such as the cat mummies given to the feline goddess Bastet . Some of the major deities from myth and official religion were rarely invoked in popular worship , but many of the great state gods were important in popular tradition .
The worship of some Egyptian gods spread to neighboring lands , especially to Canaan and Nubia during the New Kingdom , when those regions were under pharaonic control . In Canaan , the exported deities , including Hathor , Amun , and Set , were often syncretized with native gods , who in turn spread to Egypt . The Egyptian deities may not have had permanent temples in Canaan , and their importance there waned after Egypt lost control of the region . In contrast , many temples to the major Egyptian gods and deified pharaohs were built in Nubia . After the end of Egyptian rule there , the imported gods , particularly Amun and Isis , were syncretized with local deities and remained part of the religion of Nubia 's independent Kingdom of Kush . These gods were incorporated into the Nubian ideology of kingship much as they were in Egypt , so that Amun was considered the divine father of the king and Isis and other goddesses were linked with the Nubian queen , the kandake . Some deities reached farther . Taweret became a goddess in Minoan Crete , and Amun 's oracle at Siwa Oasis was known to and consulted by people across the Mediterranean region .
Under the Greek Ptolemaic Dynasty and then Roman rule , Greeks and Romans introduced their own deities to Egypt . These newcomers equated the Egyptian gods with their own , as part of the Greco @-@ Roman tradition of interpretatio graeca . But the worship of the native gods was not swallowed up by that of foreign ones . Instead , Greek and Roman gods were adopted as manifestations of Egyptian ones . Egyptian cults sometimes incorporated Greek language , philosophy , iconography , and even temple architecture . Meanwhile , the cults of several Egyptian deities — particularly Isis , Osiris , Anubis , the form of Horus named Harpocrates , and the fused Greco @-@ Egyptian god Serapis — were adopted into Roman religion and spread across the Roman Empire . Roman emperors , like Ptolemaic kings before them , invoked Isis and Serapis to endorse their authority , inside and outside Egypt . In the empire 's complex mix of religious traditions , Thoth was transmuted into the legendary esoteric teacher Hermes Trismegistus , and Isis , who was venerated from Britain to Mesopotamia , became the focus of a Greek @-@ style mystery cult . Isis and Hermes Trismegistus were both prominent in the Western esoteric tradition that grew from the Roman religious world .
Temples and cults in Egypt itself declined as the Roman economy deteriorated in the third century AD , and beginning in the fourth century , Christians suppressed the veneration of Egyptian deities . The last formal cults , at Philae , died out in the fifth or sixth century . Most beliefs surrounding the gods themselves disappeared within a few hundred years , remaining in magical texts into the seventh and eighth centuries . But many of the practices involved in their worship , such as processions and oracles , were adapted to fit Christian ideology and persisted as part of the Coptic Church . Given the great changes and diverse influences in Egyptian culture since that time , scholars disagree about whether any modern Coptic practices are descended from those of pharaonic religion . But many festivals and other traditions of modern Egyptians , both Christian and Muslim , resemble the worship of their ancestors ' gods .
South of Heaven is the fourth studio album by American thrash metal band Slayer . Released on July 5 , 1988 , the album was the band 's second collaboration with record producer Rick Rubin , whose production skills on Slayer 's previous album Reign in Blood had helped the band 's sound evolve .
South of Heaven was Slayer 's second album to enter the Billboard 200 , and its last to be released by Def Jam Recordings , although the album became an American Recordings album after Rick Rubin ended his partnership with Russell Simmons . It was one of only two Def Jam titles to be distributed by Geffen Records through Warner Bros. Records because of original distributor Columbia Records ' refusal to release work by the band . The release peaked at number 57 and in 1992 was awarded a gold certification by the Recording Industry Association of America .
In order to offset the pace of the group 's previous album , Slayer deliberately slowed down the album 's tempo . In contrast to their previous albums , the band utilized undistorted guitars and toned @-@ down vocals . While some critics praised this musical change , others — more accustomed to the style of earlier releases — were disappointed . The songs " Mandatory Suicide " and the title track , however , have become permanent features of the band 's live setlist .
South of Heaven was recorded in Los Angeles , California with Reign in Blood producer Rick Rubin . PopMatters reviewer Adrien Begrand observed that Rubin 's production " shoves [ Dave ] Lombardo 's drumming right up front in the mix . " Guitarist Jeff Hanneman has since said that South of Heaven was the only album the band members discussed before writing the music . Aware that they " couldn 't top Reign in Blood " , and that whatever they recorded would be " compared to that album " , he believed they " had to slow down " , something Slayer had never done on albums before , or since . Guitarist Kerry King cited the need to " keep people guessing " as another reason for the musical shift . " In order to contrast the aggressive assault put forth on Reign in Blood , Slayer consciously slowed down the tempo of the album as a whole " , according to Slayer 's official biography . " They also added elements like undistorted guitars and toned @-@ down vocal styles not heard on previous albums . "
King has since been critical of his performance , which he describes as his " most lackluster . " King attributes this to the fact he had recently married , and moved to Phoenix , Arizona . Describing himself as " probably the odd man out at that point " , he admitted he " didn ’ t participate as much because of that . " Hanneman said : " We go through dry spells sometimes , but the good thing about having two guitar players that can write music is that you are never gonna go without . I guess at that time , Kerry was hitting a dry spell . " King has also been critical of the album in general , describing it as one of his least favorite Slayer albums . He feels vocalist Tom Araya moved too far away from his regular vocal style , and " added too much singing . " Drummer Dave Lombardo has since observed : " There was fire on all the records , but it started dimming when South of Heaven came into the picture . And that 's me personally . Again , I was probably wanting something else . "
Judas Priest 's " Dissident Aggressor " is the only cover version to appear on a Slayer studio album . The song was chosen due to its war @-@ themed lyrics . Hanneman described the track as " more just like one of those odd songs that a lot of people didn 't know , but it was a favorite of Kerry and I , so we just picked that one . " Meanwhile , " Cleanse the Soul " has been heavily criticized by King who said that he hates the track : " That 's one of the black marks in our history , in my book . I just fucking think it 's horrible . [ Laughs ] I hate the opening riff . It 's what we call a ' happy riff . ' It 's just like ' la @-@ lala @-@ la @-@ la @-@ la . ' I can 't see myself playing it , but after that , where it gets heavier , I like that section . If we ever did a medley , I 'd put part of that in there . " The Slayer boxset Soundtrack to the Apocalypse featured , along with four songs of the album , an early version of the title track , recorded at Hanneman 's home .
Artist Larry Carroll and Illustrator Howard Schwartzberg designed the cover artwork for South of Heaven , having designed the artwork for Slayer 's previous album Reign in Blood . Photographer Glen E. Friedman took the promotional shot which surfaced as the back cover of South of Heaven around the time of 1986 's Reign in Blood . Lombardo felt it made Slayer seem as though they " had matured a little bit " , while Friedman himself deemed it " a really cool back cover " and " one of the most classic shots of them [ Slayer ] ever . "
South of Heaven was released on July 5 , 1988 , and was the final Slayer album distributed via Def Jam Records . When label co @-@ founders Russell Simmons and Rubin parted ways , Slayer signed to Rubin 's newly founded Def American Recordings label . The album peaked at number 57 on the Billboard 200 album chart , and on November 20 , 1992 , became Slayer 's second album to be certified gold in the United States . South of Heaven was awarded silver certification in the United Kingdom on January 1 , 1993 , Slayer 's first record to do so in that country . Slayer 's official biography states that " some critics praised the album as demonstrating Slayer 's desire to grow musically and avoid repeating themselves . " Alex Henderson of AllMusic described the record as " disturbing and powerful , " while Joe Matera of Ultimate Guitar deemed the album a slight departure ; he wrote that while the pace was slowed down , it " didn 't sacrifice any of the heaviness inherent in Slayer 's music . "
Reviewing the 2003 Slayer box set Soundtrack to the Apocalypse , Adrien Begrand of PopMatters described the album as " their most underrated , and on this set , its five selections show how highly the band thinks of the record . " KNAC.com 's Peter Atkinson was also positive , saying the album has a " grandiosity and imposing presence " which makes the record " so magnificent . " Grave 's Ola Lindgren and Bolt Thrower 's Karl Willetts both rate South of Heaven as amongst the top five albums of all time , while Max Kolesne of Brazilian death metal group Krisiun remembers hearing the song " Silent Scream " for the first time : " It just blew me away . It was like fast double @-@ bass , fast kicks during the whole song . That was very inspiring for me . " When discussing Slayer in an October 2007 interview , Evile frontman Matt Drake stated that while Reign in Blood " was just speed " , South of Heaven proved that the group could write " slow material as well . " Metal Forces reviewer gives " the band credit for at least making an effort to try something new and not being afraid to experiment at such a crucial stage of their career " , creating " one of the more original sounding thrash / speed metal albums he heard in a long while " . He remarks , however , that " if you ’ re expecting to hear Reign in Blood Part Two , you ’ ll be in for a major disappointment " .
Kim Neely of Rolling Stone dismissed the album as " genuinely offensive satanic drivel . " Slayer 's official biography states : " The new sounds disappointed some of the band 's fans who were more accustomed to the style of earlier releases . " Michael Roberts of Westworld Online said this was due to some of the numbers moving " at the sludgier speed of Black Sabbath . " Araya commented that the " album was a late bloomer — it wasn 't really received well , but it kind of grew on everybody later . "
The title track and the song " Mandatory Suicide " have received various cover interpretations , particularly on Slayer tribute albums . Toni Ferguson recorded string quartet adaptations of both tracks on the album The String Quartet Tribute to Slayer : The Evil You Dread , with the former cover being described as having " menacing chord shifts " by AllMusic 's Johnny Loftus .
1995 Slayer tribute album Slatanic Slaughter featured three tracks which originally appeared on South of Heaven , with the title track , " Mandatory Suicide " and " Spill the Blood " interpreted by Cemetary , Crown of Thorns and Grope respectively . Its 1998 follow up Slatanic Slaughter , Vol . 2 only featured two tracks originally from the album ; namely " Silent Scream " arranged by Vader and " Read Between the Lies " interpreted by Anathema . 1999 's Straight to Hell : A Tribute to Slayer collected four Slayer renditions which originated on the album , with versions of South of Heaven performed by Abaddon ( Venom ) and Electric Hellfire Club , " Mandatory Suicide " cut by Chapter 7 and " Behind the Crooked Cross " adapted by Gigantor . 2006 Argentine tribute album Al Sur Del Abismo ( Tributo Argentino A Slayer ) saw Nafak and Climatic Terra also respectively cover " South of Heaven " and " Mandatory Suicide " . Hatebreed covered the song " Ghosts of War " for their 2009 cover album For the Lions . They released a music video for it also . Korn has covered the title track at least twice live , once with Kid Rock on vocals and another using the intro to follow into one of their songs live .
The title track itself has also been covered by Integrity 2000 , Modest Mouse and Califone , Pro @-@ Pain , and Universe Eye . Polish death metal band Decapitated covered the song " Mandatory Suicide " on their first full @-@ length album Winds of Creation . In 2003 , " Silent Scream " was covered by Children of Bodom for their album Hate Crew Deathroll in his UK version . Hardcore Punk band , The Mongoloids opened their set with the beginning of " South of Heaven " at Heartfest 7 on May 4 , 2013
Two songs taken from the album ( " Mandatory Suicide " and " South of Heaven " ) have become near constant fixtures in the band 's live setlist , notching up appearances on the following : the live DVDs Live Intrusion , War at the Warfield , Still Reigning , Soundtrack to the Apocalypse 's deluxe edition 's bonus live disc , and the live double album Decade of Aggression . Lombardo guested with Finnish cellist group Apocalyptica on a live medley of the two tracks at 1998 's Headbanger 's Heaven festival in the Netherlands . Adrien Begrand of PopMatters described " South of Heaven " as " an unorthodox set opener in theory " , noting " the song went over like a megaton bomb detonating the place : dozens of inverted crosses projected behind the high drum riser , the sinewy opening notes kicked in , followed by an overture of bass , cymbal crashes , and tom fills , leading up to the slowly building crescendo " in a concert review . Lombardo remembers listening to a live rendition of " South of Heaven " and thinking " ‘ Man ! There 's just so much groove in that song . ’ To my kids I was saying , ‘ Listen to that ! Listen to how groovy that is ! ’ And it 's heavy . " A rare live version of the track featured on the JÄGERMUSIC Rarities 2004 promotional CD , given away to attendees at the Spring 2004 Jägermeister Music Tour . A live rendition of " South of Heaven " was also included on a bonus DVD which came with the group 's 2007 re @-@ release of ninth studio album Christ Illusion , shot in Vancouver , British Columbia during 2006 's Unholy Alliance tour .
" Behind the Crooked Cross " is rarely played live as Hanneman hates the track , though King has always wanted to play it " because it 's got a cool intro " despite it not being his favorite song . King said " that 's fine " when speaking of the situation , noting " there are songs that he wants to play that I always shoot down . " " Ghosts of War " isn 't King 's favorite song either , which he attests " everybody always wants to hear " performed live . He confessed ; " I like the ending , you know , I like the big heavy part and I always say , ‘ Let 's put the heavy ending at the end of " Chemical Warfare " and just do the last half . ’ But I could never make that fly . "
Slayer has toyed with the idea of creating a live set mixed with selections from the album and 1990 's Seasons in the Abyss , though Hanneman said it 's something which hasn 't been " seriously considered . " Metal Maniacs asked Slayer in a 2006 interview whether they would consider playing South of Heaven in the footsteps of the Still Reigning tour , to which Araya replied , " It 's becoming a trendy thing now . I don 't know . We have some really cool albums , but I don 't think we 'll ever do that again . " King was equally unsure , commenting , " Probably not . And I just don 't like enough songs off South of Heaven . "
Kerry King – lead and rhythm guitar , backing vocals
General aviation in the United Kingdom has been defined as a civil aircraft operation other than a commercial air transport flight operating to a schedule or military aviation . Although the International Civil Aviation Organization ( ICAO ) excludes any form of remunerated aviation from its definition , some commercial operations are often included within the scope of general aviation ( GA ) in the UK . The sector operates business jets , rotorcraft , piston and jet @-@ engined fixed @-@ wing aircraft , gliders of all descriptions , and lighter than air craft . Public transport operations include business ( or corporate ) aviation and air taxi services , and account for nearly half of the economic contribution made by the sector . Other commercial GA activities are aerial work , such as surveying and air ambulances , and flight training , which plays an important role in the supply of pilots to the commercial air transport ( CAT ) industry . Private flying is conducted for personal transport and recreation . It includes a strong vintage aircraft movement , and encompasses a range of air sports , such as racing , aerobatics , and parachuting , at which British teams and individuals have succeeded in international competition .
Of the 21 @,@ 000 civil aircraft registered in the UK , 96 per cent are engaged in GA operations , and annually the GA fleet accounts for between 1 @.@ 25 and 1 @.@ 35 million hours flown . The single most common class of aircraft is the fixed @-@ wing light aircraft associated with traditional GA , but the main area of growth over the last 20 years has been in the use of more affordable aircraft , such as microlights , amateur built aeroplanes , and smaller helicopters . There are 28 @,@ 000 Private Pilot Licence holders , and 10 @,@ 000 certified glider pilots . Some of the 19 @,@ 000 pilots who hold professional licences are also engaged in GA activities . Although GA operates from more than 1 @,@ 800 aerodromes and landing sites , ranging in size from large regional airports to farm strips , over 80 per cent of GA activity is conducted at 134 of the larger aerodromes . The GA industry , which is around 7 per cent the size of its CAT cousin , employs 12 @,@ 000 people , and contributes £ 1 @.@ 4 billion to the UK economy .
GA is regulated by the Civil Aviation Authority ( CAA ) , although regulatory powers are being increasingly transferred to the European Aviation Safety Agency ( EASA ) . The main focus is on standards of airworthiness and pilot licensing , and the objective is to promote high standards of safety . At the lighter end of the GA spectrum some regulatory authority is devolved to representative bodies , and gliding is in transition from a self @-@ regulatory model to more formal governance by EASA . Airspace regulation necessary to protect an increasing number of CAT operations has reduced the area in which GA flights can be freely conducted . The growth in CAT is also making access to larger airports more difficult for the GA sector , and smaller aerodromes are vulnerable to closure and re @-@ development for more profitable uses . The UK planning system has no remit to consider the national significance of GA public transport operations , and generally does not favour the development of smaller aerodromes catering to the GA market . The planning process has become a mechanism for addressing local aerodrome @-@ related environmental issues which , particularly regarding noise , are the main subjects of public criticism levelled at GA .
The International Civil Aviation Organization ( ICAO ) defines general aviation ( GA ) as " an aircraft operation other than a commercial air transport operation or an aerial work operation . " It defines commercial air transport ( CAT ) as " an aircraft operation involving the transport of passengers , cargo or mail for remuneration or hire " , and aerial work as " an aircraft operation in which an aircraft is used for specialized services such as agriculture , construction , photography , surveying , observation and patrol , search and rescue , aerial advertisement , etc . "
Organisations in the United Kingdom ( UK ) describe GA in less restrictive terms that include elements of commercial aviation . The British Business and General Aviation Association interprets it to be " all aeroplane and helicopter flying except that performed by the major airlines and the Armed Services " . The General Aviation Awareness Council applies the description " all Civil Aviation operations other than scheduled air services and non @-@ scheduled air transport operations for remuneration or hire " . For the purposes of a strategic review of GA in the UK , the Civil Aviation Authority ( CAA ) defined the scope of GA as " a civil aircraft operation other than a commercial air transport flight operating to a schedule " , and considered it necessary to depart from the ICAO definition and include aerial work and minor CAT operations .
The first aerodrome in the UK was established by the Aero Club at Muswell Manor on the Isle of Sheppey , and in May 1909 it was the venue of the first flight conducted in the country by a British pilot , John Moore @-@ Brabazon . In 1910 the Aero Club was granted the Royal prefix , took responsibility for controlling all private flying in the UK , and started issuing the first British pilot licences . The introduction of the de Havilland DH.60 Moth in 1925 revolutionised light aviation , and the Royal Aero Club , recognising the " vital necessity of promoting civil flying " , formed the Light Aeroplane Club scheme . Between 1925 and 1939 around 60 flying clubs were started , and more than 5 @,@ 000 pilots were trained .
During World War II civil aerodromes were taken over for military use , existing military airfields were expanded , and new ones were built . This resulted in a significant inventory of facilities becoming available after the war . Pre @-@ war civil aerodromes , for example Sywell , were returned to civilian use . Surplus military airfields were closed , and in some cases , for example Beccles , subsequently re @-@ opened as civil aerodromes . The Ministry of Civil Aviation was created to regulate all civil aviation in the UK , and this task remained the responsibility of government departments until the establishment of the independent CAA in 1972 .
With an expanded infrastructure in place , GA became established after the war when manufacturers such as Cessna and Piper introduced light aircraft designed for the private market . The Cessna 172 , developed from the late 1940s Cessna 170 , was introduced in 1956 , and became the world 's best selling single @-@ engine aeroplane . Single piston @-@ engine aircraft are still the most common class of aircraft in the UK GA fleet . The development of the Rogallo wing in the 1950s fostered the development of hang @-@ gliding during the 1960s and 1970s . The 1960s also saw experiments with motorised hang gliders , but it was not until the 1970s that this blend of technologies started to mature , resulting in the birth of the microlight movement . Another milestone in the development of GA was the 1964 introduction of the Learjet 23 . Although it was not the first business jet , it popularised corporate aviation , and established the personal jet as a " whole new class of aircraft " .
The GA sector operates a range of aircraft , including balloons and airships , gliders , hang gliders , paragliders , microlights , gyrocopters , helicopters , amateur built and mass @-@ produced light aircraft , ex @-@ military aircraft , and business jets . Flights can be broadly categorised as public transport , aerial work , and private flying , the first two of which are commercial activities .
Commercial operations are remunerated activities which fall within the ICAO definition of CAT . Some are , however , closely aligned to , and considered part of , the GA sector . Public transport operations are non @-@ scheduled , on @-@ demand services flying between points specified by the customer , providing a more flexible service than airline travel . Air taxi operations offer charter services for third parties , and business or corporate aviation uses company @-@ owned aircraft to transport employees and clients . Aircraft used in these operations include business jets , helicopters , and twin piston @-@ engine aeroplanes carrying between six and ten people . An example of this type of operation is the transport by helicopter of spectators to the British Formula One grand prix at Silverstone . This involves so many flights that , according to Cranfield Aviation Services , on race day the heliport is temporarily the world 's busiest airport . Aerial work is a small but important component of the commercial GA sector , characterised in its simplest form as remunerated non @-@ transport activities , such as surveying , crop spraying , and emergency services work ( air ambulance and police ) .
Flying schools are commercial businesses engaged in the training of pilots , both for recreational purposes and for those intending to fly professionally . They make widespread use of fixed @-@ wing light aircraft associated with traditional GA , not only for flying lessons but also as club aircraft rented out to qualified pilots for recreational flights . School @-@ owned aircraft account for a significant amount of GA activity , both in terms of hours flown and aircraft movements . The pilot training element is regarded by the GA community as a key benefit that is critical to the supply of pilots for the airline industry . It is claimed by the General Aviation Awareness Council that 60 – 70 per cent of professional pilots have self @-@ financed their flight training at GA schools , and one UK airline operator has stated that the industry must rely on 70 – 80 per cent of new pilots coming from the GA sector . The CAA estimates that between 1996 and 2006 the number of new professional pilots following the unsponsored training route rose from 48 per cent to 59 per cent . The counter argument to this claim is that pilots can be trained outside of the UK , and that the airline industry is not therefore dependent on a healthy GA sector in the UK for its supply of pilots . The CAA concludes that a severe reduction in GA would give " some merit to the argument that pilot recruitment would be threatened " , but that the data on flying hours " does not support such a gloomy outlook . " Of course , reliance on other countries for pilot training means that the UK foregoes the economic benefit of the training activity .
Private flying can be for both recreational purposes and personal transport , using aircraft that are owned individually , collectively as part of a syndicate , or rented from a flying club . A survey of pilots conducted between 2001 and 2002 indicated that the most common purposes of recreational flights were local flights near the base aerodrome , visits to other aerodromes , and day trips away . Half of all flights landed at the same aerodrome they departed from , and only 9 per cent involved an overnight stay away from home .
Private flying is most associated with the traditional form of factory @-@ produced two and four @-@ seater , single piston @-@ engine training and touring aircraft . Examples of these are the Cessna 152 , Cessna 172 , and Piper PA28 Cherokee , all with their origins in the 1950s , and the more modern designs of Cirrus . The average cost per hour to fly such aircraft has been estimated to be £ 133 , compared to an estimated £ 77 per hour for gliders , and a reported £ 35 per hour for microlights . Recent trends have seen an increase in the use of microlights , and also in recreational helicopter flying following the introduction of smaller and cheaper machines such as the Robinson R22 and R44 . Another growth area in private flying in recent years has been in the use of amateur built aircraft , such as the Van 's Aircraft RV @-@ 4 and the Europa .
There is a strong vintage aircraft movement in the UK , with two @-@ thirds of the 500 registered historic aircraft active . These cover the whole spectrum of civil and military aviation , examples being the de Havilland Dragon Rapide airliner of the 1930s , and the World War II ( WWII ) Spitfire fighter . There are many post @-@ WWII aircraft which could also be considered historic under a looser definition , including for example 60 ex @-@ military jets such as the Hawker Hunter . Historic aircraft are regular exhibits at air displays , which are claimed to be the second most popular spectator activity after football in the UK .
Competitive gliding in the UK takes place between May and September . Regionals are local competitions , organised and run by one of the bigger gliding clubs in the region , and represent the entry level to glider racing . Races are handicapped according to glider performance , and normally take place over nine days . Success in the regionals allows pilots to progress to the nationals , where there are five classes of competition . These are based on glider performance , the lowest being club class , and then progressing through standard ( maximum 15 metres ( 49 ft ) wingspan , and flaps not permitted ) , 15 metres ( 49 ft ) ( as standard , but flaps are permitted ) , 18 metres ( 59 ft ) ( maximum 18 metres ( 59 ft ) wingspan ) , and finally open @-@ class ( no restrictions ) . Success at national level can lead to a place in the national team and competition at international level . In 2007 the British gliding team was ranked number one , and British pilots took two women 's world championships and the open class European championship .
Handicapped air racing is open to any propeller @-@ driven aircraft capable of maintaining a minimum speed of 100 miles ( 160 km ) per hour in level flight . Races are a case of " fly low , fly fast , turn left " , consisting of 4 – 5 laps round a 20 – 25 mile ( 32 – 40 km ) circuit . Faster aircraft are handicapped by starting after slower aircraft , the intention being that the race concludes with all aircraft diving for the finish line together . There are up to 16 races per year , conducted at airfields in the UK , France and the Channel Islands , for prizes that include the Schneider Trophy and King 's Cup , and the season culminates with the British Air Racing and European Air Racing Championships .
Aerobatic competitions take place for both powered aircraft and gliders , with up to 30 events each year in the UK and Ireland . Starting at the Beginner level , pilots can move up to Standard ( powered aircraft ) or Sports ( glider ) levels , and then on to Intermediate , Advanced , and finally Unlimited classes . Each step up requires a wider repertoire of aerobatic figures and progressively more performance from the aircraft . National championships are awarded annually at Standard / Sports , Intermediate , Advanced ( powered aircraft only ) , and Unlimited levels , and pilots who have reached Advanced and Unlimited levels are eligible for selection to represent the UK in international competition .
Parachute competitions are held at club , regional , national and international levels , and include the disciplines of accuracy landings , freefall gymnastics , formation skydiving , canopy formation , freestyle and freeflying , and skysurfing . British teams consistently win medals in canopy formation world championships , and a British team took the 2006 world championship in women 's 4 @-@ way formation skydiving .
Aerodrome is a collective term for any location from which flying operations take place , although more specific terminology can be used to characterise its purpose . The CAA strategic review of GA applies the term airport to locations which predominantly support large scale commercial operations , and airfield to locations which predominantly support GA operations . The General Aviation Small Aerodrome Research Study ( GASAR ) analysed 687 aerodromes in England which come under the scope of GA , classifying 374 into six types . These range in size from regional airports to the smallest farm strip , although 84 per cent of GA flights operate from 134 of the larger aerodromes in the first four categories .
The factors used in determining how an individual aerodrome is categorised by the GASAR study are based broadly on size and facilities . The six types of aerodrome are described , in size order , as : regional airports ( e.g. East Midlands ) ; major GA airports ( e.g. Oxford ) ; developed GA airfields ( e.g. Andrewsfield ) ; basic GA airfields ( e.g. Rufforth ) ; developed airstrips ( e.g. Tilstock ) ; and basic airstrips ( e.g. Chilbolton in Hampshire ) . The actual criteria used to categorise aerodromes were complex , using 28 different parameters , backed up with a peer review by experienced GA pilots .
Airports generally have long , fully lit , hard @-@ surfaced runways , full air traffic control , and navigation and landing aids . They are usually located on urban fringes , support commercial and business operations , and often exclude certain types of light aircraft . At the more rurally located airfields , the lighter end of aviation , such as microlight and gliding activities , becomes increasingly prevalent , and there are few or no commercial operations other than flying schools . At this level runways are generally shorter , and grass surfaces are increasingly common . Navigation aids are increasingly scarce , being more basic where they are available , and informal ground to air radio communication replaces air traffic control . The smallest airfields are too small to feature on general purpose Ordnance Survey ( OS ) maps , and lack basic facilities such as fuel and maintenance . The majority of airstrips are basically single short grass runways with no supporting facilities , although the presence of a hangar is not uncommon at the larger examples . They do not feature on OS maps , and are owned by private clubs or , more commonly , individuals .
Most aerodromes used for public transport operations are required to be licensed by the CAA . To be granted a licence an aerodrome operator must satisfy the CAA that : the physical conditions at the aerodrome , and its environs , are acceptable ; the scale of equipment , and facilities provided , are adequate for the flying activities which are expected to take place ; an effective safety management system is in place ; and that staff are competent and , where necessary , suitably qualified . Aerodromes classified as developed GA airfields or larger by the GASAR study are , with few exceptions , licensed . Only two basic GA airfields , Silverstone and Duxford , are licensed , and all airstrips are unlicensed . The Light Aviation Airports Study Group , a joint CAA @-@ industry initiative , was established in 2005 to review the regulation of light aviation aerodromes . A particular focus of this group was a review of the restrictions placed on unlicensed aerodromes . The group concluded that the requirement for public transport operations to be conducted only from licensed aerodromes should be further reviewed in the context of corresponding international and European requirements . It also recommended that restrictions on flight training at unlicensed aerodromes should be lifted , and this was permitted from April 2010
There are an estimated 27 @,@ 000 civil aircraft registered in the UK , 96 per cent of which are engaged in GA activities . In 2005 the GA fleet comprised 9 @,@ 000 fixed @-@ wing aircraft , 4 @,@ 100 microlights , 1 @,@ 300 helicopters , 1 @,@ 800 airships / balloons , 2 @,@ 500 gliders and some 7 @,@ 000 hang gliders . Estimates put the number of foreign @-@ registered GA aircraft based in the UK at 900 .
The number of pilots licensed by the CAA to fly powered aircraft in 2005 was 47 @,@ 000 , of whom 28 @,@ 000 held a Private Pilot Licence . The remainder held professional pilot licences , either a Commercial Pilot Licence or an Airline Transport Pilot Licence , although not all of these would be engaged in GA activities . In addition , there are 10 @,@ 000 active glider pilots , and estimates put the membership of aviation @-@ related sport and recreational associations at 36 @,@ 000 .
The number of aerodromes that support GA in the UK is difficult to establish with certainty . Pooleys 2008 United Kingdom Flight Guide lists 355 , and the Airplan Flight Equipment UK VFR Flight Guide 2008 lists nearly 500 . Lockyears Farm ' Strips ' and Private Airfields Flight Guide lists more than 300 landing sites . The GASAR study estimates 1 @,@ 100 formal flying sites in England alone , a figure which includes 400 sites known to planning authorities but not included in flight guides . It estimates another 759 informal sites known only to land owners , customs , and members of the enthusiast group Air @-@ Britain .
The sector was estimated to employ nearly 12 @,@ 000 people and directly contribute £ 1 @.@ 4 billion to the UK economy in 2005 , making it roughly seven per cent of the size of the CAT industry . Nearly half of the economic contribution was generated by business aviation .
Most sectors of GA for which data are available have experienced growth in aircraft numbers and hours flown over the last two decades . The lighter end of the GA spectrum : microlights , amateur built , and airships and balloons , have in particular shown strong growth , although the last of these activities was severely curtailed during the foot @-@ and @-@ mouth outbreak in 2001 , when access to farmland was denied . After strong growth in the late 1980s , traditional flying has shown a slight decline recently , reflecting a move amongst recreational flyers towards microlight aircraft , and increased numbers of foreign @-@ registered aircraft . Recreational helicopter usage has grown primarily due to the introduction of smaller and cheaper aircraft . Glider activity has remained relatively static , although there has been a gradual increase in the number of self @-@ launching motor gliders .
Business aviation has shown strong growth , although the numbers of aircraft on the UK register have declined . This reflects a shift away from turboprop aircraft towards foreign @-@ registered business jets based in the UK , which are estimated to be growing in numbers . However , twin piston @-@ engined aircraft numbers have declined significantly , reflecting pressures on the light air @-@ taxi segment from increasingly flexible and cheaper scheduled services , and a more sophisticated corporate charter business . The amount of flight training conducted by UK schools has declined , largely at the hands of competition from foreign schools , which benefit from lower costs and better weather .
Since 1990 the total number of hours flown annually by the GA sector has remained in the range 1 @.@ 25 – 1 @.@ 35 million , the dominant sector being traditional GA flying , which accounts for 0 @.@ 6 million per year . An overall increase in aircraft numbers combined with nil growth in hours flown has brought the annual average utilisation per aircraft down from 157 hours in 1984 to 103 hours in 2002 . The decline in asset utilisation has led to speculation that the economic health of the GA industry is weakening , though the lack of data on profitability makes this difficult to confirm .
The objective of regulation is to " promote high standards of safety in all aspects of aviation " , and this is the main area of interaction between the CAA and the GA sector . Efforts focus on assuring appropriate standards of airworthiness , pilot qualification , the rules for the movement of aircraft , and equipment to be carried . The CAA was established as the primary regulatory body for all aviation in the UK in 1972 . In 1991 it started working within the Joint Aviation Authorities ( JAA ) framework to implement agreed common standards , known as the Joint Aviation Requirements ( JAR ) , throughout the European Union ( EU ) . In 2003 this was taken a step further when the European Aviation Safety Agency ( EASA ) was established as the central EU regulator , taking over responsibility for legislating airworthiness and environmental regulation from the national authorities . The CAA acts as an agency of EASA on these issues , retaining its original regulatory powers in areas not yet transferred to EASA . Proposed developments seek to establish EASA as the single authority throughout the EU , taking over from individual member states the power to regulate all aviation other than that specifically excluded from the scope of EASA .
Within this framework certain sectors of GA are governed on a devolved basis . In all cases the CAA / EASA retains responsibility for safety regulation , but representative bodies , particularly of sectors that are not included in the scope of EASA , are granted greater oversight of their activities . The majority of microlight aircraft are regulated by the British Microlight Aircraft Association ( BMAA ) , although a significant number are regulated by the Light Aircraft Association ( LAA ) , formerly known as the Popular Flying Association . The LAA is the primary regulator for amateur built aircraft , as well as vintage and classic aircraft . Parachuting is governed by the British Parachute Association , although the aircraft used in this activity are generally CAA @-@ regulated . Balloon and airship flying is overseen by the British Balloon and Airship Club . The UK @-@ specific National Private Pilot Licence ( NPPL ) is administered by the National Pilots Licensing Group Ltd . , supported by the LAA , the Aircraft Owners and Pilots Association UK , the British Gliding Association , and the British Microlight Aircraft Association . Separate from these devolved groups , gliding in the UK is self @-@ regulated . The British Gliding Association was until recently responsible for glider airworthiness , now formally regulated as a result of EASA legislation , and still retains control of pilot certification . Hang gliding and paragliding activities ( i.e. foot @-@ launched gliders ) are governed by the British Hang Gliding and Paragliding Association .
Under CAA and EASA rules , all aircraft are required to meet certain standards of airworthiness to fly safely and legally . Aircraft that meet these standards are issued with a Certificate of Airworthiness . However , British @-@ registered aircraft which are excluded from the scope of EASA , and which cannot satisfy the requirements for the issue of a Certificate of Airworthiness , may be issued with a Permit to Fly . This allows them to fly in UK airspace subject to certain limitations , for example being restricted to day @-@ time flights under visual flight rules only . A number of organisations ( e.g. the British Microlight Aircraft Association and the Light Aircraft Association ) have obtained a standing over @-@ flight permission for Permit to Fly aircraft within their area of interest with some European countries , notably France . Permits are typically issued to vintage and historic aircraft , amateur built aircraft , and microlights .
The pilot qualification most relevant to GA is the Private Pilot Licence ( PPL ) , which permits the holder to fly for recreational purposes without remuneration . In addition to the European @-@ wide Joint Aviation Regulations Flight Crew Licensing ( JAR @-@ FCL ) standard , the CAA also issues UK @-@ specific national licences . In the absence of European standards for gyroplane , balloon , and airship pilots , the CAA licenses these according to the original UK PPL standard . As a response to the perception that JAR pilot licensing standards are excessively bureaucratic and expensive for the purposes of recreational pilots , the National Private Pilot Licence ( NPPL ) was introduced in 2002 . The NPPL is easier to obtain than the JAR @-@ FCL licence , has less stringent medical requirements , is more restrictive in the privileges it grants , and is valid only for flights in British @-@ registered aircraft flying in UK and French airspace . Although there are plans to bring glider pilot licensing within the regulatory framework of EASA , the gliding sector is currently self @-@ regulating in this respect . The British Gliding Association is responsible for defining the standards of initial training , and certifying , via a badge system , pilots who meet those standards . Pilots working in sectors of GA that are commercial operations , such as aerial work and business aviation , are required to hold a professional pilot licence which , at a minimum , is the Commercial Pilot Licence .
Between 1995 and 2004 there were 2 @,@ 630 accidents involving GA aircraft , of which 139 were fatal , resulting in the loss of 317 lives . The majority of accidents involved small fixed @-@ wing aircraft engaged in private flights , and analysis attributes the most common causes of these to : flight handling skills ; poor judgement or airmanship ; lack of training or experience ; and omission of , or inappropriate , action .
There were 27 fatal accidents involving GA aircraft in 2007 , resulting in the loss of 48 lives . These compare with 16 accidents claiming a total of 19 lives the previous year , and although the 2007 statistics are higher than average , they are not exceptional .
The growth in Commercial Air Transport ( CAT ) has eroded the operational freedom of GA , both in the air and on the ground at larger airports . Difficulty with access to larger airports is compounded by a decline in the number of aerodromes generally , and existing sites are often threatened with closure and re @-@ development for more profitable uses . The UK planning system is designed to focus on local issues , and consideration of the national impact of GA operations is not within its remit . This makes aerodrome development difficult , often subjecting those that successfully negotiate the process to restrictions in use .
Airspace is shared by CAT , military and GA users . It is divided into controlled airspace , in which aircraft must always be under the control of an air traffic controller , and uncontrolled airspace , in which aircraft can operate autonomously . Although GA flights can under certain conditions enter controlled airspace , they operate mainly outside of it .
Controlled airspace is essential for the provision of a known air traffic environment necessary for the safe operation of CAT . A CAA review found that " mixing [ commercial ] operations with other users is considered undesirable , even untenable " by commercial operators . However this position has resulted in extensive Class A controlled airspace with complex boundaries , including some running down to the ground , prohibiting VFR access to airspace , resulting in high numbers of GA flights operating close to the borders of controlled airspace who could not get formal receipt of an air traffic service . Coupled with pilot navigation errors , hundreds of airspace infringements have been recorded every year .
Increases in the number of CAT operations , and in the number of airports they operate from , has resulted in a corresponding increase in Class A controlled airspace . Between 1997 and 2006 this area grew in size from 13 per cent of all airspace to 22 per cent nationally , and from 24 per cent to 43 per cent in airspace above England and Wales , leading to a perception within the GA community of being squeezed out . There are particular problems for GA around large airports , where Class A controlled airspace extends to ground level . The concentration of commercial operations and high demand for GA in the South East of England have also resulted in extensive areas of Class A controlled airspace there , which serve to channel uncontrolled GA operations through high @-@ collision @-@ risk hot spots .
Regional airports , such as Edinburgh Airport , have experienced strong growth in CAT operations in recent years . These operations are commercially and operationally incompatible with GA , and although there is no evidence of deliberate discrimination , the effect has been to discourage or exclude it . GA aircraft are being subject to significant increases in charges , including the imposition of handling fees in some cases . Some airports restrict or deny GA parking , and others limit or refuse certain GA activity . As a result , light GA aircraft are now rarely or never seen at large , busy international airports such as Heathrow , Stansted , Gatwick and Manchester .
In addition to this de facto loss of facilities , the number of aerodromes in the UK has been in decline over the last 50 years , as a result of increasing urbanisation and the closure of airfields built during WWII . Alternative and more profitable uses for land can also lead to existing aerodromes being threatened with closure , for example North Weald , or actually being closed , as happened to Ipswich Airport. and Bristol Filton Airport . Referring to the importance of a " functioning national network of GA airfields " , especially where GA performs an air transport role , the CAA states that " there could be cause for concern if a significant further loss of airfields were to continue , especially if crucial nodes on the transport network were to be lost . "
The planning system is critical to the viability and operation of GA aerodromes . With many cities lacking scheduled air transport services between them , and with GA access to commercial airports becoming increasingly difficult and expensive , a viable network of aerodromes supporting GA air transport operations is regarded as an important national issue . However , there is no unified national planning policy specific to GA aerodromes , and planning decisions relating to these are based on local issues that are not required to consider the national impact . Because aircraft are excluded from noise control legislation , the only recourse for people affected by aircraft noise is through the planning process , and this issue is the principal factor on which the majority of planning decisions relating to GA land use are made . GA is a specialist subject often unfamiliar to Local Planning Authorities , and most planning decisions relating to GA either refuse permission , or grant it with restrictive conditions . Little Gransden is just one example of a GA airfield required to comply with planning restrictions on the number of movements permitted , thereby inhibiting further development . Such restrictions , if poorly conceived , can make GA operations unviable or even unsafe .
Public opinion towards aviation generally is worsening , based on increasing environmental concerns relating to emissions and noise , and private flying has been criticised by respondents to a government consultation on aircraft noise as a frivolous or selfish activity . In terms of environmental complaints and enquiries made to the CAA that relate specifically to GA , noise is " by far " the most common subject . Half of the 2 @,@ 000 noise complaints made annually to the CAA concern GA operations , most of which relate to aerobatics , helicopters using private sites , air balloon incidents , parachute dropping , and alleged low flying .
Planning guidance on aircraft noise advises that " in some circumstances the public perceive general aircraft noise levels as more disturbing than similar levels around major airports . " This is a result of the tonal characteristics of light aircraft engines and the activities they are engaged in , including : repetitive circuit flying at low @-@ altitude near an aerodrome , during which aircraft are audible for long periods ; slow climbing aircraft engaged in parachute drop or glider tug activities concentrated around the drop zone or aerodrome , also audible for long periods ; erratic and repetitive engine noise from aircraft engaged in aerobatics ; and piston @-@ engines on full power in areas of low background noise , leading to the perception that such noise is more intrusive . In an attempt to alleviate these problems , the majority of aerodromes implement noise abatement procedures designed to route aircraft away from noise sensitive areas , and more than 50 are required by the government to provide consultative facilities in which local concerns can be raised with aerodrome operators .
SMS Zrínyi ( " His Majesty 's ship Zrínyi " ) was a Radetzky @-@ class pre @-@ dreadnought battleship ( Schlachtschiff ) of the Austro @-@ Hungarian Navy ( K.u.K. Kriegsmarine ) , named for the Zrinski , a noble Croatian family . Zrínyi and her sisters , Erzherzog Franz Ferdinand and Radetzky , were the last pre @-@ dreadnoughts built by the Austro @-@ Hungarian Navy .
During World War I , Zrínyi saw action in the Adriatic Sea . She served with the Second Division of the Austro @-@ Hungarian Navy 's battleships and shelled Senigallia as part of the bombardment of the key seaport of Ancona , Italy , during May 1915 . However , Allied control of the Strait of Otranto meant that the Austro @-@ Hungarian Navy was , for all intents and purposes , effectively bottled up in the Adriatic . Nonetheless , the presence of the Zrínyi and other battleships tied down a substantial force of Allied ships .
With the war going against the Austrians by the end of 1918 , Zrínyi was prepared to be transferred to the new State of Slovenes , Croats and Serbs . On 10 November 1918 — just one day before the end of the war , navy officers sailed the battleship out of Pola ( Pula ) and eventually surrendered to a squadron of American submarine chasers . Following the handover to the United States Navy , she was briefly designated USS Zrínyi . In the Treaty of Saint @-@ Germain @-@ en @-@ Laye , the transfer was not recognized ; instead , Zrínyi was given to Italy and broken up for scrap .
Zrínyi was built at the Stabilimento Tecnico Triestino dockyard in Trieste , the same place where her sister ships were built earlier . She was laid down on 15 November 1908 and launched from the slipway on 12 April 1910 . The teak used on Zrínyi 's deck was the only material Austria @-@ Hungary had to purchase abroad to build the ship . The ship was completed by 15 July 1911 , and on 22 November 1911 she was commissioned into the fleet . She was the last ship of the class to be completed and had a crew of 880 to 890 officers and men .
Zrínyi was 138 @.@ 8 m ( 455 ft 4 in ) long , and had a beam of 24 @.@ 6 m ( 80 ft 8 in ) and a draft of 8 @.@ 1 m ( 26 ft 9 in ) . She displaced 14 @,@ 508 long tons ( 14 @,@ 741 t ) normally , and up to 15 @,@ 845 long tons ( 16 @,@ 099 t ) with a full combat load . She was powered by two @-@ shaft four @-@ cylinder vertical triple expansion engines rated at 19 @,@ 800 indicated horsepower . The ship had a top speed of 20 @.@ 5 knots ( 38 @.@ 0 km / h ; 23 @.@ 6 mph ) . Zrínyi was the first warship in the Austro @-@ Hungarian Navy to use fuel oil to supplement her 12 Yarrow @-@ type coal @-@ fired boilers . She had a maximum range of 4 @,@ 000 nautical miles ( 7 @,@ 400 km ; 4 @,@ 600 mi ) at a cruising speed of 10 knots ( 19 km / h ; 12 mph ) .
The ship 's primary armament consisted of four 30 @.@ 5 cm ( 12 in ) 45 @-@ caliber guns in two twin gun turrets . This was augmented by a heavy secondary battery of eight 24 cm ( 9 @.@ 4 in ) guns in four wing turrets . The tertiary battery consisted of twenty 10 cm L / 50 guns in casemated single mounts , four 47 mm ( 1 @.@ 85 in ) L / 44 and one 47 mm L / 33 quick @-@ firing guns . Furthermore , the ship 's boats were equipped with two 66 mm ( 2 @.@ 6 in ) landing guns for operations shore . Three 45 cm ( 17 @.@ 7 in ) torpedo tubes were also carried , one on each broadside and one in the stern .
The ship was assigned to the Austro @-@ Hungarian Fleet 's 1st Battle Squadron after her 1911 commissioning . In 1912 , Zrínyi and her two sister ships conducted two training cruises into the eastern Mediterranean Sea . On the second cruise into the Aegean Sea , conducted from November to December , Zrínyi and her sister ships were accompanied by the cruiser SMS Admiral Spaun and a pair of destroyers . After returning to Pola , the entire fleet mobilized for possible hostilities , as tensions flared in the Balkans .
In 1913 , Zrínyi participated in an international naval demonstration in the Ionian Sea to protest the Balkan Wars . Ships from other navies included in the demonstration were the British pre @-@ dreadnought HMS King Edward VII , the Italian pre @-@ dreadnought Ammiraglio di Saint Bon , the French armored cruiser Edgar Quinet , and the German light cruiser SMS Breslau . The most important action of the combined flotilla , which was under the command of British Admiral Cecil Burney , was to blockade the Montenegrin coast . The goal of the blockade was to prevent Serbian reinforcements from supporting the siege at Scutari , where Montenegro had besieged a combined force of Albanians and Ottomans . Pressured by the international blockade , Serbia withdrew its army from Scutari , which was subsequently occupied by a joint Allied ground force .
During that year , the first of four new dreadnoughts , SMS Viribus Unitis , that made up the Tegetthoff class — the only dreadnoughts built for the Austro @-@ Hungarian Navy — came into active service . With the commissioning of these dreadnoughts , Zrínyi and her sisters were moved from the 1st Division to the 2nd Division of the 1st Battle Squadron .
At that time of the assassination of Archduke Franz Ferdinand of Austria on 28 June 1914 , the battleships in the Austro @-@ Hungarian Navy consisted of the Radetzky class , the Tegetthoff class ( which still had one ship , SMS Szent István , under construction ) , the Erzherzog Karl class and finally , the older Habsburg class . Along with the remainder of the Austro @-@ Hungarian Navy , Zrínyi was mobilized in late July 1914 to support the flight of SMS Goeben and SMS Breslau . The two German ships broke out of Messina , which was surrounded by the British navy and reached Turkey . The flotilla had advanced as far south as Brindisi in southeastern Italy when news of the successful breakout reached Vienna . The Austro @-@ Hungarian ships were then recalled before seeing action .
On 23 May 1915 , between two and four hours after news of the Italian declaration of war reached the main Austro @-@ Hungarian naval base at Pola , Zrínyi and the rest of the fleet departed to bombard the Italian and Montenegrin coast . Their focus was on the important naval base at Ancona , and later the coast of Montenegro . The bombardment of Montenegro was part of the larger Austro @-@ Hungarian campaign against the Kingdoms of Montenegro and Serbia , who were members of the Entente , during the first half of 1915 . The attack on Ancona was an immense success , and the ships were unopposed during the operation . The bombardment of the province and the surrounding area resulted in the destruction of an Italian steamer in the port of Ancona itself , and an Italian destroyer , Turbine , was severely damaged further south . On the shore , the infrastructure of the port of Ancona , as well as the surrounding towns , were severely damaged . The railroad yard in Ancona , as well as the port facilities in the town , were damaged or destroyed . The local shore batteries were also suppressed . During the bombardment , Zrínyi also helped to destroy a train , a railway station , and a bridge at Senigallia . Additional targets that were damaged or destroyed included wharves , warehouses , oil tanks , radio stations , and the local barracks . Sixty @-@ three Italians , both civilians and military personnel , were killed in the bombardment . By the time Italian ships from Taranto and Brindisi arrived on the scene , the Austro @-@ Hungarians were safely back in Pola .
The objective of the bombardment of Ancona was to delay the Italian Army from deploying its forces along the border with Austria @-@ Hungary by destroying critical transportation systems . The surprise attack on Ancona succeeded in delaying the Italian deployment to the Alps for two weeks . This delay gave Austria @-@ Hungary valuable time to strengthen its Italian border and re @-@ deploy some of its troops from the Eastern and Balkan fronts .
Aside from the attack on Ancona , the Austro @-@ Hungarian battleships were largely confined to Pola for the duration of the war . Their operations were limited by Admiral Anton Haus , the commander of the Austro @-@ Hungarian Navy , who believed that he would need to husband his ships to counter any Italian attempt to seize the Dalmatian coast . Since coal was diverted to the newer Tegetthoff @-@ class battleships , the remainder of the war saw Zrínyi and the rest of the Austro @-@ Hungarian Navy acting as a fleet in being . This resulted in the Allied blockade of the Otranto Strait . With his fleet blockaded in the Adriatic Sea , and with a shortage of coal , Haus followed a strategy based on mines and submarines designed to reduce the numerical superiority of the Allied navies .
After the Austro @-@ Hungarian Empire collapsed in 1918 , the Austrians wanted to turn the fleet over to the newly created State of Slovenes , Croats and Serbs ( later to become a part of the Kingdom of Yugoslavia ) in order to prevent the Italians from claiming the ships as spoils of war . However , the victorious Allies refused to acknowledge the conversations between the Austrians and the south Slavs and , in due course , reallocated the ships . The ship had been boarded by a scratch Yugoslav crew on 10 November 1918 , one day before the Armistice , and had left Pola with her sister ship , Radetzky . They were soon spotted by heavy Italian ships , so the two battleships hoisted American flags and sailed south along the Adriatic coast to Castelli Bay near Spalato ( also known as Split ) . They appealed for American naval forces to meet them and accept their surrender , which a squadron of United States Navy ( USN ) submarine chasers in the area did . She had apparently been turned over to the fledgling south Slav state , as it was a Croat naval officer , Korvettenkapitän Marijan Polić , who presented the ship as a prize of war to representatives of the United States Navy on the afternoon of 22 November 1919 at Spalato ( Split ) in Dalmatia . Simultaneously she was commissioned as USS Zrínyi and Lieutenant E.E. Hazlett , USN , assumed command . The initial American complement consisted of four officers and 174 enlisted men — the latter entirely composed of United States Navy Reserve Force personnel . The ship remained at anchor at Spalato for nearly a year while the negotiations that would determine her ultimate fate dragged on . Only once did she apparently turn her engines over , and that occurred during a severe gale that struck Spalato on 9 February 1920 .
On the morning of 7 November 1920 , Zrínyi was decommissioned . USS Chattanooga took her in tow and , assisted by Brooks and Hovey , towed the battleship to Italy . Under the terms of the treaties of Versailles and St. Germain , Zrínyi was ultimately turned over to the Italian government at Venice . She was broken up for scrap later that year and into 1921 .
Geopyxis carbonaria is a species of fungus in the genus Geopyxis , family Pyronemataceae . First described to science in 1805 , and given its current name in 1889 , the species is commonly known as the charcoal loving elf @-@ cup , dwarf acorn cup , stalked bonfire cup , or pixie cup . The small , goblet @-@ shaped fruitbodies of the fungus are reddish @-@ brown with a whitish fringe and measure up to 2 cm ( 0 @.@ 8 in ) across . They have a short , tapered stalk . Fruitbodies are commonly found on soil where brush has recently been burned , sometimes in great numbers . The fungus is distributed throughout many temperate regions of the Northern Hemisphere . It is found in Europe , Turkey , and North America . Although it is primarily a saprotrophic species , feeding on the decomposing organic matter remaining after a fire , it also forms biotrophic associations with the roots of Norway spruce .
The fungus was first described scientifically in 1805 by Johannes Baptista von Albertini and Lewis David de Schweinitz as Peziza carbonaria . Mordecai Cubitt Cooke illustrated the fruitbodies , spores , and asci in his 1879 work Mycographia , seu Icones fungorum . Figures of fungi from all parts of the world . In 1889 , Pier Andrea Saccardo transferred the fungus to the genus Geopyxis , giving the species its current name . Pustularia carbonaria , published by Heinrich Rehm in 1884 , is a synonym of G. carbonaria . Louis @-@ Joseph Grélet proposed the variety Geopyxis carbonaria var. sessilis in 1937 , referring to forms producing fruitbodies without a stalk , but the taxon is not considered to have independent taxonomic significance . In 1860 Miles Berkeley and Moses Ashley Curtis described the species Peziza lepida from collections made in Japan as part of the North Pacific Exploring and Surveying Expedition ( 1853 – 1856 ) . This taxon was synonymized with G. carbonaria by Mien Rifai in 1968 , a taxonomic opinion corroborated by Donald Pfister about a decade later .
The specific epithet carbonaria derives from the Latin word for " charcoal " . Common names given to the fungus include " charcoal loving elf @-@ cup " , " dwarf acorn cup " , " pixie cup " , and the British Mycological Society approved " stalked bonfire cup " .
The fruitbodies ( ascocarps ) of Geopyxis carbonaris are cup shaped , 1 – 2 cm wide , and have fringed whitish margins . The inner spore @-@ bearing surface of the cup , the hymenium , is brick red and smooth , while the exterior surface is a dull yellow , and may be either smooth or have blister @-@ like spots ( pustules ) . The stipe is small ( 1 – 1 @.@ 5 mm long and 1 – 2 mm wide ) , whitish in color , and expands abruptly into the cup . The brownish flesh of the fungus is thin and brittle . It does not have any distinctive taste , but has an unpleasant smell when crushed in water . The edibility of the fungus is not known , but the fruitbodies are insubstantial and unlikely to be harvested for eating .
In mass , the spores are whitish . The spores are elliptical , smooth , hyaline , devoid of oil droplets ( eguttulate ) , and have dimensions of 13 – 18 by 7 – 9 µm . They are thin walled and germinate and grow rapidly in vitro in the absence of external stimuli . The asci are 190 – 225 by 9 – 10 µm . The paraphyses are slightly club @-@ shaped , unbranched , and have irregular orange @-@ brown granules , with tips up to 5 µm wide , and are not forked or lobed . The hypothecium , the layer of cells below the hymenium , is made of densely packed , small irregular cells .
The closely related vulcan elf cup ( Geopyxis vulcanalis ) has a pale orange to yellowish fruitbody that is deeply cup shaped before flattening in maturity , and its crushed flesh often has an odor of sulfur . It may be distinguished microscopically by its paraphyses , which lack the orange @-@ brown granules characteristic of G. carbonaria . It also has larger spores , measuring 14 – 22 by 8 – 11 µm . Unlike G. carbonaria , it grows on substrates other than burned wood , including mosses , and needle duff . Tarzetta cupularis , which grows habitats similar to G. carbonaria , is distinguished microscopically by its spores that contain two oil droplets . Other genera with similar species with which G. carbonaria may be confused in the field include Aleuria , Caloscypha , Melastiza , and Sowerbyella .
Geopyxis carbonaria is widespread on burned soil or charcoal in the spring and throughout the growing season . It is one of the most common pioneer species found on burned ground . The charred litter on the forest floor increases the underlying soil pH as well as the availability of minerals . Fruitbodies are produced from 16 to 139 weeks after a forest fire in areas with coniferous trees . Most fruitbodies are produced in the first year after a burn . The fungus prefers fruiting in microhabitats with thin postfire duff near standing burned tree trunks . Geopyxis carbonaria fruitbodies are often found in the same post @-@ fire stands as morels , although the former is usually more abundant . Because the pixie cup fruits earlier than morels , it may serve as an indicator of imminent morel fruiting . Other cup fungi often found fruiting in the same area as G. carbonaria include those from the genera Aleuria , Anthracobia , Peziza , and Tarzetta .
The fungus is found in Europe ( from where it was originally described ) , and is widespread throughout North America . The North American distribution extends north to Alaska . In 2010 , it was reported for the first time from Turkey .
Although primarily a saprotrophic fungus involved in the post @-@ fire breakdown of duff and coniferous roots , Geopyxis carbonaria has been shown to be capable of forming ectomycorrhizae with Norway spruce ( Picea abies ) . It had been demonstrated earlier in laboratory experiments that the fungus has a biotrophic interaction with lodgepole pine ( Pinus contorta ) . The hyphae of G. carbonaria were able to infect the cortex of the tree seedling , but did not penetrate the endodermis . These traits suggest that the fungus is a moderate pathogen , with limited ability to cause reductions in seed germination . Additionally , the fungus produces the enzyme polyphenol oxidase , and can break down the complex organic polymer lignin — features characteristic of saprotrophic fungi . The formation of a rudimentary Hartig net , a characteristic of mycorrhizal fungi , indicated that G. carbonaria might be capable of forming mutualistic relationships under the right conditions . Vrålstad and colleagues suggest that its below @-@ ground association with spruce roots protects it from physical damage in the event of a fire , and the extensive fruitbody production after a fire may reflect " a successful fungal escape from a dying host where the fungus no longer can maintain its biotrophic association " .
Large fruitings of the fungus are often associated with damage to the host tree , such as that which occurs with burning . A field study conducted in Norway demonstrated that fruit bodies were more likely to be found in areas that were heavily burned , compared to locations with light to moderate burning where the trees remained viable , or in clearcut areas . Fruiting was much denser in spruce forests — with up to 700 – 1000 fruitbodies per square meter — than in pine forests , where fruitbodies were sporadic . Fruitbodies grew by the millions in the year following the Yellowstone fires of 1988 .
The gold dollar or gold one @-@ dollar piece was a coin struck as a regular issue by the United States Bureau of the Mint from 1849 to 1889 . The coin had three types over its lifetime , all designed by Mint Chief Engraver James B. Longacre . The Type 1 issue had the smallest diameter of any United States coin ever minted .
A gold dollar had been proposed several times in the 1830s and 1840s , but was not initially adopted . Congress was finally galvanized into action by the increased supply of bullion caused by the California gold rush , and in 1849 authorized a gold dollar . In its early years , silver coins were being hoarded or exported , and the gold dollar found a ready place in commerce . Silver again circulated after Congress in 1853 required that new coins of that metal be made lighter , and the gold dollar became a rarity in commerce even before federal coins vanished from circulation because of the economic disruption caused by the American Civil War .
Gold did not again circulate in most of the nation until 1879 ; once it did , the gold dollar did not regain its place . In its final years , it was struck in small numbers , causing speculation by hoarders . It was also in demand to be mounted in jewelry . The regular issue gold dollar was last struck in 1889 ; the following year , Congress ended the series .
In proposing his plan for a mint and a coinage system , Secretary of the Treasury Alexander Hamilton in 1791 proposed that the one @-@ dollar denomination be struck both as a gold coin , and as one of silver , representative of the two metals which he proposed be made legal tender . Congress followed Hamilton 's recommendation only in part , authorizing a silver dollar , but no coin of that denomination in gold .
In 1831 , the first gold dollar was minted , at the private mint of Christopher Bechtler in North Carolina . Much of the gold then being produced in the United States came from the mountains of North Carolina and Georgia , and the dollars and other small gold coins issued by Bechtler circulated through that region , and were now and then seen further away . Additional one @-@ dollar pieces were struck by August Bechtler , Christopher 's son .
Soon after the Bechtlers began to strike their private issues , Secretary of the Treasury Levi Woodbury became an advocate of having the Mint of the United States ( " Mint " , when described as an institution ) strike the one @-@ dollar denomination in gold . He was opposed by the Mint Director , Robert M. Patterson . Woodbury persuaded President Andrew Jackson to have pattern coins struck . In response , Patterson had Mint Second Engraver Christian Gobrecht break off work on the new design for the silver one @-@ dollar coin and work on a pattern for the gold dollar . Gobrecht 's design featured a Liberty cap surrounded by rays on one side , and a palm branch arranged in a circle with the denomination , date , and name of the country on the other .
Consideration was given to including the gold dollar as an authorized denomination in the revisionary legislation that became the Mint Act of 1837 . The Philadelphia newspaper Public Ledger , in December 1836 , supported a gold dollar , stating that " the dollar is the smallest gold coin that would be convenient , and as it would be eminently so , neither silver nor paper should be allowed to take its place . " Nevertheless , after Mint Director Patterson appeared before a congressional committee , the provision authorizing the gold dollar was deleted from the bill .
In January 1844 , North Carolina Representative James Iver McKay , the chairman of the Committee on Ways and Means , solicited the views of Director Patterson on the gold dollar . Patterson had more of Gobrecht 's pattern dollar struck to show to committee members , again advising against a coin that if issued would be only about a half inch ( 13 mm ) in diameter . He told Treasury Secretary John C. Spencer that the only gold coins of that size in commerce , the Spanish and Colombian half @-@ escudos , were unpopular and had not been struck for more than twenty years . This seemed to satisfy the committee as nothing more was done for the time , and when a gold dollar was proposed again in 1846 , McKay 's committee recommended against it .
Even before 1848 , record amounts of gold were flowing to American mints to be struck into coin , but the California Gold Rush vastly increased these quantities . This renewed calls for a gold dollar , as well as for a higher denomination than the eagle ( $ 10 piece ) , then the largest gold coin . In January 1849 , McKay introduced a bill for a gold dollar , which was referred to his committee . There was much discussion in the press about the proposed coin ; one newspaper published a proposal for an annular gold dollar , that is , with a hole in the middle to increase its small diameter . McKay amended his legislation to provide for a double eagle ( $ 20 gold coin ) and wrote to Patterson , who replied stating that the annular gold dollar would not work , and neither would another proposal to have dollar piece consisting of a gold plug in a silver coin . Nevertheless , Gobrecht 's successor as chief engraver , James B. Longacre , prepared patterns , including some with a square hole in the middle .
McKay got his fellow Democrat , New Hampshire Senator Charles Atherton , to introduce the bill to authorize the gold dollar and the double eagle in the Senate on February 1 , 1849 — Atherton was chairman of the Senate Finance Committee . McKay introduced a version into the House on February 20 ; debate began the same day . The dollar was attacked by congressmen from the Whig Party , then in the minority , on the grounds that it would be too small , would be counterfeited and in bad light might be mistakenly spent as a half dime , the coins being similar in size . McKay did not respond substantively , but stated that if no one wanted these denominations , they would not be called for at the Mint , and would not be coined . Pennsylvania Representative Joseph Ingersoll , a Whig , spoke against the bill , noting that Patterson opposed the new denominations , and that the idea had been repeatedly turned down , whenever considered . Another Whig , Massachusetts 's Charles Hudson , related that Patterson had sent a real and a counterfeit gold dollar to his committee and the majority of members had been unable to tell the difference . McKay made no answer to these claims , but others did , including New York Congressman Henry Nicoll , who assured the House that the counterfeiting allegations were greatly exaggerated . The point was , he indicated , that the double eagle and gold dollar were wanted by the public , and , in the case of the gold dollar could help money circulate in small communities where banknotes were not accepted . Connecticut Representative John A. Rockwell , a Whig , tried to table the bill , but his motion was defeated . The bill passed easily , and met only minimal opposition in the Senate , becoming law on March 3 , 1849 .
The officers at the Philadelphia Mint , including Chief Coiner Franklin Peale , were mostly the friends and relations of Director Patterson . The outsider in their midst was Chief Engraver James B. Longacre , successor to Gobrecht ( who had died in 1844 ) . A former copper @-@ plate engraver , Longacre had been appointed through the political influence of South Carolina Senator John C. Calhoun .
When Longacre began work on the two new coins in early 1849 , he had no one to assist him . Longacre wrote the following year that he had been warned by a Mint employee that one of the officers ( undoubtedly Peale ) planned to undermine the chief engraver 's position by having the work of preparing designs and dies done outside Mint premises . Accordingly , when the gold coin bill became law , Longacre apprised Patterson that he was ready to begin work on the gold dollar . The Mint Director agreed , and after viewing a model of the head on the obverse , authorized Longacre to proceed with preparation of dies . According to Longacre ,
The engraving was unusually minute and required very close and incessant labor for several weeks . I made the original dies and hubs for making the working dies twice over , to secure their perfect adaptation to the coining machinery . I had a wish to execute this work single handed , that I might thus silently reply to those who had questioned my ability for the work . The result , I believe , was satisfactory .
Homarus gammarus , known as the European lobster or common lobster , is a species of clawed lobster from the eastern Atlantic Ocean , Mediterranean Sea and parts of the Black Sea . It is closely related to the American lobster , H. americanus . It may grow to a length of 60 cm ( 24 in ) and a mass of 6 kilograms ( 13 lb ) , and bears a conspicuous pair of claws . In life , the lobsters are blue , only becoming " lobster red " on cooking . Mating occurs in the summer , producing eggs which are carried by the females for up to a year before hatching into planktonic larvae . Homarus gammarus is a highly esteemed food , and is widely caught using lobster pots , mostly around the British Isles .
Homarus gammarus is a large crustacean , with a body length up to 60 centimetres ( 24 in ) and weighing up to 5 – 6 kilograms ( 11 – 13 lb ) , although the lobsters caught in lobster pots are usually 23 – 38 cm ( 9 – 15 in ) long and weigh 0 @.@ 7 – 2 @.@ 2 kg ( 1 @.@ 5 – 4 @.@ 9 lb ) . Like other crustaceans , lobsters have a hard exoskeleton which they must shed in order to grow , in a process called ecdysis ( moulting ) . This may occur several times a year for young lobsters , but decreases to once every 1 – 2 years for larger animals .
The first pair of pereiopods is armed with a large , asymmetrical pair of claws . The larger one is the " crusher " , and has rounded nodules used for crushing prey ; the other is the " cutter " , which has sharp inner edges , and is used for holding or tearing the prey . Usually , the left claw is the crusher , and the right is the cutter .
The exoskeleton is generally blue above , with spots that coalesce , and yellow below . The red colour associated with lobsters only appears after cooking . This occurs because , in life , the red pigment astaxanthin is bound to a protein complex , but the complex is broken up by the heat of cooking , releasing the red pigment .
The closest relative of H. gammarus is the American lobster , Homarus americanus . The two species are very similar , and can be crossed artificially , although hybrids are unlikely to occur in the wild since their ranges do not overlap . The two species can be distinguished by a number of characteristics :
The rostrum of H. americanus bears one or more spines on the underside , which are lacking in H. gammarus .
The spines on the claws of H. americanus are red or red @-@ tipped , while those of H. gammarus are white or white @-@ tipped .
The underside of the claw of H. americanus is orange or red , while that of H. gammarus is creamy white or very pale red .
Female H. gammarus reach sexual maturity when they have grown to a carapace length of 80 – 85 millimetres ( 3 @.@ 1 – 3 @.@ 3 in ) , whereas males mature at a slightly smaller size . Mating typically occurs in summer between a recently moulted female , whose shell is therefore soft , and a hard @-@ shelled male . The female carries the eggs for up to 12 months , depending on the temperature , attached to her pleopods . Females carrying eggs are said to be " berried " and can be found throughout the year .
The eggs hatch at night , and the larvae swim to the water surface where they drift with the ocean currents , preying on zooplankton . This stage involves three moults and lasts for 15 – 35 days . After the third moult , the juvenile takes on a form closer to the adult , and adopts a benthic lifestyle . The juveniles are rarely seen in the wild , and are poorly known , although they are known to be capable of digging extensive burrows . It is estimated that only 1 larva in every 20 @,@ 000 survives to the benthic phase . When they reach a carapace length of 15 mm ( 0 @.@ 59 in ) , the juveniles leave their burrows and start their adult lives .
Homarus gammarus is found across the north @-@ eastern Atlantic Ocean from northern Norway to the Azores and Morocco , not including the Baltic Sea . It is also present in most of the Mediterranean Sea , only missing from the section east of Crete , and along only the north @-@ west coast of the Black Sea . The northernmost populations are found in the Norwegian fjords Tysfjorden and Nordfolda , inside the Arctic Circle .
The species can be divided into four genetically distinct populations , one widespread population , and three which have diverged due to small effective population sizes , possibly due to adaptation to the local environment . The first of these is the population of lobsters from northern Norway , which have been referred to as the " midnight @-@ sun lobster " . The populations in the Mediterranean Sea are distinct from those in the Atlantic Ocean . The last distinct population is found in the Netherlands : samples from the Oosterschelde were distinct from those collected in the North Sea or English Channel .
Attempts have been made to introduce H. gammarus to New Zealand , alongside other European species such as the edible crab , Cancer pagurus . Between 1904 and 1914 , one million lobster larvae were released from hatcheries in Dunedin , but the species did not become established there .
Adult H. gammarus live on the continental shelf at depths of 0 – 150 metres ( 0 – 492 ft ) , although not normally deeper than 50 m ( 160 ft ) . They prefer hard substrates , such as rocks or hard mud , and live in holes or crevices , emerging at night to feed .
The diet of H. gammarus mostly consists of other benthic invertebrates . These include crabs , molluscs , sea urchins , starfish and polychaete worms .
The three clawed lobster species Homarus gammarus , H. americanus and Nephrops norvegicus are hosts to the three known species of the animal phylum Cycliophora ; the species on H. gammarus has not been described .
Homarus gammarus is susceptible to the disease gaffkaemia , caused by the bacterium Aerococcus viridans . Although it is frequently found in American lobsters , the disease has only been seen in captive H. gammarus , where prior occupation of the tanks by H. americanus could not be ruled out .
Homarus gammarus is traditionally " highly esteemed " as a foodstuff and was mentioned in " The Crabfish " a seventeenth century English folk song . It may fetch very high prices and may be sold fresh , frozen , canned or powdered . Both the claws and the abdomen of H. gammarus contain " excellent " white meat , and most of the contents of the cephalothorax are edible . The exceptions are the gastric mill and the " sand vein " ( gut ) . The price of H. gammarus is up to three times higher than that of H. americanus , and the European species is considered to have a better flavour .
Lobsters are mostly fished using lobster pots , although lines baited with octopus or cuttlefish sometimes succeed in tempting them out , to allow them to be caught in a net or by hand . In 2008 , 4 @,@ 386 t of H. gammarus were caught across Europe and North Africa , of which 3 @,@ 462 t ( 79 % ) was caught in the British Isles ( including the Channel Islands ) . The minimum landing size for H. gammarus is a carapace length of 87 mm ( 3 @.@ 4 in ) .
Aquaculture systems for H. gammarus are under development , and production rates are still very low .
Homarus gammarus was first given a binomial name by Carl Linnaeus in the tenth edition of his Systema Naturae , published in 1758 . That name was Cancer gammarus , since Linnaeus ' concept of the genus Cancer at that time included all large crustaceans .
H. gammarus is the type species of the genus Homarus Weber , 1795 , as determined by Direction 51 of the International Commission on Zoological Nomenclature . Prior to that direction , confusion arose because the species had been referred to by several different names , including Astacus marinus Fabricius , 1775 and Homarus vulgaris H. Milne @-@ Edwards , 1837 , and also because Friedrich Weber 's description of the genus had been overlooked until rediscovered by Mary Rathbun , rendering any prior assignments of type species ( for Homarus H. Milne @-@ Edwards , 1837 ) invalid for Homarus Weber , 1795 .
The type specimen of Homarus gammarus was a lectotype selected by Lipke Holthuis in 1974 . It came from 57 ° 53 ′ N 11 ° 32 ′ E , near Marstrand , Sweden ( 48 kilometres or 30 miles northwest of Gothenburg ) , but both it and the paralectotypes have since been lost .
The common name for H. gammarus preferred by the Food and Agriculture Organization is " European lobster " , but the species is also widely known as the " common lobster " .
Air Vice Marshal Frank Headlam , CB , CBE ( 15 July 1914 – 23 December 1976 ) was a senior commander in the Royal Australian Air Force ( RAAF ) . Born and educated in Tasmania , he joined the RAAF as an air cadet in January 1934 . He specialised in flying instruction and navigation before the outbreak of World War II . In April 1941 , he became commanding officer of No. 2 Squadron , which operated Lockheed Hudsons . The squadron was deployed to Dutch Timor in December , and saw action against Japanese forces in the South West Pacific . After returning to Australia in February 1942 , Headlam held staff appointments and training commands , finishing the war a group captain .
Headlam served as Officer Commanding North @-@ Western Area in 1946 , and as Director of Training from 1947 to 1950 . In 1950 – 51 , during the Malayan Emergency , he was stationed at Singapore as commander of No. 90 ( Composite ) Wing and , later , RAF Tengah . He twice served as acting Air Member for Personnel , in 1957 and 1959 – 60 , receiving appointment as a Commander of the Order of the British Empire in 1958 . Promoted air vice marshal , he successively held the positions of Air Officer Commanding ( AOC ) Operational Command in 1961 – 62 , AOC No. 224 Group RAF from 1962 to 1965 during the Indonesia – Malaysia Konfrontasi , Deputy Chief of the Air Staff in 1965 – 66 , and AOC Support Command in 1966 – 67 . He was appointed a Companion of the Order of the Bath in 1965 . Following a posting to London as Head of the Australian Joint Services Staff from 1968 to 1971 , he retired from the Air Force and died in Melbourne five years later .
The son of farmers Malcolm and Hilda Headlam , Frank Headlam was born on 15 July 1914 in Launceston , Tasmania . He was schooled at Clemes College , Hobart , and matriculated in 1932 . Against the wishes of his parents he joined the Royal Australian Air Force ( RAAF ) as an air cadet on 16 January 1934 . He underwent flying instruction with No. 1 Flying Training School ( FTS ) at RAAF Point Cook , Victoria , and was commissioned as a pilot officer on 1 January 1935 .
After completing a conversion course , Headlam was assigned to the Seaplane Squadron at Point Cook . No larger than a flight according to the official history of the pre @-@ war RAAF , Seaplane Squadron was part of No. 1 FTS and operated Supermarine Southampton flying boats and de Havilland Gipsy Moth floatplanes , among other types . During this posting Headlam was promoted to flying officer , on 1 July 1935 , and wrote a paper on national defence in which he suggested that with " strong air forces , naval forces ( including submarines ) , and fixed defences , Australia may be made practically invulnerable " . According to Air Force historian Alan Stephens , this paper " in effect , defined the ' anti @-@ lodgment ' concept which has been a persistent feature of RAAF strategic thinking " .
Headlam completed a flying instructors course in July 1936 and joined the staff of No. 1 FTS . He was promoted to flight lieutenant on 1 March 1937 . Commencing in July 1938 , he was one of six students to take part in the RAAF 's first Long Specialist Navigation Course , run by Flight Lieutenants Bill Garing and Alister Murdoch at Point Cook . The course involved several epic training flights that attracted considerable media attention , including a twelve @-@ day , 10 @,@ 800 @-@ kilometre ( 6 @,@ 700 mi ) round @-@ Australia trip by three Avro Ansons , one of which was piloted by Headlam , in November . The following month , Headlam led the three Ansons on a six @-@ day journey back and forth over Central Australia . He subsequently passed the navigation course with a special distinction . On 27 January 1939 he was posted to RAAF Station Laverton , Victoria , as a flight commander . He served initially with No. 2 Squadron , before transferring to No. 1 Squadron on 29 August . Both units operated Ansons .
Following the outbreak of World War II , No. 1 Squadron was engaged in convoy escort and maritime reconnaissance duties off south @-@ eastern Australia . Headlam continued to serve with the squadron as a flight commander until 15 January 1940 , when he was assigned to Headquarters Laverton as the station navigation officer . On 27 March he was posted to the staff of RAAF Headquarters , Melbourne . He was promoted to squadron leader on 1 June 1940 . Two weeks later he married Katherine Bridge at St Paul 's Anglican Church in Frankston ; the couple would have a son and a daughter .
Headlam was given command of No. 2 Squadron at Laverton on 15 April 1941 , and raised to wing commander on 1 July . Equipped with Lockheed Hudsons , the squadron mainly conducted maritime patrols in southern waters until 5 December , when four of its aircraft were ordered to Darwin , Northern Territory , in response to fears of Japanese aggression in the Pacific . On 7 December , this detachment established itself at Penfui , near Koepang in Dutch Timor , while No. 2 Squadron 's eight remaining Hudsons were stationed at Darwin on standby . The following day , aware that Australia was now at war in the Pacific , one of the Penfui @-@ based Hudsons attacked the Japanese pearler Nanyo Maru , which was suspected of being a radio ship , and forced it aground . By 12 December , Headlam had transferred to Penfui as commanding officer of the base , as well as No. 2 Squadron .
During January 1942 , No. 2 Squadron 's aircraft were dispersed at Penfui , Boeroe Island , and Darwin . The Penfui detachment attacked Japanese shipping taking part in the invasion of Celebes . Two Hudsons shot down or damaged three Japanese floatplanes that attacked them as they were bombing a transport ship on 11 January ; the next day both Hudsons were themselves shot down by Mitsubishi Zeros . Penfui was bombed by the Japanese for the first time on 26 January 1942 , and attacked regularly thereafter , damaging some aircraft . The intact Hudsons were withdrawn to Darwin but Headlam and his staff remained at Penfui to enable the base to be used by aircraft during reconnaissance missions from Australia . On 18 February , Headlam was ordered to evacuate all his personnel except a small party to demolish the airfield with assistance from Sparrow Force . He returned to Darwin the following day , just as the city experienced its first raid by the Japanese . Four of No. 2 Squadron 's Hudsons were destroyed in the attack ; the remainder were relocated to Daly Waters , where they continued to carry out reconnaissance and bombing missions against Japanese targets in Timor .
Headlam remained in Darwin as Controller of Operations at Headquarters North @-@ Western Area Command until 12 May 1942 , when he was posted to Nhill , Victoria , as commanding officer of No. 2 Air Navigation School , operating Ansons . No. 97 ( Reserve ) Squadron was formed from the school 's personnel in June . On 20 July 1943 , Headlam took command of No. 2 Air Observer School ( AOS ) , also operating Ansons , at Mount Gambier , South Australia . He was promoted to group captain on 1 December 1943 , and was appointed the inaugural commanding officer of No. 3 AOS , operating Ansons and Fairey Battles out of Port Pirie , on 9 December . After handing over command of No. 3 AOS , he commenced studies at RAAF Staff School in Mount Martha , Victoria , on 2 October 1944 . He was appointed senior administrative staff officer at North @-@ Western Area Command on 12 January 1945 .
Headlam became Officer Commanding North @-@ Western Area in January 1946 . Posted to Britain at the end of the year , he attended the Royal Air Force Staff College , Andover , and served with RAAF Overseas Headquarters , London . On his return to Australia , in November 1947 , he became Director of Training at RAAF Headquarters . In November 1950 , Headlam was appointed to take over command of No. 90 ( Composite ) Wing from Group Captain Paddy Heffernan . Headquartered at RAF Changi , Singapore , No. 90 Wing controlled RAAF units operating during the Malayan Emergency : No. 1 ( Bomber ) Squadron , flying Avro Lincolns , and No. 38 ( Transport ) Squadron , flying Douglas C @-@ 47 Dakotas . The Lincolns conducted area bombing missions over communist @-@ held territory , as well as strikes against pinpoint targets . The Dakotas were tasked with courier flights , VIP transport and medical evacuations across South East Asia , and in Malaya with airlifting troops and cargo , dropping supplies to friendly forces and despatching propaganda leaflets . Headlam was slightly injured on 20 December , when a No. 38 Squadron Dakota he was co @-@ piloting on a supply drop crash @-@ landed at Kampong Aur in Pahang , following engine failure . In August 1951 he was named commander of RAF Tengah , Singapore , in addition to his post as commanding officer of No. 90 Wing . Headlam handed over command of No. 90 Wing in December 1951 .
On 19 February 1952 , Headlam became senior air staff officer ( SASO ) at Eastern Area Command in Penrith , New South Wales . During his term as SASO , the RAAF began re @-@ equipping with English Electric Canberra jet bombers and CAC Sabre jet fighters . The Air Force also underwent a major organisational change , as it transitioned from a geographically based command @-@ and @-@ control system to one based on function , resulting in the establishment of Home ( operational ) , Training , and Maintenance Commands . Eastern Area Command , considered a de facto operational headquarters owing to the preponderance of combat units under its control , was reorganised as Home Command in October 1953 . Headlam was appointed an Officer of the Order of the British Empire ( OBE ) in the 1954 New Year Honours for his " exceptional ability and devotion to duty " . He was promoted to acting air commodore in May . His appointment as aide @-@ de @-@ camp to Queen Elizabeth II was announced on 7 October 1954 .
Headlam was promoted to substantive air commodore on 1 January 1955 . In November he was posted to RAAF Overseas Headquarters , London , and the following year undertook studies at the Imperial Defence College . Returning to Australia , he served as acting Air Member for Personnel at the Department of Air , Canberra , from 19 March to 21 October 1957 , between the terms of Air Vice Marshals Fred Scherger and Allan Walters , and again from 24 August 1959 to 28 March 1960 , between the terms of Walters and Air Vice Marshal Bill Hely . In this role Headlam occupied a seat on the Air Board , the service 's controlling body that comprised its senior officers and was chaired by the Chief of the Air Staff . He was also one of two RAAF representatives to serve on a committee , chaired by businessman William John Allison , examining conditions of defence service ; the committee 's recommendations led to a doubling of flight pay , among other improvements . Headlam 's other positions at the Department of Air included Air Commodore Plans from October 1957 to January 1959 , and Director General Plans and Policy from January to August 1959 . The latter assignment put him in charge of the RAAF 's Directorate of Intelligence . Headlam was appointed a Commander of the Order of the British Empire ( CBE ) in the 1958 Queen 's Birthday Honours , gazetted on 3 June . In May 1960 he became acting Deputy Chief of the Air Staff .
On 30 January 1961 , Headlam joined the staff of Operational Command ( OPCOM ) , the successor organisation to Home Command , responsible for the direction of RAAF operational units . He took over as Air Officer Commanding ( AOC ) OPCOM from Air Vice Marshal Val Hancock in April . Headlam was promoted to air vice marshal on 29 May . On 17 July 1962 , he was posted to RAAF Base Butterworth , Malaya , and took up the appointment of AOC No. 224 Group RAF in Singapore one week later . He was succeeded as AOC OPCOM by Air Vice Marshal Alister Murdoch . As AOC No. 224 Group , Headlam had overall responsibility for regional air defence and offensive air operations during the Brunei Rebellion in December 1962 , and the subsequent Konfrontasi between Indonesia and Malaysia that officially began the following month . Divorced from his first wife in 1956 , he married widowed social worker Vernon Spence at the Sydney registry office on 20 January 1964 . He handed over No. 224 Group to Air Vice Marshal Christopher Foxley @-@ Norris on 30 November .
Returning to Australia , Headlam became Deputy Chief of the Air Staff ( DCAS ) on 26 January 1965 . He was appointed a Companion of the Order of the Bath ( CB ) " in recognition of distinguished service in the Borneo Territories " on 22 June . His tenure as DCAS coincided with the most significant rearmament program the Air Force had undertaken since World War II , and with manpower shortages stemming from this expansion and from Australia 's increasing involvement in the security of South East Asia . The first RAAF helicopters were committed to the Vietnam War towards the end of his term , and he travelled to Saigon with the Chief of the General Staff , Lieutenant General Sir John Wilton , in March 1966 to plan the deployment . The year before , Wilton had recommended to Air Marshal Murdoch , the Chief of the Air Staff , that two Iroquois be sent to Vietnam for familiarisation purposes ; Murdoch had rebuffed Wilton , and the RAAF helicopter squadron was considered underprepared for its army co @-@ operation role when it finally did deploy . Headlam succeeded Air Vice Marshal Douglas Candy as AOC Support Command , Melbourne , on 8 August 1966 . Support Command had been formed in 1959 , by merging the RAAF 's former Training and Maintenance Commands . On 1 January 1968 , Headlam was posted to London as Head of the Australian Joint Services Staff . He served as an Extra Gentleman Usher to the Queen from 17 November 1970 to 5 June 1971 .
Returning to Australia in June 1971 , Headlam took resettlement leave before retiring from the Air Force on 3 August . He made his home in Melbourne , where he died aged 62 on 23 December 1976 , after a lengthy battle with cancer . Survived by his children and his second wife , he was given a private funeral and cremated at Springvale Crematorium .
M @-@ 82 is a state trunkline in the Lower Peninsula in the US state of Michigan that travels between Fremont and Howard City . The section between Newaygo and Howard City travels through Fremont and along the southern edge of Manistee National Forest . The current version of M @-@ 82 is actually the second in the state ; the first usage appeared in the Upper Peninsula by 1919 . The Lower Peninsula routing has been in use since the 1920s . Various extensions and truncations have shifted the terminus as far west as New Era or Hesperia in the past . The current route was finalized in the late 1970s
M @-@ 82 begins at a junction with M @-@ 120 and B @-@ 96 west of Fremont . This junction is at a tripoint of county lines . M @-@ 120 forms the north – south Newaygo – Oceana and Newaygo – Muskegon county lines . B @-@ 96 , which forms the east – west Oceana – Muskegon county line runs due west of the intersection . M @-@ 82 exits the intersection to the east . The highway runs along 48th Street through rural farms into the community of Fremont . The road , now called Main Street , passes through the downtown area and M @-@ 82 turns south along Stewart Avenue out of town . The highway rounds a curve and transitions to 72nd Street running eastward through more farm land . As the trunkline approaches Newaygo , the terrain becomes more wooded near the Muskegon River . M @-@ 82 follows Fremont Street east to a junction with M @-@ 37 . The two highways merge and run concurrently over the river and into downtown on State Street . South of downtown , M @-@ 82 turns east again , independent of M @-@ 37 , and runs along 82nd Street on the southern edge of the Manistee National Forest . The east end of M @-@ 82 is at exit 118 on US 131 / M @-@ 46 west of Howard City .
The Michigan Department of Transportation ( MDOT ) , as a part of its maintenance responsibilities , tracks the volume of traffic using its roadways . These levels are expressed in terms of a metric called average annual daily traffic ( AADT ) , which is a calculation of the traffic along a segment of road for any average day of the year . In 2009 , the department 's measurements indicated that a segment of M @-@ 82 west of Fremont had the peak volume for the highway at 16 @,@ 532 vehicles daily . The traffic nadir was 4 @,@ 018 vehicles east of Newaygo . In addition , MDOT has not had any section of the highway listed on the National Highway System , a network of roads important to the country 's economy , defense , and mobility .
The first usage of M @-@ 82 was in the Upper Peninsula by July 1 , 1919 . The trunkline started at M @-@ 25 and ran north of Newberry to the vicinity of Eight Mile Corner . It was later replaced by M @-@ 48 in 1926 .
The current M @-@ 82 dates back to 1926 . It ran from US 31 in Hart to the northern junction of US 131 and M @-@ 46 in Howard City . The highway was routed through Ferry , Hesperia and Fremont , replacing M @-@ 41 . In late 1936 , M @-@ 46 was extended along the section between Newaygo and Howard City , forming a M @-@ 46 / M @-@ 82 concurrency to fill a gap in the M @-@ 46 routing . This concurrent section became just M @-@ 46 in 1938 , shortening M @-@ 82 back to the northern M @-@ 37 junction in Newaygo . The highway was moved to a new alignment west of Ferry in late 1947 or early 1948 . Instead of heading northwesterly to Hart , it was continued west to end in Shelby .
Two realignments in 1963 and 1964 rerouted the western end of the highway again . This time it was realigned to run from Hesperia to New Era , bypassing Ferry . A larger change around 1969 reconfigured the highway designations in Oceana County . M @-@ 20 replaced M @-@ 82 west of Hesperia , to end at New Era instead of Muskegon . The new M @-@ 120 designation replaced M @-@ 20 south of Hesperia . M @-@ 82 now ran from Hesperia to Newaygo only . The length of the highway was increased in 1973 when the eastern end was moved back to Howard City . M @-@ 46 was rerouted to follow the US 131 freeway south of Howard City to Cedar Springs , and replaced M @-@ 57 between Cedar Springs and Casnovia . This freed up the Newaygo to Howard City highway for a return to the M @-@ 82 designation . The last change came in 1978 when the concurrency with M @-@ 120 was eliminated in favor of M @-@ 120 . The M @-@ 82 designation was truncated at this time to the junction west of Fremont , resulting in the current highway routing .
Robert Boulter is an English film , television and theatre actor . He had a guest @-@ starring role on the television series The Bill in 2000 . This was followed by a starring role in the play Herons written by Simon Stephens , which was performed in 2001 at the Royal Court Theatre . He had a guest role in the television series Judge John Deed in 2002 . In 2004 Boulter landed a role as " Craig " in the episode " Teddy 's Story " of the television series The Long Firm ; he starred alongside actors Mark Strong and Derek Jacobi . He was cast in the 2005 theatre productions of the Philip Ridley play Mercury Fur , which was performed at the Drum Theatre in Plymouth and the Menier Chocolate Factory in London . He was directed by John Tiffany and starred alongside Ben Whishaw , Shane Zaza , Harry Kent , Fraser Ayres , Sophie Stanton and Dominic Hall .
In 2006 , Boulter starred alongside Whishaw in the play Citizenship written by Mark Ravenhill . He appeared on a 2006 episode of the television series , Doctors , followed by a role in the 2007 theatre production of How to Curse directed by Josie Rourke . How to Curse was performed at Bush Theatre in the London Borough of Hammersmith and Fulham . Boulter starred in two films in 2008 , Daylight Robbery by filmmaker Paris Leonti , and Donkey Punch directed by Olly Blackburn . In May 2008 , Boulter made a guest appearance on a two @-@ part episode arc of the television series Waking the Dead , followed by an appearance on the television series Survivors in November 2008 . He had a recurring role in ten episodes of the television series Casualty in 2010 , as " Kieron Fletcher " . Boulter starred in the 2011 film Mercenaries directed by Paris Leonti .
In 2000 Boulter had a guest @-@ starring role on the television series The Bill ; he portrayed " Scott Parry " in the episode , " In Safe Hands " . Boulter starred as " Scott " in the play Herons written by Simon Stephens , which was performed in 2001 at the Royal Court Theatre . A review of Boulter 's performance in The Independent on Sunday described him as " horribly menacing " in the role , and he received critical reviews in The Herald , and Evening Standard . He appeared in the television series Judge John Deed in 2002 as " Addem Armitage " in the episode " Political Expediency " , and had a role as a different character " Toby Steele " on The Bill .
He had a recurring role in 2003 on two episodes of The Bill , as character " Connor Price " . In 2004 Boulter landed a role as " Craig " in the episode " Teddy 's Story " of the television series The Long Firm ; he starred alongside actors Mark Strong and Derek Jacobi . Boulter starred as " Darren " , in the 2005 theatre productions of the Philip Ridley play Mercury Fur . It was performed at the Drum Theatre in Plymouth , and the Menier Chocolate Factory in London . He was directed by John Tiffany and starred alongside Ben Whishaw , Shane Zaza , Harry Kent , Fraser Ayres , Sophie Stanton and Dominic Hall . Boulter received a favorable review in The Daily Telegraph : " The acting is shatteringly intense , with wired performances from Ben Whishaw ( now unrecognisable from his performance as Trevor Nunn 's Hamlet ) , Robert Boulter , Shane Zaza and Fraser Ayres . " The Guardian noted , " Ben Whishaw and Robert Boulter offer tenderness amid the savagery . "
In 2006 Boulter starred in the play Citizenship written by Mark Ravenhill . The play was part of a series which featured different playwrights , titled Burn / Chatroom / Citizenship . In a 2006 interview , fellow actor Ben Whishaw identified Boulter as one of his favorite co @-@ stars : " I loved working with a guy called Robert Boulter , who was in the triple bill of Burn , Chatroom and Citizenship at the National . He played my brother in Mercury Fur . " He portrayed " Jason Tyler " on the 2006 episode of the television series , Doctors , titled " Something I Ate " . Boulter starred as " William " in the 2007 production of How to Curse directed by Josie Rourke . How to Curse was performed at Bush Theatre in the London Borough of Hammersmith and Fulham . In a review of the production for The Daily Telegraph , theatre critic Charles Spencer noted , " Robert Boulter brings a touching vulnerability to the stage as William . "
Boulter starred in two films in 2008 , Daylight Robbery by filmmaker Paris Leonti , and Donkey Punch directed by Olly Blackburn . Boulter portrayed a character named " Sean " in Donkey Punch , who tags along with character " Josh " as the " quiet brother ... who hits it off with Tammi " . Boulter guest starred on a two @-@ part episode arc " Wounds " in May 2008 of the television series Waking the Dead as character " Jimmy Dearden " . He appeared on the television series Survivors as " Neil " in November 2008 . He had a recurring role in ten episodes of the television series Casualty in 2010 , as " Kieron Fletcher " . He portrayed an emergency physician applying for a medical fellowship . He commented on the inherent difficulties in portraying a physician on television : " Playing a doctor is a strange experience . Pretending you know what you 're talking about when you don 't is very bizarre but there are advisers on set who are fantastic at taking you through procedures and giving you the confidence to stand there and look like you know what you 're doing . " Boulter starred in the 2011 film Mercenaries directed by Paris Leonti .
Du Fu ( Wade – Giles : Tu Fu ; Chinese : 杜甫 ; 712 – 770 ) was a prominent Chinese poet of the Tang dynasty . Along with Li Bai ( Li Po ) , he is frequently called the greatest of the Chinese poets . His greatest ambition was to serve his country as a successful civil servant , but he proved unable to make the necessary accommodations . His life , like the whole country , was devastated by the An Lushan Rebellion of 755 , and his last 15 years were a time of almost constant unrest .
Although initially he was little @-@ known to other writers , his works came to be hugely influential in both Chinese and Japanese literary culture . Of his poetic writing , nearly fifteen hundred poems have been preserved over the ages . He has been called the " Poet @-@ Historian " and the " Poet @-@ Sage " by Chinese critics , while the range of his work has allowed him to be introduced to Western readers as " the Chinese Virgil , Horace , Ovid , Shakespeare , Milton , Burns , Wordsworth , Béranger , Hugo or Baudelaire " .
Traditional Chinese literary criticism emphasized the life of the author when interpreting a work , a practice which Burton Watson attributes to " the close links that traditional Chinese thought posits between art and morality " . Since many of Du Fu 's poems feature morality and history , this practice is particularly important . Another reason , identified by the Chinese historian William Hung , is that Chinese poems are typically concise , omitting context that might be relevant , but which an informed contemporary could be assumed to know . For modern Western readers , " The less accurately we know the time , the place and the circumstances in the background , the more liable we are to imagine it incorrectly , and the result will be that we either misunderstand the poem or fail to understand it altogether " . Stephen Owen suggests a third factor particular to Du Fu , arguing that the variety of the poet 's work required consideration of his whole life , rather than the " reductive " categorizations used for more limited poets .
Most of what is known of Du Fu 's life comes from his poems . His paternal grandfather was Du Shenyan , a noted politician and poet during the reign of Empress Wu . Du Fu was born in 712 ; the exact birthplace is unknown , except that it was near Luoyang , Henan province ( Gong county is a favourite candidate ) . In later life , he considered himself to belong to the capital city of Chang 'an , ancestral hometown of the Du family .
Du Fu 's mother died shortly after he was born , and he was partially raised by his aunt . He had an elder brother , who died young . He also had three half brothers and one half sister , to whom he frequently refers in his poems , although he never mentions his stepmother .
The son of a minor scholar @-@ official , his youth was spent on the standard education of a future civil servant : study and memorisation of the Confucian classics of philosophy , history and poetry . He later claimed to have produced creditable poems by his early teens , but these have been lost .
In the early 730s , he travelled in the Jiangsu / Zhejiang area ; his earliest surviving poem , describing a poetry contest , is thought to date from the end of this period , around 735 . In that year , he took the civil service exam , likely in Chang 'an . He failed , to his surprise and that of centuries of later critics . Hung concludes that he probably failed because his prose style at the time was too dense and obscure , while Chou suggests his failure to cultivate connections in the capital may have been to blame . After this failure , he went back to traveling , this time around Shandong and Hebei .
His father died around 740 . Du Fu would have been allowed to enter the civil service because of his father 's rank , but he is thought to have given up the privilege in favour of one of his half brothers . He spent the next four years living in the Luoyang area , fulfilling his duties in domestic affairs .
In the autumn of 744 , he met Li Bai ( Li Po ) for the first time , and the two poets formed a friendship . David Young describes this as " the most significant formative element in Du Fu 's artistic development " because it gave him a living example of the reclusive poet @-@ scholar life to which he was attracted after his failure in the civil service exam . The relationship was somewhat one @-@ sided , however . Du Fu was by some years the younger , while Li Bai was already a poetic star . We have twelve poems to or about Li Bai from the younger poet , but only one in the other direction . They met again only once , in 745 .
In 746 , he moved to the capital in an attempt to resurrect his official career . He took the civil service exam a second time during the following year , but all the candidates were failed by the prime minister ( apparently in order to prevent the emergence of possible rivals ) . He never again attempted the examinations , instead petitioning the emperor directly in 751 , 754 and probably again in 755 . He married around 752 , and by 757 the couple had had five children — three sons and two daughters — but one of the sons died in infancy in 755 . From 754 he began to have lung problems ( probably asthma ) , the first of a series of ailments which dogged him for the rest of his life . It was in that year that Du Fu was forced to move his family due to the turmoil of a famine brought about by massive floods in the region .
In 755 , he received an appointment as Registrar of the Right Commandant 's office of the Crown Prince 's Palace . Although this was a minor post , in normal times it would have been at least the start of an official career . Even before he had begun work , however , the position was swept away by events .
The An Lushan Rebellion began in December 755 , and was not completely suppressed for almost eight years . It caused enormous disruption to Chinese society : the census of 754 recorded 52 @.@ 9 million people , but ten years later , the census counted just 16 @.@ 9 million , the remainder having been displaced or killed . During this time , Du Fu led a largely itinerant life unsettled by wars , associated famines and imperial displeasure . This period of unhappiness was the making of Du Fu as a poet : Even Shan Chou has written that , " What he saw around him — the lives of his family , neighbors , and strangers – what he heard , and what he hoped for or feared from the progress of various campaigns — these became the enduring themes of his poetry " . Even when he learned of the death of his youngest child , he turned to the suffering of others in his poetry instead of dwelling upon his own misfortunes . Du Fu wrote :
Brooding on what I have lived through , if even I know such suffering , the common man must surely be rattled by the winds .
In 756 , Emperor Xuanzong was forced to flee the capital and abdicate . Du Fu , who had been away from the city , took his family to a place of safety and attempted to join the court of the new emperor ( Suzong ) , but he was captured by the rebels and taken to Chang 'an . In the autumn , his youngest son , Du Zongwu ( Baby Bear ) , was born . Around this time Du Fu is thought to have contracted malaria .
He escaped from Chang 'an the following year , and was appointed Reminder when he rejoined the court in May 757 . This post gave access to the emperor but was largely ceremonial . Du Fu 's conscientiousness compelled him to try to make use of it : he caused trouble for himself by protesting the removal of his friend and patron Fang Guan on a petty charge . He was arrested but was pardoned in June . He was granted leave to visit his family in September , but he soon rejoined the court and on December 8 , 757 , he returned to Chang 'an with the emperor following its recapture by government forces . However , his advice continued to be unappreciated , and in the summer of 758 he was demoted to a post as Commissioner of Education in Huazhou . The position was not to his taste : in one poem , he wrote :
I am about to scream madly in the office / Especially when they bring more papers to pile higher on my desk .
He moved on in the summer of 759 ; this has traditionally been ascribed to famine , but Hung believes that frustration is a more likely reason . He next spent around six weeks in Qinzhou ( now Tianshui , Gansu province ) , where he wrote more than sixty poems .
In December 759 , he briefly stayed in Tonggu ( modern Gansu ) . He departed on December 24 for Chengdu ( Sichuan province ) , where he was hosted by local Prefect and fellow poet Pei Di . Du subsequently based himself in Sichuan for most of the next five years . By the autumn of that year he was in financial trouble , and sent poems begging help to various acquaintances . He was relieved by Yan Wu , a friend and former colleague who was appointed governor general at Chengdu . Despite his financial problems , this was one of the happiest and most peaceful periods of his life . Many of Du 's poems from this period are peaceful depictions of his life at " thatched hut " . In 762 , he left the city to escape a rebellion , but he returned in summer 764 when he was appointed an advisor to Yan , who was involved in campaigns against the Tibetan Empire .
Luoyang , the region of his birthplace , was recovered by government forces in the winter of 762 , and in the spring of 765 Du Fu and his family sailed down the Yangtze , apparently with the intention of making their way there . They traveled slowly , held up by his ill @-@ health ( by this time he was suffering from poor eyesight , deafness and general old age in addition to his previous ailments ) . They stayed in Kuizhou ( in what is now Baidicheng , Chongqing ) at the entrance to the Three Gorges for almost two years from late spring 766 . This period was Du Fu 's last great poetic flowering , and here he wrote 400 poems in his dense , late style . In autumn 766 , Bo Maolin became governor of the region : he supported Du Fu financially and employed him as his unofficial secretary .
In March 768 , he began his journey again and got as far as Hunan province , where he died in Tanzhou ( now Changsha ) in November or December 770 , in his 58th year . He was survived by his wife and two sons , who remained in the area for some years at least . His last known descendant is a grandson who requested a grave inscription for the poet from Yuan Zhen in 813 .
Hung summarises his life by concluding that , " He appeared to be a filial son , an affectionate father , a generous brother , a faithful husband , a loyal friend , a dutiful official , and a patriotic subject . "
Below is an example of one of Du Fu 's later works , To My Retired Friend Wei ( Chinese : 贈衛八處士 ) . Like many other poems in the Tang it featured the theme of a long parting between friends , which was often due to officials being frequently transferred to the provinces :
Criticism of Du Fu 's works has focused on his strong sense of history , his moral engagement , and his technical excellence .
Since the Song dynasty , critics have called Du Fu the " poet historian " ( 詩史 shī shǐ ) . The most directly historical of his poems are those commenting on military tactics or the successes and failures of the government , or the poems of advice which he wrote to the emperor . Indirectly , he wrote about the effect of the times in which he lived on himself , and on the ordinary people of China . As Watson notes , this is information " of a kind seldom found in the officially compiled histories of the era " .
Du Fu 's political comments are based on emotion rather than calculation : his prescriptions have been paraphrased as , " Let us all be less selfish , let us all do what we are supposed to do " . Since his views were impossible to disagree with , his forcefully expressed truisms enabled his installation as the central figure of Chinese poetic history .
A second favourite epithet of Chinese critics is that of " poet sage " ( 詩聖 shī shèng ) , a counterpart to the philosophical sage , Confucius . One of the earliest surviving works , The Song of the Wagons ( from around 750 ) , gives voice to the sufferings of a conscript soldier in the imperial army and a clear @-@ sighted consciousness of suffering . These concerns are continuously articulated in poems on the lives of both soldiers and civilians produced by Du Fu throughout his life .
Although Du Fu 's frequent references to his own difficulties can give the impression of an all @-@ consuming solipsism , Hawkes argues that his " famous compassion in fact includes himself , viewed quite objectively and almost as an afterthought " . He therefore " lends grandeur " to the wider picture by comparing it to " his own slightly comical triviality " .
Du Fu 's compassion , for himself and for others , was part of his general broadening of the scope of poetry : he devoted many works to topics which had previously been considered unsuitable for poetic treatment . Zhang Jie wrote that for Du Fu , " everything in this world is poetry " , Du wrote extensively on subjects such as domestic life , calligraphy , paintings , animals , and other poems .
Du Fu 's work is notable above all for its range . Chinese critics traditionally used the term 集大成 ( jídàchéng- " complete symphony " ) , a reference to Mencius ' description of Confucius . Yuan Zhen was the first to note the breadth of Du Fu 's achievement , writing in 813 that his predecessor , " united in his work traits which previous men had displayed only singly " . He mastered all the forms of Chinese poetry : Chou says that in every form he " either made outstanding advances or contributed outstanding examples " . Furthermore , his poems use a wide range of registers , from the direct and colloquial to the allusive and self @-@ consciously literary . This variety is manifested even within individual works : Owen identifies the , " rapid stylistic and thematic shifts " in poems which enable the poet to represent different facets of a situation , while Chou uses the term " juxtaposition " as the major analytical tool in her work . Du Fu is noted for having written more on poetics and painting than any other writer of his time . He wrote eighteen poems on painting alone , more than any other Tang poet . Du Fu 's seemingly negative commentary on the prized horse paintings of Han Gan ignited a controversy that has persisted to the present day .
The tenor of his work changed as he developed his style and adapted to his surroundings ( " chameleon @-@ like " according to Watson ) : his earliest works are in a relatively derivative , courtly style , but he came into his own in the years of the rebellion . Owen comments on the " grim simplicity " of the Qinzhou poems , which mirrors the desert landscape ; the works from his Chengdu period are " light , often finely observed " ; while the poems from the late Kuizhou period have a " density and power of vision " .
Although he wrote in all poetic forms , Du Fu is best known for his lǜshi , a type of poem with strict constraints on form and content , for example :
About two thirds of Du Fu 's 1500 extant works are in this form , and he is generally considered to be its leading exponent . His best lǜshi use the parallelisms required by the form to add expressive content rather than as mere technical restrictions . Hawkes comments that , " it is amazing that Tu Fu is able to use so immensely stylized a form in so natural a manner " .
According to the Encyclopædia Britannica , Du Fu 's writings are considered by many literary critics to be among the greatest of all time , and it states " his dense , compressed language makes use of all the connotative overtones of a phrase and of all the intonational potentials of the individual word , qualities that no translation can ever reveal . "
In his lifetime and immediately following his death , Du Fu was not greatly appreciated . In part this can be attributed to his stylistic and formal innovations , some of which are still " considered extremely daring and bizarre by Chinese critics . " There are few contemporary references to him — only eleven poems from six writers — and these describe him in terms of affection , but not as a paragon of poetic or moral ideals . Du Fu is also poorly represented in contemporary anthologies of poetry .
However , as Hung notes , he " is the only Chinese poet whose influence grew with time " , and his works began to increase in popularity in the ninth century . Early positive comments came from Bai Juyi , who praised the moral sentiments of some of Du Fu 's works ( although he found these in only a small fraction of the poems ) , and from Han Yu , who wrote a piece defending Du Fu and Li Bai on aesthetic grounds from attacks made against them . Both these writers showed the influence of Du Fu in their own poetic work . By the beginning of the 10th century , Wei Zhuang constructed the first replica of his thatched cottage in Sichuan .
It was in the 11th century , during the Northern Song era that Du Fu 's reputation reached its peak . In this period a comprehensive re @-@ evaluation of earlier poets took place , in which Wang Wei , Li Bai and Du Fu came to be regarded as representing respectively the Buddhist , Daoist and Confucian strands of Chinese culture . At the same time , the development of Neo @-@ Confucianism ensured that Du Fu , as its poetic exemplar , occupied the paramount position . Su Shi famously expressed this reasoning when he wrote that Du Fu was " preeminent ... because ... through all his vicissitudes , he never for the space of a meal forgot his sovereign " . His influence was helped by his ability to reconcile apparent opposites : political conservatives were attracted by his loyalty to the established order , while political radicals embraced his concern for the poor . Literary conservatives could look to his technical mastery , while literary radicals were inspired by his innovations . Since the establishment of the People 's Republic of China , Du Fu 's loyalty to the state and concern for the poor have been interpreted as embryonic nationalism and socialism , and he has been praised for his use of simple , " people 's language " .


====================
文件: .\data_processing\build_tokenizer.py
====================

# FILE: data_processing/build_tokenizer.py
"""
Bedrock Protocol: Module for training a SentencePiece tokenizer. (Upgraded for Robustness)

This script provides a single, focused function to train a tokenizer from a
corpus file. It now includes a dynamic fallback mechanism to automatically
adjust the vocabulary size if the initial request is too large for the corpus,
ensuring the pipeline doesn't crash on smaller datasets.
"""

import sentencepiece as spm
from pathlib import Path
import argparse
import re
import logging  # 导入 logging 模块
import shutil  # 用于文件复制
import json  # 用于生成 JSON 配置
import sys  # 修正: 导入 sys
from transformers import PreTrainedTokenizerFast, AutoTokenizer, LlamaTokenizerFast

# 修正: 配置日志, 确保脚本独立运行时也能正常输出
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.StreamHandler(sys.stdout)  # 默认输出到控制台
    ]
)
# 获取日志器
logger = logging.getLogger(__name__)


def train_tokenizer(
        output_path_prefix: str,
        corpus_path: str,
        vocab_size: int,
        model_type: str,
        character_coverage: float,
        add_special_tokens: bool = True
) -> None:
    """
    Trains a SentencePiece tokenizer and saves the model.
    Includes a fallback to automatically reduce vocab_size if it's too high.
    """
    # 将传入的字符串路径转换为 Path 对象，以便使用 .parent 等属性
    output_path_prefix = Path(output_path_prefix)
    corpus_path = Path(corpus_path)

    # Ensure the output directory exists
    output_dir = output_path_prefix.parent
    output_dir.mkdir(parents=True, exist_ok=True)
    logger.info(f"分词器输出目录已准备: {output_dir}")

    # --- Initial Training Attempt ---
    try:
        logger.info(f"--- [Bedrock] 启动 SentencePiece 训练 (尝试 1) ---")
        logger.info(f"请求词汇量大小: {vocab_size}")
        # SentencePiece Trainer 需要字符串路径
        _run_sentencepiece_training(str(output_path_prefix), str(corpus_path), vocab_size, model_type,
                                    character_coverage, add_special_tokens)

    except RuntimeError as e:
        logger.warning(f"首次训练失败。这在小数据集上很常见。错误详情: {e}")

        # --- Dynamic Vocab Size Adjustment Logic ---
        match = re.search(r'Please set it to a value <= (\d+)', str(e))
        if match:
            suggested_vocab_size = int(match.group(1))
            logger.info(f"--- [Bedrock] 正在尝试使用建议词汇量: {suggested_vocab_size}")

            try:
                _run_sentencepiece_training(str(output_path_prefix), str(corpus_path), suggested_vocab_size, model_type,
                                            character_coverage, add_special_tokens)
            except RuntimeError as e2:
                logger.error(f"致命错误: 使用建议词汇量重试训练仍失败。错误详情: {e2}")
                return
        else:
            logger.error("致命错误: 无法从错误信息中解析建议词汇量。已中止。")
            return

    logger.info("\n--- [Bedrock] SentencePiece 训练完成 ---")

    # --- 保存为 Hugging Face Transformers 格式 (最新的鲁棒逻辑) ---
    logger.info(f"--- [Bedrock] 正在生成 Hugging Face 分词器文件... ---")
    hf_tokenizer_output_dir = output_dir / f"{output_path_prefix.name}_hf"
    hf_tokenizer_output_dir.mkdir(parents=True, exist_ok=True)
    logger.info(f"Hugging Face 分词器目标目录: {hf_tokenizer_output_dir}")

    spm_model_file = output_path_prefix.with_suffix('.model')

    try:
        # 修正：直接使用 LlamaTokenizerFast 加载 .model 文件，这是最稳健的方式
        # 它会正确生成所有必要的文件，包括 tokenizer.json
        logger.info(f"尝试使用 LlamaTokenizerFast 直接从 '{spm_model_file}' 加载...")
        tokenizer = LlamaTokenizerFast(vocab_file=str(spm_model_file))

        # 确保特殊 token 被正确设置
        if add_special_tokens:
            special_tokens_dict = {
                'bos_token': '[BOS]',
                'eos_token': '[EOS]',
                'unk_token': '[UNK]',
                'pad_token': '[PAD]'
            }
            tokenizer.add_special_tokens(special_tokens_dict)
            logger.info(f"已为分词器添加特殊 token: {list(special_tokens_dict.keys())}")

        if tokenizer.pad_token is None and tokenizer.eos_token is not None:
            tokenizer.pad_token = tokenizer.eos_token
            logger.info(f"已设置分词器的 pad_token 为 eos_token。")

        # 保存为 Hugging Face 格式
        tokenizer.save_pretrained(str(hf_tokenizer_output_dir))
        logger.info(f"Hugging Face 格式分词器已成功保存到: {hf_tokenizer_output_dir}")

    except Exception as e:
        logger.error(f"致命错误: 尝试生成 Hugging Face 分词器文件失败。错误详情: {e}")
        return


def _run_sentencepiece_training(
        output_path_prefix: str,
        corpus_path: str,
        vocab_size: int,
        model_type: str,
        character_coverage: float,
        add_special_tokens: bool
):
    """Helper function to construct and run the SentencePiece training command."""
    cmd_parts = [
        f'--input={corpus_path}',
        f'--model_prefix={output_path_prefix}',
        f'--vocab_size={vocab_size}',
        f'--model_type={model_type}',
        f'--character_coverage={character_coverage}',
    ]

    if add_special_tokens:
        cmd_parts.extend([
            f'--pad_id=0 --unk_id=1 --bos_id=2 --eos_id=3',
            f'--pad_piece=[PAD] --unk_piece=[UNK] --bos_piece=[BOS] --eos_piece=[EOS]',
            f'--user_defined_symbols=<0x0A>'
        ])

    command = " ".join(cmd_parts)
    spm.SentencePieceTrainer.Train(command)


if __name__ == "__main__":
    parser = argparse.ArgumentParser(description="Train a SentencePiece tokenizer with dynamic vocab size fallback.")
    parser.add_argument(
        "--output_path_prefix", type=str, required=True,
        help="The base path and prefix for the output files (e.g., './data/tokenizers/my_spm')."
    )
    parser.add_argument(
        "--corpus_path", type=str, required=True,
        help="Path to the text file corpus to train on."
    )
    parser.add_argument(
        "--vocab_size", type=int, default=8000,
        help="The desired total number of tokens in the vocabulary."
    )
    parser.add_argument(
        "--model_type", type=str, default="unigram", choices=["unigram", "bpe", "char", "word"],
        help="The tokenizer model type ('unigram' is recommended)."
    )
    parser.add_argument(
        "--character_coverage", type=float, default=1.0,
        help="The percentage of characters in the corpus to be covered."
    )
    parser.add_argument(
        "--add_special_tokens", type=bool, default=True,
        help="Whether to add default special tokens."
    )
    args = parser.parse_args()

    train_tokenizer(
        output_path_prefix=args.output_path_prefix,
        corpus_path=args.corpus_path,
        vocab_size=args.vocab_size,
        model_type=args.model_type,
        character_coverage=args.character_coverage,
        add_special_tokens=args.add_special_tokens
    )

# END OF FILE: data_processing/build_tokenizer.py

====================
文件: .\data_processing\download_and_reproduce.py
====================


# FILE: data_processing/download_and_reproduce.py
"""
基石协议：数据管道执行主脚本。

此脚本作为下载、处理和准备教程所需数据集的入口点。
它通过使用版本化数据集和确定性处理步骤，确保数据管道的完全可复现性。

设计为运行一次以设置所有必要的数据工件。
"""

import sys
import os
from pathlib import Path
import yaml
from datasets import load_dataset, concatenate_datasets, Dataset, DatasetDict  # 导入 Dataset 类
import logging
import datetime
import shutil  # 导入 shutil 模块用于文件操作
from PIL import Image  # 导入 Image 用于图像加载

# 配置日志
log_dir = Path("./logs")
log_dir.mkdir(parents=True, exist_ok=True)
log_filename = log_dir / f"data_pipeline_{datetime.datetime.now().strftime('%Y%m%d_%H%M%S')}.log"

logging.basicConfig(
    level=logging.INFO,  # 默认日志级别为 INFO
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler(log_filename, encoding='utf-8'),  # 输出到文件
        logging.StreamHandler(sys.stdout)  # 输出到控制台
    ]
)

# 获取主脚本的日志器
logger = logging.getLogger(__name__)

# 从 data_processing 包导入相关函数
from data_processing.process_text import clean_text_dataset, deduplicate_dataset, augment_text_dataset
from data_processing.process_vlm import process_vlm_dataset, deduplicate_vlm_dataset, augment_vlm_dataset
from data_processing.build_tokenizer import train_tokenizer


def run_text_pipeline(config_path: str) -> None:
    """
    执行用于文本预训练的整个数据管道。
    """
    logger.info("--- [基石] 启动文本数据处理流水线 ---")

    with open(config_path, 'r', encoding='utf-8') as f:
        config = yaml.safe_load(f)
    logger.info(f"已加载配置文件: {config_path}")

    # --- 路径解析（已修正，严格遵循配置文件） ---
    base_output_dir = Path(config['base_output_dir'])

    # 使用字符串替换来处理配置文件中的 ${variable} 占位符
    raw_data_dir = Path(config['raw_data_dir'].replace('${base_output_dir}', str(base_output_dir)))
    processed_data_dir = Path(config['processed_data_dir'].replace('${base_output_dir}', str(base_output_dir)))
    tokenizer_output_prefix = Path(config['tokenizer_output_path'].replace('${base_output_dir}', str(base_output_dir)))
    tokenizer_corpus_path = Path(
        config['tokenizer_training_corpus'].replace('${processed_data_dir}', str(processed_data_dir)))

    # 确保输出目录存在
    processed_data_dir.mkdir(parents=True, exist_ok=True)
    tokenizer_output_prefix.parent.mkdir(parents=True, exist_ok=True)
    logger.info(f"数据输出目录已准备: {processed_data_dir}")
    logger.info(f"分词器输出前缀已准备: {tokenizer_output_prefix}")

    logger.info(f"1. 正在加载数据集 '{config['dataset_name']}'...")
    # --- 健壮的数据集加载和子集选择逻辑 ---
    # 首先，加载数据集的元信息来检查可用的分割
    full_dataset = load_dataset(
        config['dataset_name'],
        config['dataset_config_name'],
        cache_dir=str(raw_data_dir),
    )
    logger.info(f"完整数据集包含以下分割: {list(full_dataset.keys())}")

    # 从配置文件获取数据集子集大小。如果为0或未指定，则加载整个数据集。
    subset_size = config.get('dataset_subset_size')

    if subset_size is not None and subset_size > 0:
        logger.info(f"--- [基石] 正在为所有可用分割加载子集: 前 {subset_size} 个样本。 ---")

        processed_splits = {}
        for split_name, split_dataset in full_dataset.items():
            # 为每个分割选择子集
            # 为了保持分割间的比例，可以为验证集和测试集选择更小的子集
            if split_name == 'train':
                size = subset_size
            else:  # validation, test, etc.
                size = int(subset_size * 0.1) if int(subset_size * 0.1) > 0 else 1

            # 确保请求的样本数不超过该分割的总样本数
            if size > len(split_dataset):
                logger.warning(
                    f"请求的子集大小 {size} 大于 '{split_name}' 分割的可用样本数 {len(split_dataset)}。将使用所有可用样本。")
                size = len(split_dataset)

            processed_splits[split_name] = split_dataset.select(range(size))

        dataset = DatasetDict(processed_splits)
        logger.info(f"子集加载完成，包含分割: {list(dataset.keys())}")
    else:
        logger.info(f"--- [基石] 正在使用完整数据集。 ---")
        dataset = full_dataset
    logger.info("数据集加载成功。")

    logger.info("2. 正在进行文本清洗和质量过滤...")
    cleaned_dataset = clean_text_dataset(dataset, text_column=config['text_column'])
    logger.info("文本清洗和质量过滤完成。")

    logger.info("3. 正在进行数据去重...")
    deduplicated_dataset = deduplicate_dataset(cleaned_dataset, text_column=config['text_column'])
    logger.info("数据去重完成。")

    logger.info("4. 正在进行数据增强...")
    augmented_dataset = augment_text_dataset(deduplicated_dataset, text_column=config['text_column'])
    logger.info("数据增强步骤完成。")

    logger.info(f"5. 正在保存处理后的数据集到 '{processed_data_dir}'...")
    augmented_dataset.save_to_disk(str(processed_data_dir))
    logger.info(f"处理后的数据集已保存到: {processed_data_dir}")

    logger.info(f"6. 正在准备分词器训练语料到 '{tokenizer_corpus_path}'...")
    # 假设文本数据管道加载的数据集包含 'train', 'validation', 'test' 分割
    # 确保这些分割存在，或者根据实际情况调整
    full_text_dataset = concatenate_datasets([
        augmented_dataset['train'],
        augmented_dataset['validation'],
        augmented_dataset['test']
    ])
    with open(tokenizer_corpus_path, "w", encoding="utf-8") as f:
        for example in full_text_dataset:
            text = example[config['text_column']]
            if text:  # 确保写入非空文本
                f.write(text + "\n")
    logger.info("分词器训练语料已准备。")

    logger.info(f"7. 正在训练 SentencePiece 分词器并保存为 Hugging Face 格式...")
    train_tokenizer(
        output_path_prefix=str(tokenizer_output_prefix),  # 确保传递字符串
        corpus_path=str(tokenizer_corpus_path),  # 确保传递字符串
        vocab_size=config['vocab_size'],
        model_type=config['model_type'],
        character_coverage=config['character_coverage']
    )
    logger.info(f"分词器训练和保存完成到 '{tokenizer_output_prefix}_hf'.")

    logger.info("--- [基石] 文本数据处理流水线全部完成 ---")


def run_vlm_pipeline(config_path: str) -> None:
    """
    执行用于 VLM 预训练的数据管道。
    已重构，以更稳健地处理 COCO 数据下载和加载。
    """
    logger.info("\n--- [基石] 启动 VLM 数据处理流水线 ---")

    with open(config_path, 'r', encoding='utf-8') as f:
        config = yaml.safe_load(f)
    logger.info(f"已加载配置文件: {config_path}")

    base_output_dir = Path(config['base_output_dir'])
    # 对于 VLM 数据，通常目录名为 'coco_demo' 或 'coco_val_demo'
    # 使用 Path(config['raw_data_dir']).name 来从配置文件中提取目录名部分
    raw_data_dir = base_output_dir / 'raw' / Path(config['raw_data_dir']).name
    processed_data_dir = base_output_dir / 'processed' / Path(config['processed_data_dir']).name

    # 确保输出目录存在
    processed_data_dir.mkdir(parents=True, exist_ok=True)
    logger.info(f"VLM 数据输出目录已准备: {processed_data_dir}")

    # --- 健壮的 VLM 数据集加载和子集选择逻辑 ---
    dataset_name = config['dataset_name']
    logger.info(f"1. 正在加载数据集 '{dataset_name}'...")

    # 首先，加载数据集的元信息来检查可用的分割
    full_dataset = load_dataset(
        dataset_name,
        cache_dir=str(raw_data_dir),
    )
    logger.info(f"完整数据集包含以下分割: {list(full_dataset.keys())}")

    # 从配置文件获取 num_samples_to_process。如果为0或未指定，则加载整个数据集。
    num_samples_to_process = config.get("num_samples_to_process")

    if num_samples_to_process is not None and num_samples_to_process > 0:
        logger.info(f"--- [基石] 正在为所有可用分割加载子集: 前 {num_samples_to_process} 个样本。 ---")

        processed_splits = {}
        for split_name, split_dataset in full_dataset.items():
            # 确保请求的样本数不超过该分割的总样本数
            size = num_samples_to_process
            if size > len(split_dataset):
                logger.warning(
                    f"请求的子集大小 {size} 大于 '{split_name}' 分割的可用样本数 {len(split_dataset)}。将使用所有可用样本。")
                size = len(split_dataset)

            processed_splits[split_name] = split_dataset.select(range(size))

        dataset = DatasetDict(processed_splits)
        logger.info(f"子集加载完成，包含分割: {list(dataset.keys())}")
    else:
        logger.info(f"--- [基石] 正在使用完整数据集。 ---")
        dataset = full_dataset
    logger.info("数据集加载成功。")
    # --- VLM 数据下载和初始加载逻辑结束 ---

    logger.info("2. 正在处理 VLM 数据 (图像转换, 文本清洗等)...")
    processed_dataset = process_vlm_dataset(
        dataset,
        image_column=config['image_column'],
        text_column=config['text_column'],
        distillation_config=config['distillation']
    )
    logger.info("VLM 数据处理完成。")

    logger.info("3. 正在进行 VLM 数据去重...")
    deduplicated_dataset = deduplicate_vlm_dataset(
        processed_dataset,
        image_column=config['image_column'],  # 原始列名，仅为函数签名兼容性
        text_column='cleaned_captions'  # 确保使用清洗后的字幕进行去重
    )
    logger.info("VLM 数据去重完成。")

    logger.info("4. 正在进行 VLM 数据增强...")
    augmented_vlm_dataset = augment_vlm_dataset(
        deduplicated_dataset,
        image_column=config['image_column'],
        text_column='cleaned_captions',
        augmentation_config=config.get('augmentation', {})
    )
    logger.info("VLM 数据增强步骤完成。")

    logger.info(f"5. 正在保存处理后的数据集到 '{processed_data_dir}'...")
    augmented_vlm_dataset.save_to_disk(str(processed_data_dir))
    logger.info(f"处理后的 VLM 数据集已保存到: {processed_data_dir}")

    logger.info("--- [基石] VLM 数据处理流水线全部完成 ---")


if __name__ == "__main__":
    import argparse

    parser = argparse.ArgumentParser(description="运行 Awesome-LLM-ZeroToScratch 的数据处理管道。")
    parser.add_argument(
        "pipeline",
        type=str,
        choices=["text", "vlm", "all"],
        help="要运行的管道: 'text', 'vlm', 或 'all'。"
    )
    args = parser.parse_args()

    PIPELINE_TO_RUN = args.pipeline

    script_dir = Path(__file__).parent
    project_root = script_dir.parent
    text_config = project_root / "configs/data/text_pretrain.yaml"
    vlm_config = project_root / "configs/data/vlm_pretrain.yaml"

    if PIPELINE_TO_RUN in ["text", "all"]:
        run_text_pipeline(str(text_config))

    if PIPELINE_TO_RUN in ["vlm", "all"]:
        run_vlm_pipeline(str(vlm_config))

    logger.info("\n[基石] 所有选定的流水线已成功执行。")

# END OF FILE: data_processing/download_and_reproduce.py


====================
文件: .\data_processing\process_text.py
====================

# FILE: data_processing/process_text.py
"""
Bedrock Protocol: Module for text data cleaning and processing.

This module contains functions that perform deterministic, rule-based cleaning
on text datasets. The goal is to improve data quality, which is a cornerstone
of building robust models.
"""

import os
import logging
from typing import Dict, Any
from datasets import Dataset, DatasetDict
import re

# 配置日志
logger = logging.getLogger(__name__)


def clean_text(text: str) -> str:
    """
    对单个文本字符串应用一系列确定性的清洗规则。
    此函数旨在标准化文本格式，移除无关内容，为后续处理步骤做准备。

    Args:
        text: 原始的文本字符串。

    Returns:
        清洗后的文本字符串。如果输入无效，则返回空字符串。
    """
    if not isinstance(text, str):
        logger.warning(f"检测到非字符串类型的数据，无法执行清洗，已跳过。数据类型: {type(text)}")
        return ""

    # 规则 1: 标准化空白字符。将多个空格、换行符、制表符替换为单个空格，并移除首尾空格。
    cleaned_text = re.sub(r'\s+', ' ', text).strip()

    # 规则 2: 移除维基百科文章中常见的元数据标题行 (例如, "= = = Section Title = = =")。
    # 这条规则是针对 Wikitext 数据集格式的特定优化。
    if cleaned_text.startswith('=') and cleaned_text.endswith('='):
        logger.debug(f"移除被识别为元数据行的文本: {cleaned_text[:80]}...")
        return ""  # 返回空字符串，该行将在后续的质量过滤中被移除

    return cleaned_text


def quality_filter(text: str) -> bool:
    """
    对文本字符串应用一套启发式规则，以评估其数据质量。
    此函数用于过滤掉低质量或无意义的文本。

    Args:
        text: 需要检查的文本字符串。

    Returns:
        如果文本通过所有质量检查，则返回 True，否则返回 False。
    """
    if not text:
        logger.debug("质量过滤：过滤掉空文本。")
        return False

    # 过滤规则 1: 最小长度（按词计数）。此规则可以有效过滤掉过短或无意义的行。
    # 这里的 "10" 是一个经验值，可以根据具体任务进行调整。
    if len(text.split()) < 10:
        logger.debug(f"质量过滤：因少于10个词而过滤掉的短文本: {text[:80]}...")
        return False

    # 过滤规则 2: 文本必须包含至少一个英文字母。此规则可以过滤掉纯数字或纯符号的行。
    if not re.search(r'[a-zA-Z]', text):
        logger.debug(f"质量过滤：因不含任何英文字母而被过滤的文本: {text[:80]}...")
        return False

    return True


def clean_text_dataset(dataset: DatasetDict, text_column: str) -> DatasetDict:
    """
    将文本清洗和质量过滤函数应用于 Hugging Face DatasetDict 的所有分割。
    这是一个高级封装函数，它协调 `clean_text` 和 `quality_filter` 的执行。

    Args:
        dataset: 原始的 DatasetDict 对象。
        text_column: 包含待清洗文本的列名。

    Returns:
        一个新的 DatasetDict，其中包含了经过清洗和过滤的数据。
    """
    logger.info("开始对整个数据集进行文本清洗和质量过滤...")
    # 使用多进程以加速处理，进程数可以根据 CPU 核心数调整
    num_processes = os.cpu_count() if os.cpu_count() is not None else 1
    logger.info(f"使用 {num_processes} 个进程进行数据映射操作。")

    # 第一步: 应用 clean_text 函数进行初步清洗
    cleaned_dataset = dataset.map(
        lambda example: {text_column: clean_text(example[text_column])},
        num_proc=num_processes,
        desc="执行文本初步清洗"
    )
    logger.info("文本初步清洗完成。")

    # 第二步: 应用 quality_filter 函数进行质量过滤
    # 过滤掉在 clean_text 中可能返回空字符串的行，以及不符合质量标准的行
    filtered_dataset = cleaned_dataset.filter(
        lambda example: quality_filter(example[text_column]),
        num_proc=num_processes,
        desc="执行数据质量过滤"
    )
    
    # 记录每个分割的样本数量变化
    for split_name in dataset.keys():
        original_count = len(dataset[split_name])
        filtered_count = len(filtered_dataset[split_name])
        logger.info(f"'{split_name}' 分割：原始样本数 = {original_count}, 过滤后样本数 = {filtered_count} (移除了 {original_count - filtered_count} 个样本)")

    logger.info("数据集的文本清洗和质量过滤全部完成。")
    return filtered_dataset


def deduplicate_dataset(dataset: DatasetDict, text_column: str) -> DatasetDict:
    """
    使用高效的、基于哈希的向量化方法，从 Hugging Face DatasetDict 的所有分割中删除精确的重复文本条目。

    Args:
        dataset: 要去重的 DatasetDict 对象。
        text_column: 包含要进行去重操作的文本的列名。

    Returns:
        一个新的 DatasetDict，其中重复的条目已被移除。
    """
    logger.info("开始对数据集进行高效的精确去重...")
    # 使用多进程以加速处理，进程数可以根据 CPU 核心数调整
    num_processes = os.cpu_count() if os.cpu_count() is not None else 1
    logger.info(f"使用 {num_processes} 个进程进行去重。")

    deduplicated_dataset = DatasetDict()
    for split_name, split_dataset in dataset.items():
        original_count = len(split_dataset)
        logger.info(f"正在处理 '{split_name}' 分割，共 {original_count} 个样本...")

        # 使用 map 方法高效地计算每个文本的哈希值
        # with_indices=True 会为每个样本提供一个唯一的索引，用于后续的筛选
        hashes = split_dataset.map(
            lambda example: {'hash': hash(example[text_column])},
            num_proc=num_processes,
            desc=f"为 '{split_name}' 分割计算哈希值"
        )

        seen_hashes = set()
        unique_indices = []

        # 迭代哈希值（这比迭代整个数据集要快得多）
        for i, h in enumerate(hashes['hash']):
            if h not in seen_hashes:
                seen_hashes.add(h)
                unique_indices.append(i)

        # 使用计算出的唯一索引来选择样本
        deduplicated_split = split_dataset.select(unique_indices)
        deduplicated_dataset[split_name] = deduplicated_split
        
        final_count = len(deduplicated_split)
        logger.info(
            f"'{split_name}' 分割去重完成。原始样本数: {original_count}, 去重后样本数: {final_count} (移除了 {original_count - final_count} 个重复项)"
        )

    logger.info("数据集精确去重完成。")
    return deduplicated_dataset


def augment_text_dataset(dataset: DatasetDict, text_column: str) -> DatasetDict:
    """
    用于文本数据增强的概念性占位符函数。

    在真实的生产环境中，这里可以集成各种数据增强技术，例如：
    - **回译 (Back-translation)**: 将文本翻译到另一种语言再翻译回来，以产生新的表述。
    - **释义 (Paraphrasing)**: 使用语言模型生成与原文意思相同但措辞不同的句子。
    - **同义词替换**: 使用词库（如 WordNet）替换句子中的部分词语。
    - **生成式增强**: 使用大型语言模型根据原文生成新的、相关的文本样本。

    Args:
        dataset: 需要进行增强的 DatasetDict 对象。
        text_column: 包含待增强文本的列名。

    Returns:
        返回原始的 DatasetDict。这是一个占位符，需要实现具体逻辑才能实际增强数据。
    """
    logger.info("开始执行概念性文本数据增强 (当前为占位符逻辑)。")
    # -------------------------------------------------------------------
    # 警告: 下方是数据增强的示例代码，默认被注释掉。
    # 若要启用，请取消注释并安装所需库 (例如 `pip install nlpaug`)。
    # -------------------------------------------------------------------
    # from nlpaug.augmenter.word import SynonymAugmenter
    # aug = SynonymAugmenter(aug_src='wordnet')
    #
    # def _augment_example(example: Dict[str, Any]) -> Dict[str, Any]:
    #     original_text = example[text_column]
    #     # nlpaug 可能返回单个字符串或列表，确保处理逻辑的健壮性
    #     augmented_text_list = aug.augment(original_text)
    #     augmented_text = augmented_text_list[0] if isinstance(augmented_text_list, list) else augmented_text_list
    #     return {text_column: augmented_text if augmented_text else original_text}
    #
    # logger.info("正在应用同义词替换增强...")
    # num_processes = os.cpu_count() if os.cpu_count() is not None else 1
    # augmented_dataset = dataset.map(_augment_example, num_proc=num_processes, desc="应用数据增强")
    # logger.info("文本数据增强完成。")
    # return augmented_dataset
    # -------------------------------------------------------------------

    logger.warning("数据增强功能当前为占位符，未对数据进行实际修改。若需启用，请在 `augment_text_dataset` 函数中实现具体逻辑。")
    return dataset  # 按当前设计，返回未经修改的原始数据集

# END OF FILE: data_processing/process_text.py

====================
文件: .\data_processing\process_vlm.py
====================

# FILE: data_processing/process_vlm.py
"""
Bedrock Protocol: Module for Vision-Language Model (VLM) data processing.

Contains functions for handling image-text pairs, including cleaning, resizing,
and a conceptual implementation of data distillation.
Now includes deduplication and conceptual augmentation.
"""

import os
import logging # 导入 logging 模块
from typing import Dict, Any, List
from datasets import Dataset, DatasetDict
from PIL import Image
import torch
import torch.nn as nn
from torchvision.transforms import ToTensor, Resize, Compose
import hashlib # 用于图像哈希


# 配置日志
logger = logging.getLogger(__name__)


# --- Conceptual Implementation of GPT-4V Distillation ---
# Mandate of Proactive Defense: This function is designed to be safe. It will
# not run and incur costs unless explicitly enabled and configured with an
# API key via environment variables.

def conceptual_gpt4v_distillation(
        image: Image.Image,
        config: Dict[str, Any]
) -> List[str]:
    """
    一个概念性的、非执行的示例，演示如何使用像 GPT-4V 这样的多模态大模型
    为图像生成高质量的描述（即数据蒸馏）。

    警告: 此函数被设计为安全的占位符。除非在配置文件中明确启用并通过环境变量
    设置了 API 密钥，否则它不会执行实际的 API 调用，从而避免意外的费用产生。

    Args:
        image: 一个 PIL.Image.Image 对象。
        config: 包含蒸馏相关配置的字典，例如 `enabled` 和 `max_prompts`。

    Returns:
        一个包含生成描述的列表。在此示例中，仅返回一个硬编码的占位符描述。
    """
    logger.info("正在执行概念性 GPT-4V 数据蒸馏（当前为占位符逻辑）。")
    
    # 在实际应用中，您需要取消注释并完善此处的逻辑。
    if not config.get("enabled", False):
        logger.debug("数据蒸馏功能在配置中未启用。")
        return ["数据蒸馏功能未启用（概念性实现）。"]

    # 从环境变量中获取 API 密钥，这是管理密钥的安全实践。
    api_key = os.environ.get("OPENAI_API_KEY")
    if not api_key:
        logger.warning("警告: 环境变量 `OPENAI_API_KEY` 未设置。无法执行实际的蒸馏操作。")
        return ["数据蒸馏已启用但缺少 API 密钥（概念性实现）。"]

    # -------------------------------------------------------------------
    # 警告: 下方是实际 API 调用的示例代码，默认被注释掉。
    # 若要启用，请确保已安装 openai 库 (`pip install openai`) 并已设置 API 密钥。
    # -------------------------------------------------------------------
    # from openai import OpenAI
    # client = OpenAI(api_key=api_key)
    # import base64
    # from io import BytesIO
    #
    # # 将 PIL 图像转换为 Base64 编码的字符串
    # buffered = BytesIO()
    # image.save(buffered, format="PNG")
    # img_str = base64.b64encode(buffered.getvalue()).decode("utf-8")
    #
    # # 构建发送给 GPT-4V 的请求
    # response = client.chat.completions.create(
    #     model="gpt-4-vision-preview",
    #     messages=[
    #         {
    #             "role": "user",
    #             "content": [
    #                 {"type": "text", "text": config.get("prompt", "请详细描述这张图片。")},
    #                 {"type": "image_url", "image_url": {"url": f"data:image/png;base64,{img_str}"}},
    #             ],
    #         }
    #     ],
    #     max_tokens=300,
    # )
    # distilled_caption = response.choices[0].message.content
    # return [distilled_caption]
    # -------------------------------------------------------------------

    # 在本教程中，我们返回一个硬编码的占位符字符串。
    logger.info("概念性 GPT-4V 数据蒸馏完成。返回占位符描述。")
    return [f"这是一张为 {image.mode} 图像生成的、概念性的高质量描述（蒸馏功能已激活）。"]


def process_vlm_dataset(
        dataset: Dataset,
        image_column: str,
        text_column: str,
        distillation_config: Dict[str, Any]
) -> Dataset:
    """
    对 VLM 数据集进行系统化处理，包括图像验证、转换、文本清洗和概念性数据蒸馏。

    Args:
        dataset: 原始的 Hugging Face Dataset 对象。
        image_column: 包含图像的列名。
        text_column: 包含文本描述的列名。
        distillation_config: 用于概念性数据蒸馏的配置字典。

    Returns:
        处理后的 Dataset，其中包含了新的列（如 `processed_image_tensor`）并过滤了无效样本。
    """
    logger.info("开始处理 VLM 数据集，包括图像验证、转换和文本清洗...")

    # 定义标准的图像转换流程，这是 VLM 模型输入的常见预处理步骤
    image_transform = Compose([
        Resize((224, 224)),  # 将所有图像尺寸统一调整为 224x224
        ToTensor(),          # 将 PIL.Image 对象转换为 PyTorch 张量
    ])

    # 使用闭包变量来限制蒸馏 API 的调用次数，以控制成本
    prompt_count = 0

    def process_example(example: Dict[str, Any], idx: int) -> Dict[str, Any]:
        """处理 VLM 数据集中的单个样本。"""
        nonlocal prompt_count
        image = example[image_column]
        captions = example[text_column]

        # --- 图像验证与处理 ---
        # 健壮性检查：确保图像是有效的 PIL.Image 对象
        if not isinstance(image, Image.Image) or image is None:
            logger.warning(f"在索引 {idx} 处检测到无效或空的图像数据 (类型: {type(image)})，将跳过此样本。")
            return {"processed_image_tensor": None, "cleaned_captions": [], "distilled_captions": [], "is_valid": False}

        # 确保图像是 RGB 格式，这是大多数视觉模型的标准输入格式
        if image.mode != "RGB":
            try:
                image = image.convert("RGB")
            except Exception as e:
                logger.warning(f"在索引 {idx} 处无法将图像转换为 RGB 格式，将跳过此样本。错误: {e}")
                return {"processed_image_tensor": None, "cleaned_captions": [], "distilled_captions": [], "is_valid": False}

        # 应用图像转换流程
        processed_image_tensor = image_transform(image)

        # --- 文本清洗 ---
        cleaned_captions = []
        if isinstance(captions, list):
            # COCO 数据集的字幕是字典列表，例如: [{'caption': '...'}]
            cleaned_captions = [cap['caption'].strip() for cap in captions if isinstance(cap, dict) and 'caption' in cap and cap['caption'].strip()]
        elif isinstance(captions, str):
            # 处理字幕是单个字符串的情况
            cleaned_captions = [captions.strip()] if captions.strip() else []
        else:
            logger.warning(f"在索引 {idx} 处检测到非预期的文本数据类型 (类型: {type(captions)})，文本将被视为空。")

        # --- 数据蒸馏步骤 ---
        distilled_captions = []
        if distillation_config.get("enabled", False) and prompt_count < distillation_config.get("max_prompts", 0):
            distilled_captions = conceptual_gpt4v_distillation(image, distillation_config)
            prompt_count += 1
            if prompt_count >= distillation_config.get("max_prompts", 0):
                logger.info(f"已达到概念性蒸馏的最大调用次数 ({distillation_config.get('max_prompts', 0)})。后续样本将不再进行蒸馏。")

        return {
            "processed_image_tensor": processed_image_tensor,
            "cleaned_captions": cleaned_captions,
            "distilled_captions": distilled_captions,
            "is_valid": True  # 标记为有效样本，用于后续过滤
        }

    # VLM 数据处理涉及图像操作和潜在的 API 调用，这些操作在多进程中容易出错（例如 PIL/CUDA 上下文问题）。
    # 因此，使用单进程 (num_proc=1) 是更安全、更稳健的选择。
    processed_dataset = dataset.map(
        process_example,
        with_indices=True, # 传递样本索引给 process_example 以便日志记录
        num_proc=1,        # 保持为 1 以确保稳定性
        desc="处理 VLM 样本（图像转换、文本清洗）"
    )
    logger.info("VLM 数据集初步处理完成。")

    # --- 过滤无效样本 ---
    # 移除在处理过程中被标记为无效的样本（例如，损坏的图像）
    initial_count = len(processed_dataset)
    processed_dataset = processed_dataset.filter(lambda x: x["is_valid"], desc="过滤无效的 VLM 样本")
    processed_dataset = processed_dataset.remove_columns("is_valid") # 移除临时的 is_valid 标记列
    final_count = len(processed_dataset)
    logger.info(f"VLM 样本过滤完成。原始样本数: {initial_count}, 过滤后样本数: {final_count} (移除了 {initial_count - final_count} 个无效样本)")

    return processed_dataset


def deduplicate_vlm_dataset(dataset: Dataset, image_column: str, text_column: str) -> Dataset:
    """
    使用高效的、基于哈希的向量化方法，根据图像内容和清洗后的字幕组合，移除重复的 VLM 条目。

    Args:
        dataset: 待去重的 Dataset 对象 (应已包含 'processed_image_tensor' 和 'cleaned_captions' 列)。
        image_column: 原始图像列的名称 (仅用于日志和上下文)。
        text_column: 原始文本列的名称 (仅用于日志和上下文)。

    Returns:
        一个新的 Dataset，其中重复的条目已被移除。
    """
    logger.info("开始对 VLM 数据集进行高效去重...")
    original_count = len(dataset)
    
    # VLM 的哈希计算相对复杂，涉及 I/O 和计算，因此单进程映射更稳定
    logger.info("使用单进程为 VLM 数据集计算组合哈希值...")

    def _calculate_hash(example: Dict[str, Any]) -> Dict[str, str]:
        """为单个样本计算图像和文本的组合哈希值。"""
        processed_image_tensor = example.get("processed_image_tensor")
        cleaned_captions = example.get("cleaned_captions")

        if processed_image_tensor is None or not cleaned_captions:
            return {"combined_hash": None}

        # 确保张量在 CPU 上并且是确定性的数据类型，以便哈希
        image_bytes = torch.tensor(processed_image_tensor).cpu().float().numpy().tobytes()
        image_hash = hashlib.md5(image_bytes).hexdigest()

        # 对字幕进行排序，确保哈希值与字幕顺序无关
        caption_string = " ".join(sorted(cleaned_captions))
        text_hash = hashlib.md5(caption_string.encode('utf-8')).hexdigest()
        
        return {"combined_hash": f"{image_hash}_{text_hash}"}

    # 使用 map 方法高效地为每个样本添加一个哈希值列
    hashed_dataset = dataset.map(
        _calculate_hash,
        num_proc=1, # VLM 哈希计算建议使用单进程以保证稳定性
        desc="为 VLM 样本计算组合哈希值"
    )

    seen_hashes = set()
    unique_indices = []
    # 遍历速度更快的哈希值列来识别唯一项
    for i, h in enumerate(hashed_dataset['combined_hash']):
        if h is not None and h not in seen_hashes:
            seen_hashes.add(h)
            unique_indices.append(i)

    # 根据唯一索引选择样本
    deduplicated_dataset = dataset.select(unique_indices)
    final_count = len(deduplicated_dataset)

    logger.info(f"VLM 数据集去重完成。原始样本数: {original_count}, 去重后样本数: {final_count} (移除了 {original_count - final_count} 个重复项)")
    return deduplicated_dataset


def augment_vlm_dataset(dataset: Dataset, image_column: str, text_column: str, augmentation_config: Dict[str, Any]) -> Dataset:
    """
    用于 VLM 数据增强的概念性占位符函数。

    在真实的生产环境中，这里可以集成各种数据增强技术，例如：
    - **图像增强**: 应用随机裁剪、旋转、颜色抖动等变换 (例如使用 `torchvision.transforms`)。
    - **文本增强**: 对图像描述进行回译、同义词替换等操作。
    - **生成式增强**: 使用另一个强大的 VLM 根据现有图像生成新的、多样的描述，甚至生成新的图像。

    Args:
        dataset: 需要进行增强的 Dataset 对象。
        image_column: 原始图像列的名称 (仅用于日志和上下文)。
        text_column: 原始文本列的名称 (仅用于日志和上下文)。
        augmentation_config: 包含增强相关配置的字典，例如 `enabled`。

    Returns:
        返回原始的 Dataset。这是一个占位符，需要实现具体逻辑才能实际增强数据。
    """
    logger.info("开始执行概念性 VLM 数据增强 (当前为占位符逻辑)。")

    if not augmentation_config.get("enabled", False):
        logger.info("VLM 数据增强功能在配置中未启用，跳过此步骤。")
        return dataset

    # -------------------------------------------------------------------
    # 警告: 下方是 VLM 数据增强的示例代码，默认被注释掉。
    # 若要启用，请取消注释并安装所需库 (例如 `torchvision`)。
    # -------------------------------------------------------------------
    # from torchvision.transforms import RandomResizedCrop, ColorJitter, ToPILImage, ToTensor
    # 
    # # 定义一个图像增强的变换流程
    # image_augment_transform = Compose([
    #     RandomResizedCrop(size=(224, 224), scale=(0.8, 1.0)),
    #     ColorJitter(brightness=0.2, contrast=0.2, saturation=0.2, hue=0.1),
    # ])
    # 
    # def _augment_example(example: Dict[str, Any]) -> Dict[str, Any]:
    #     image_tensor = example.get("processed_image_tensor")
    #     if image_tensor is not None:
    #         # 为了使用 torchvision 的变换，需要先将 Tensor 转回 PIL Image
    #         image_pil = ToPILImage()(torch.tensor(image_tensor))
    #         augmented_image_pil = image_augment_transform(image_pil)
    #         # 将增强后的 PIL Image 转回 Tensor
    #         example["processed_image_tensor"] = ToTensor()(augmented_image_pil)
    #     
    #     # 此处还可以添加对字幕文本的增强逻辑
    #     # example["cleaned_captions"] = some_text_augmenter(example["cleaned_captions"])
    #     
    #     return example
    # 
    # logger.info("正在应用 VLM 数据增强...")
    # augmented_dataset = dataset.map(_augment_example, num_proc=1, desc="执行 VLM 数据增强")
    # logger.info("VLM 数据增强完成。")
    # return augmented_dataset
    # -------------------------------------------------------------------

    logger.warning("VLM 数据增强功能当前为占位符，未对数据进行实际修改。若需启用，请在 `augment_vlm_dataset` 函数中实现具体逻辑。")
    return dataset  # 按当前设计，返回未经修改的原始数据集

# END OF FILE: data_processing/process_vlm.py

====================
文件: .\data_processing\__init__.py
====================

# FILE: data_processing/__init__.py
# Bedrock: This file makes the directory a Python package.

# Mandate of Zero Ambiguity: By importing key functions, we define a clear
# public API for this package, making it easier for other parts of the system
# to use its functionality.

from .process_text import clean_text_dataset
from .process_vlm import process_vlm_dataset, conceptual_gpt4v_distillation
from .build_tokenizer import train_tokenizer

# END OF FILE: data_processing/__init__.py


====================
文件: .\docs\01_environment_setup.md
====================

# Part 1: 基础环境与项目框架搭建 (Environment and Framework Setup)

## 目标 (Goal)

本章节是整个教程的基石。我们将引导您完成从零开始在 [AutoDL](https://www.autodl.com) 平台上配置一个稳定、可复现的深度学习环境，并为后续的模型训练做好准备。

**本教程面向的用户画像:**
*   具备 Python 编程、机器学习和 Transformer 理论基础。
*   缺少大规模模型训练的实践经验。
*   希望获得一个可以立即上手的、代码驱动的实战项目。

---

### 1. AutoDL 平台选择 (Choosing an AutoDL Instance)

AutoDL 是一个性价比很高的GPU租用平台，非常适合个人开发者和研究者。

1.  **注册并登录** AutoDL 平台。
2.  进入“容器实例”页面，点击“租用新实例”。
3.  **选择GPU型号**:
    *   **微调 (Fine-tuning)**: 对于LoRA微调7B级别的模型，推荐选择 **RTX 3090 (24G)** 或 **RTX 4090 (24G)**。性价比高，足以完成大部分微调任务。
    *   **预训练 (Pre-training)**: 对于从零开始预训练1B级别的模型，需要更大的显存和算力。推荐选择 **A100 (80G)** 或 **A800 (80G)**，并建议租用多卡实例（例如4卡）。

### 2. 选择镜像 (Selecting the Docker Image)

镜像是预装了操作系统和基础软件的环境。为保证环境的纯净和可控性，我们选择官方的PyTorch镜像。

*   在镜像选择区域，选择 **`PyTorch` -> `2.3.0` -> `cuda12.1`**。
*   完整的镜像名称类似于 `pytorch/pytorch:2.3.0-cuda12.1-cudnn8-devel`。
*   **为何选择此镜像?** 它是一个纯净的、带有开发工具（`devel`）的官方镜像，版本较新，兼容我们所需的所有库，避免了其他社区镜像可能带来的依赖冲突。
*   选择好后，等待实例创建成功并开机。

### 3. 克隆项目并一键环境配置 (Clone Project & One-Click Setup)

实例开机后，点击“JupyterLab”进入工作区。

1.  **打开终端**: 在JupyterLab启动器中，点击 "Terminal" 打开一个终端窗口。
2.  **创建并激活 Conda 环境 (推荐)**:
    为了保持环境清洁和避免包冲突，强烈建议为本项目创建一个独立的 Conda 环境。
    ```bash
    # 创建名为 'awesome-llm-env' 的 Conda 环境，指定 Python 3.10
    conda create -n awesome-llm-env python=3.10 -y
    # 激活新环境
    conda activate awesome-llm-env
    # 如果遇到 "CondaError: Run 'conda init' before 'conda activate'"，请执行 `conda init`，然后关闭并重新打开终端，或执行 `source ~/.bashrc`
    ```
    *如果您没有安装 Conda，可以使用 `python3 -m venv .venv` 创建一个虚拟环境，然后 `source .venv/bin/activate` 激活它。*
3.  **进入项目目录**:
    请确保您的项目 `Awesome-LLM-ZeroToScratch` 文件夹已位于 `/root/autodl-tmp/` 目录下（如前一步骤所示）。然后进入该目录：
    ```bash
    cd /root/autodl-tmp/Awesome-LLM-ZeroToScratch
    ```
4.  **运行一键安装脚本**:
    确保您的 Conda (或虚拟) 环境已激活，并且您已在项目根目录下，然后运行我们提供的一键安装脚本 `setup.sh`。
    ```bash
    bash setup.sh
    ```
    此脚本将执行以下操作：
    *   配置 `pip` 使用清华大学 PyPI 镜像（用于安装 `uv` 自身）。
    *   **安装 `uv` (一个极速的 Python 包管理器)**。
    *   明确指示 `uv` 将使用清华大学 PyPI 镜像和 PyTorch 官方 CUDA 轮子源 (`https://download.pytorch.org/whl/cu121`)，这将大幅加速下载。
    *   **优先使用 `uv` 安装 `torch` 和 `bitsandbytes`**，以确保这些核心依赖在其他包编译前就位。在此步骤中，您会看到 `uv` 显示下载进度条。
    *   **然后使用 `uv` 安装 `requirements.txt` 中剩余的所有固定版本的依赖库**，同样利用配置的镜像源。
    *   **最后，使用 `uv` 安装 `flash-attn` 并禁用构建隔离**，确保它能正确编译和链接到已安装的 `torch`，同时利用镜像源加速下载。此步骤可能会涉及编译，请耐心等待。

    请耐心等待脚本执行完毕。在 `uv` 下载大文件时，您会看到清晰的进度条。看到 "Environment Setup Complete" 消息即表示成功。

### 4. 数据与代码挂载策略 (Data and Code Mounting Strategy)

在AutoDL上，理解不同磁盘的用途至关重要，这是实现数据持久化和实例无状态切换的关键。

*   **/root/autodl-tmp**: 这是**网盘**，它的数据在实例关机、重启甚至删除后 **依然存在**。它适合存放：
    *   **数据集 (Datasets)**
    *   **预训练权重 (Pre-trained Weights)**
    *   **项目代码 (Your Project Code)**
    *   **训练好的模型 checkpoints**
*   **/root/autodl-fs**: 这是**本地高速盘**，它的数据会随实例的删除而 **永久丢失**。它适合存放：
    *   **Conda/Python 环境**
    *   临时文件和缓存

**推荐工作流:**

1.  将本项目 `Awesome-LLM-ZeroToScratch` 克隆并存放在 `/root/autodl-tmp` 目录下。
2.  所有大型数据集都下载或传输到 `/root/autodl-tmp/data` 目录。
3.  所有训练产出的模型权重都保存到 `/root/autodl-tmp/checkpoints` 目录。
4.  这样，即使您更换了GPU实例，只需在新实例的 `/root/autodl-tmp` 中找到您的代码和数据，重新激活一下 Conda 环境，即可无缝继续工作。

### 5. 验证安装 (Verifying the Installation)

在终端中执行以下Python命令，验证核心库已正确安装：

```bash
python -c "import torch; import transformers; import deepspeed; import flash_attn; print('--- Bedrock Verification Protocol ---'); print(f'PyTorch version: {torch.__version__}'); print(f'CUDA available: {torch.cuda.is_available()}'); print('Core libraries imported successfully. System is ready.')"
```

如果您看到打印出的版本号和成功信息，并且`CUDA available`为`True`，那么恭喜您，基础环境已完美搭建。

---
**您已完成第一部分。接下来，请移步至 [docs/02_data_pipeline.md](./docs/02_data_pipeline.md) 开始数据准备工作。**


====================
文件: .\docs\02_data_pipeline.md
====================

# Part 2: 数据流水线 (Data Pipeline)

## 目标 (Goal)

模型性能的上限由数据质量决定。本章节将提供一套可复现、高质量的数据处理流程，它是后续所有模型训练工作的基石。我们将处理用于预训练的纯文本和图文对数据，并训练一个自定义分词器。

---

### 1. 数据集准备与复现 (Dataset Preparation & Reproduction)

为了实现“保姆级”的快速验证，我们不直接处理TB级的庞大数据集，而是使用两个小规模、有代表性的标准数据集。我们提供了一个核心脚本来自动化完成整个流程。

*   **纯文本 (LLM):** 我们将使用 `wikitext-2-raw-v1`，这是一个干净、小巧（约10MB）的英文维基百科子集。
*   **图文对 (VLM):** 我们将使用 `COCO` 数据集的一个微小子集（100个样本）作为演示。

**执行命令:**

打开终端，确保您位于 `Awesome-LLM-ZeroToScratch` 项目的根目录。

1.  **执行文本数据流水线:**
    此命令将下载、清洗、处理 `wikitext` 数据，并准备用于训练分词器的语料。
    ```bash
    python -m data_processing.download_and_reproduce text
    ```
    此命令将：
    *   下载 `wikitext-2-raw-v1` 数据集到 `./data/raw/wikitext/`。
    *   对其进行清洗（去除元数据、短行等）。
    *   将处理后的数据保存到 `./data/processed/wikitext/`。
    *   合并所有文本，为训练分词器做准备，语料文件在 `./data/processed/wikitext/corpus.txt`。

2.  **执行VLM数据流水线:**
    此命令将下载并处理 `COCO` 数据集的一个小型子集。
    ```bash
    python data_processing.download_and_reproduce.py vlm
    ```
    此命令将：
    *   下载 `COCO` 数据集的前100个样本到 `./data/raw/coco_demo/`。
    *   对图片和文本进行初步处理（例如图片转换为RGB、文本清洗）。
    *   将处理后的数据保存到 `./data/processed/coco_demo/`。

---

### 2. 数据清洗与增强 (Data Cleaning & Augmentation)

高质量的数据是模型成功的关键。我们的脚本内置了基础但重要的数据清洗步骤。

*   **文本清洗 (`data_processing/process_text.py`):**
    *   **规范化:** 将多余的空格、换行符统一成单个空格。
    *   **规则过滤:** 移除了Wikitext中常见的元数据行（如 `= Headings =`）。
    *   **质量过滤:** 移除了过短（少于10个词）或不含字母的行。

*   **VLM数据处理 (`data_processing/process_vlm.py`):**
    *   确保所有图片都转换为`RGB`格式。
    *   对图片进行了统一的 `Resize((224, 224))` 和 `ToTensor()` 转换。
    *   对文本描述进行了基础的清洗。

*   **数据蒸馏 (Data Distillation) - 概念:**
    对于VLM，高质量的图文对是稀缺的。一种先进的技术是**数据蒸馏**：使用一个强大的VLM（如GPT-4V）为图片生成高质量的描述。我们在 `data_processing/process_vlm.py` 中提供了一个**概念性实现** `conceptual_gpt4v_distillation`。
    *   **它默认不执行**，不会产生任何API费用。
    *   代码结构清晰地展示了如何调用API，您可以填入自己的API密钥来开启此功能。这体现了从“教程”到“工业级”的扩展性。

---

### 3. 分词器训练 (Tokenizer Training)

分词器是连接自然语言和模型输入的桥梁。我们将训练一个针对我们文本数据的 SentencePiece Unigram 分词器，并将其保存为 Hugging Face `transformers` 库兼容的格式。

**执行命令:**

在文本数据流水线成功运行后，语料库已经准备就绪。现在，我们训练分词器。

```bash
python data_processing/build_tokenizer.py \
    --output_path_prefix ./data/tokenizers/wikitext_spm \
    --corpus_path ./data/processed/wikitext/corpus.txt \
    --vocab_size 8000 \
    --model_type unigram \
    --character_coverage 1.0
```

*   **`--output_path_prefix`**: 定义了输出模型和词汇表的前缀。最终的 SentencePiece 模型文件是 `./data/tokenizers/wikitext_spm.model` 和词汇表文件是 `./data/tokenizers/wikitext_spm.vocab`。
*   **Hugging Face 格式**: `build_tokenizer.py` 脚本还会自动将训练好的 tokenizer 转换为 Hugging Face `transformers` 库兼容的格式，并保存到 `./data/tokenizers/wikitext_spm_hf/` 目录中。后续的模型训练和推理将直接从这个 `_hf` 目录加载 tokenizer。

---

### 4. 流式处理 vs. 内存加载 (Streaming vs. In-Memory)

*   **对于本教程的小数据集:** 我们将所有数据加载到内存中，然后进行处理和保存。这简单直接。
*   **对于工业级的大数据集 (TB级):** 绝不可能一次性将数据加载到内存中。此时必须使用 `datasets` 库的 **流式处理（Streaming）** 功能。
    ```python
    # 概念代码
    # ds = load_dataset('some_huge_dataset', split='train', streaming=True)
    # for example in ds:
    #     process(example)
    ```
    流式处理会逐条读取和处理数据，内存占用极低。在后续的训练章节，我们会进一步讨论如何在训练循环中集成流式数据集。

---

### 5. 资源与成本估算 (Resource & Cost Estimation)

*   **GPU**: 本章节所有操作均为CPU密集型，**无需GPU**。
*   **时间成本**: 在AutoDL的CPU实例上，完整运行上述所有流程，预计在 **5-15分钟** 内完成。
*   **金钱成本**:
    *   计算：可忽略不计，约几毛钱的CPU实例租用费。
    *   API调用：数据蒸馏部分默认关闭。如开启，成本取决于您的使用量。

---
**您已完成第二部分。现在，您拥有了干净、处理完毕的数据集和一个定制化的分词器，为模型训练奠定了坚实的基础。接下来，您可以选择进入以下任一赛道：**

*   **赛道A: [docs/03_track_a_pretraining.md](./03_track_a_pretraining.md)** (从零预训练)
*   **赛道B: [docs/04_track_b_finetuning.md](./04_track_b_finetuning.md)** (微调开源模型)

# END OF FILE: docs/02_data_pipeline.md

====================
文件: .\docs\03_track_a_pretraining.md
====================

# Track A: 从零预训练 LLM / VLM (From-Scratch Pre-training LLM / VLM)

## 目标 (Goal)

这是教程中最具挑战性但也是最能深入理解大模型本质的路线。我们将走过**从零开始预训练一个 Transformer-based 语言模型**的全过程。尽管完整预训练一个SOTA模型成本高昂，本教程旨在让您：

*   理解模型架构设计的核心原则。
*   掌握预训练的完整技术栈和流程。
*   能够成功运行一个小型“玩具”模型，为未来参与大规模训练奠定基础。

---

### 1. 模型架构设计与选择 (Model Architecture Design & Selection)

一个 Transformer 模型的参数量由其核心超参数决定：层数（L）、隐藏维度（d_model）、注意力头数（h）、词汇表大小（V）以及FFN中间层维度。这些参数在**预训练开始前**就必须根据您的**目标参数量**和**计算预算**一次性确定，训练过程中通常**不会调整**。

#### 参数量计算公式 (Parameter Count Estimation)

一个简化版的 Transformer 模型参数量估算公式（忽略了LayerNorm、Bias等小部分参数）：

$$
\text{Params} \approx V \cdot d_{\text{model}} + L \cdot (2 \cdot d_{\text{model}} \cdot (d_{\text{model}} + \frac{d_{\text{model}}}{h}) + 2 \cdot d_{\text{model}} \cdot d_{\text{ffn}})
$$

其中：
*   $V$: 词汇表大小 (Vocab Size)
*   $d_{\text{model}}$: 隐藏层维度 (Hidden Size)
*   $L$: Transformer 层数 (Number of Hidden Layers)
*   $h$: 注意力头数 (Number of Attention Heads)
*   $d_{\text{ffn}}$: 前馈网络中间层维度 (Intermediate Size)，通常是 $4 \cdot d_{\text{model}}$。

#### 模块化与热插拔实现 (`src/models/`)

我们的代码库设计高度模块化，允许您通过YAML配置文件“热插拔”不同的组件：

*   **`src/models/language_model.py`**: 这是核心的模型构建入口。它根据配置文件动态地组装模型，例如选择是使用密集型FFN还是MoE层。
*   **`src/models/attention/standard_attention.py`**: 标准的多头自注意力实现。
*   **`src/models/attention/flash_attention.py`**: FlashAttention 的封装。如果您的GPU支持（Ampere架构或更新，如A100, RTX 30/40系列），它能极大加速训练并节省显存。
*   **`src/models/ffn.py`**: 包含了普通FFN和SwiGLU的实现。
*   **`src/models/moe.py`**: Mixture-of-Experts (MoE) 层的实现，这是构建稀疏大模型的关键。

**模型配置示例 (见 `configs/model/`):**

*   **`0.5B_dense.yaml`**: 定义了一个约0.5B参数的密集型LLM架构。
*   **`0.8B_moe.yaml`**: 定义了一个约0.8B参数的MoE型LLM架构。它包含8个专家，每个Token激活其中2个专家。**请注意，MoE模型虽然总参数量大（例如0.8B），但实际激活的参数量通常远小于其总参数量，这使其计算成本更低。**

---

### 2. 预训练配置与执行 (Pre-training Configuration & Execution)

我们将使用 `Hugging Face Accelerate` 来管理分布式训练，它提供了对 `DeepSpeed` 和 `PyTorch FSDP` 的无缝支持。

1.  **检查模型和数据配置**:
    *   打开 `configs/training/pretrain_llm.yaml`。
    *   **`model_config_path`**: 确保它指向您想预训练的模型配置，例如 `configs/model/0.5B_dense.yaml`。
    *   **`dataset_dir`**: 确保它指向您在Part 2中处理好的数据集目录，例如 `./data/processed/wikitext`。
    *   **`max_seq_length`**: 根据模型配置的 `max_position_embeddings` 来设置，确保不超过模型的上下文窗口。

2.  **配置分布式环境 (Accelerate)**:
    `accelerate` 是Hugging Face提供的用于简化分布式训练的工具。第一次使用时，您需要配置它：
    ```bash
    accelerate config
    ```
    按照提示进行配置。对于AutoDL上的单机多卡，通常选择：
    *   `all_cuda` 作为处理器。
    *   `multi-GPU` 作为机器类型。
    *   `X` 作为进程数（X是您GPU的数量，例如4）。
    *   **是否使用 DeepSpeed? `yes`。** DeepSpeed是预训练大型模型不可或缺的工具。
    *   **是否使用 BF16 混合精度? `yes`。** 如果您的GPU（如A100, RTX 30/40系列）支持BF16，这将显著节省显存并加速训练。
    *   **DeepSpeed 配置**: 建议选择 `all` (启用ZeRO-3) 或 `ZeRO-2`。您也可以提供自定义的DeepSpeed JSON配置文件。

3.  **启动预训练**:
    在项目根目录下，运行预训练脚本。
    ```bash
    bash scripts/run_pretrain.sh
    ```
    这个脚本会调用 `accelerate launch` 来启动 `src/trainers/pretrain_trainer.py`。训练过程中的损失、学习率等指标会实时上传到 Weights & Biases (W&B)，您可以通过W&B仪表盘进行监控。

#### 关键技术与配置 (`configs/training/pretrain_llm.yaml`)

*   **混合精度训练 (Mixed Precision):**
    *   `bf16: true`: **推荐**。使用 bfloat16 格式进行训练，可以显著降低显存占用并提高计算效率，同时保持与 fp32 相当的精度。需要支持BF16的GPU（NVIDIA Ampere架构及更高版本）。
    *   `fp16: true`: 对于不支持BF16的GPU，可以使用FP16。需要注意梯度缩放以防止下溢。
*   **优化器 (Optimizer):** `AdamW` 是主流选择。配置文件中可以设置学习率、权重衰减等。
*   **学习率调度器 (Scheduler):** `Cosine Annealing` 是最常见的学习率调度策略，它在训练初期逐渐上升（warmup），然后以余弦曲线下降。
*   **Checkpointing:** `save_steps` 参数控制了模型检查点的保存频率。在长时间预训练中，定期保存是防止意外中断导致进度的重要措施。
*   **效率优化:**
    *   **`torch.compile`**: PyTorch 2.0+ 的内置编译器，能自动优化模型计算图，通常能带来显著的训练加速。在`pretrain_trainer.py`中已集成。
    *   **`flash_attention`**: 在模型架构中通过 `attention_type: "flash"` 来启用。

#### 小模型 vs. 大模型：并行策略 (Parallelism Strategies)

当模型或数据过大，无法放入单个GPU时，就需要并行策略。

*   **数据并行 (Data Parallelism, DP / DDP / FSDP):**
    *   每个GPU拥有模型的完整副本。
    *   每个GPU处理不同批次的数据。
    *   梯度在各GPU之间同步（All-reduce）。
    *   **PyTorch DDP** 是基础。
    *   **DeepSpeed ZeRO (Zero Redundancy Optimizer)** 和 **Fully Sharded Data Parallel (FSDP)** 更高效：它们通过分片（sharding）优化器状态、梯度甚至模型参数来降低显存占用。
        *   **ZeRO-1:** 仅分片优化器状态。
        *   **ZeRO-2:** 分片优化器状态和梯度。
        *   **ZeRO-3:** 分片优化器状态、梯度和**模型参数**。这是训练超大模型（千亿参数级别）的关键，因为它能将模型参数的显存占用分摊到所有GPU上。
        *   **FSDP:** PyTorch 原生的模型并行化工具，功能与DeepSpeed ZeRO-2/3相似。

*   **模型并行 (Model Parallelism):**
    *   **流水线并行 (Pipeline Parallelism, PP):** 将模型的层分成若干阶段，每个GPU负责一个阶段。数据在各阶段之间流动，形成一个流水线。
    *   **张量并行 (Tensor Parallelism, TP):** 将单个层（如Attention、FFN）内的矩阵运算拆分到多个GPU上。

**本教程中的实现:**

*   `pretrain_trainer.py` 默认使用 `Accelerate`，它可以无缝对接 `DDP` 和 `DeepSpeed`（如果您在 `accelerate config` 中配置了）。
*   对于教程演示的小模型 (0.5B, 0.8B)，**DeepSpeed ZeRO-2** 或 **FSDP** 通常就足够了。
*   要启用 **DeepSpeed ZeRO-3** 或 **流水线并行**，您需要在 `configs/training/pretrain_llm.yaml` 中指定 `deepspeed_config` 的路径，并创建一个 DeepSpeed JSON 配置文件。我们会在后续章节提供这些配置的示例。

---

### 3. 资源估算 (预训练1B模型)

预训练是一个资源密集且耗时的过程。以下估算仅用于让您对成本有一个概念，**实际成本可能更高**。

*   **GPU**: 至少需要 **4 x A100/A800 80G**。对于1B模型，虽然理论上2张A100 80G可能通过激进的内存优化（如ZeRO-3）勉强跑起来，但4张卡能提供更稳定的训练体验。
*   **时间成本**: 在5GB文本+1M图文数据上进行一个**有效的预训练**（足以让模型学会基本的语言能力，但远未达到SOTA），预计需要 **7-14天** 的连续训练。
*   **金钱成本**: 以AutoDL A100 80G (约¥10/小时) 计算：
    *   4 卡 * ¥10/小时/卡 * 24小时/天 * 10天 = **¥9600**
    *   这仅仅是一个非常粗略的**下限估算**，不包含数据处理、调试、实验迭代的成本。
    *   **本教程的目标是让您成功跑通流程并获得一个能初步理解语言的“玩具”模型，而非一个工业级可用的SOTA模型。** 完整预训练的成本远超普通爱好者的预算。

---
**您已完成Track A。您现在掌握了从零构建和预训练一个 Transformer 模型的理论和实践。这为您深入理解大模型的底层机制打下了最坚实的基础。**

**接下来，请移步至 [docs/05_deployment_and_evaluation.md](./05_deployment_and_evaluation.md)，学习如何评估您训练好的模型并将其部署为服务。**

# END OF FILE: docs/03_track_a_pretraining.md

====================
文件: .\docs\04_track_b_finetuning.md
====================

# Track B: 微调开源 LLM / VLM (Fine-tuning Open-Source LLMs/VLMs)

## 目标 (Goal)

这是教程中最具性价比和实用价值的路线。我们将学习如何利用现有的、强大的开源模型（如 Llama 3, Qwen），通过**参数高效微调（PEFT）** 技术，在**单张消费级/专业级GPU（如RTX 3090/4090）** 上，让它学会新的知识或遵循特定的对话风格。

---

### 1. 微调的核心思想 (The Core Idea of Fine-tuning)

预训练（Pre-training）让模型学习通用的世界知识，但它并不知道如何与人“好好说话”。后训练（Post-training），即微调，就是教会模型如何应用知识来遵循指令、进行对话。

本教程覆盖两个核心微调阶段：

1.  **有监督微调 (SFT - Supervised Fine-tuning):**
    *   **目标:** 让模型学会“模仿”。
    *   **数据:** 大量的“指令-回答”对。
    *   **过程:** 模型看到指令，尝试生成回答，我们用标准答案去纠正它（计算损失、反向传播）。经过成千上万次模仿，模型就掌握了遵循指令的模式。

2.  **对齐微调 (Alignment Tuning):**
    *   **目标:** 让模型学会人类的“偏好”。
    *   **问题:** 很多时候，一个问题没有唯一的标准答案，但有好坏之分。例如，一个回答可能有用但啰嗦，另一个可能简洁但有毒。
    *   **传统方法 (RLHF-PPO):** 过程极其复杂。需要训练一个奖励模型（RM）来给答案打分，然后用强化学习（PPO）去优化语言模型，让它生成能得高分的答案。工程上不稳定且耗费资源。
    *   **现代方法 (DPO):** **我们采用的方法。** DPO（直接偏好优化）巧妙地将“偏好”问题转化成一个简单的分类问题，**不再需要训练独立的奖励模型**。它直接使用“（问题，好的回答，坏的回答）”这样的偏好数据，一步到位地调整模型，效果媲美PPO，但过程更简单、稳定、高效。

---

### 2. 参数高效微调 (PEFT) 与 LoRA

**问题:** 微调一个7B（70亿参数）的模型，即便是SFT，也需要更新所有70亿个参数，这需要巨大的显存（数百GB）。

**解决方案:** 参数高效微调（PEFT）。我们**冻结**原始模型的绝大部分参数，只在模型的关键部分（如Attention层）旁边挂上一些小小的、可训练的“适配器”模块。

**LoRA (Low-Rank Adaptation)** 是最成功的一种PEFT方法。它假设模型微调时的参数改动是“低秩”的，可以用两个小得多的矩阵来模拟。

*   **效果:** 我们需要训练的参数从70亿骤降到几百万，降幅超过99.9%。
*   **结果:** **使得在单张24GB显存的GPU上微调7B甚至更大的模型成为可能。**
*   **如何选择 `lora_target_modules`?** 通常是Attention机制中的查询（`q_proj`）、键（`k_proj`）、值（`v_proj`）投影层，以及输出投影层（`o_proj`）。对于不同的模型架构（如 Mistral, Falcon），这些模块的名称可能不同。您可以通过 `model.named_modules()` 方法来查看模型中所有模块的名称，并选择进行LoRA微调的模块。

---

### 3. [执行] 有监督微调 (SFT)

这是微调的第一步。我们将使用 `TinyLlama-1.1B-Chat` 模型和 `mlabonne/guanaco-llama2-1k` 数据集进行演示。

1.  **检查配置**: 打开 `configs/training/finetune_sft.yaml`。
    *   `model_name_or_path`: 确认基础模型。
    *   `dataset_name`: 确认数据集。
    *   `lora_*` 参数: 这些是LoRA的核心配置。
    *   `output_dir`: 训练好的LoRA适配器将保存在这里。

2.  **启动训练**: 在项目根目录下，运行一键启动脚本。
    ```bash
    bash scripts/run_sft.sh
    ```
    这个脚本会调用 `accelerate launch` 来启动 `src/trainers/sft_trainer.py`。训练过程中的指标会默认上传到 `wandb`，方便您监控。

3.  **产出物**: 训练结束后，在 `checkpoints/sft-tinyllama-guanaco/final_model` 目录下，你会看到 `adapter_model.safetensors`, `adapter_config.json` 和 `tokenizer.json` (以及其他tokenizer文件)。这就是我们训练得到的、轻量级的LoRA适配器和配套的分词器。

---

### 4. [执行] 直接偏好优化 (DPO)

这是对齐的第二步，它建立在SFT模型之上。

1.  **检查配置**: 打开 `configs/training/finetune_dpo.yaml`。
    *   **`model_name_or_path`**: **至关重要！** 请确保此路径指向您上一步SFT训练产出的模型目录，即 `checkpoints/sft-tinyllama-guanaco/final_model`。
    *   `dataset_name`: DPO需要偏好数据集，我们使用一个标准数据集 `trl-internal-testing/hh-rlhf-trl-style`。
    *   `beta`: DPO损失函数的核心参数。

2.  **启动训练**:
    ```bash
    bash scripts/run_dpo.sh
    ```
    训练启动后，模型将在SFT的基础上，根据偏好数据进行进一步的“品味”提升。

3.  **产出物**: 训练结束后，在 `checkpoints/dpo-tinyllama-guanaco/final_model` 目录下，你会得到一个新的、经过DPO对齐的LoRA适配器和配套的分词器。这个模型在遵循指令的同时，其回答会更符合人类的偏好。

#### 部署微调后的模型 (Merging LoRA for Deployment)

为了部署通过 LoRA 微调后的模型，您通常需要将 LoRA 适配器的权重**合并**回原始的基础模型中。这样做的好处是：

*   **简化推理**: 不需要额外的 PEFT 库依赖，模型更接近一个“普通”的 Hugging Face 模型。
*   **潜在性能提升**: 避免了 LoRA 适配器带来的额外计算开销（尽管通常很小）。
*   **方便量化**: 可以对合并后的模型进行进一步的量化（如 AWQ/GPTQ）以节省显存。

我们的推理脚本 (`src/inference/inference.py`) 已经内置了自动合并 LoRA 权重的逻辑（通过 `model = model.merge_and_unload()`），所以您无需手动执行此步骤即可进行推理。但如果您希望保存一个完全合并后的模型用于其他部署工具，可以运行以下代码片段：

```python
# 概念代码: 合并 LoRA 适配器并保存为完整的模型
from transformers import AutoModelForCausalLM, AutoTokenizer
from peft import PeftModel
import torch

# 假设你的SFT或DPO训练输出目录
adapter_path = "./checkpoints/sft-tinyllama-guanaco/final_model" 
# 或者 "./checkpoints/dpo-tinyllama-guanaco/final_model"

# 假设的基础模型路径（与训练时一致）
# 从adapter_config.json中获取更鲁棒
try:
    from peft import PeftConfig
    peft_config = PeftConfig.from_pretrained(adapter_path)
    base_model_id = peft_config.base_model_name_or_path
except Exception:
    base_model_id = "TinyLlama/TinyLlama-1.1B-Chat-v1.0" # Fallback if config not found

# 1. 加载基础模型
model = AutoModelForCausalLM.from_pretrained(
    base_model_id,
    torch_dtype=torch.float16, # 或 torch.bfloat16
    device_map="auto"
)

# 2. 加载LoRA适配器
model = PeftModel.from_pretrained(model, adapter_path)

# 3. 合并LoRA权重到基础模型
merged_model = model.merge_and_unload()

# 4. 加载并保存分词器
tokenizer = AutoTokenizer.from_pretrained(adapter_path) # 从适配器目录加载分词器

# 5. 保存合并后的模型和分词器
merged_model_output_dir = "./checkpoints/sft-tinyllama-guanaco/merged_model"
# 或者 "./checkpoints/dpo-tinyllama-guanaco/merged_model"
merged_model.save_pretrained(merged_model_output_dir)
tokenizer.save_pretrained(merged_model_output_dir)

print(f"Merged model and tokenizer saved to {merged_model_output_dir}")
```

---

### 5. 资源估算 (微调7B模型)

*   **GPU**:
    *   **LoRA SFT/DPO**: 单张 **RTX 3090/4090 (24GB)** 即可轻松完成。
    *   **Full SFT**: 需要 1-2 x A100/A800 (80G)。(本教程不采用此路线)
*   **时间成本**:
    *   **LoRA SFT/DPO**: 在标准数据集上微调，通常需要 **2-10 小时**。
*   **金钱成本**:
    *   **LoRA**: 使用消费级GPU成本极低。若租用AutoDL的3090（约¥2/小时），完成SFT+DPO全程可能只需花费 **几十元人民币**。

---
**您已完成Track B。您不仅学会了如何微调模型，更掌握了从SFT到DPO这一业界领先的对齐技术。接下来，您可以移步至 [docs/05_deployment_and_evaluation.md](./05_deployment_and_evaluation.md)，学习如何评估您训练好的模型并将其部署为服务。**

# END OF FILE: docs/04_track_b_finetuning.md

====================
文件: .\docs\05_deployment_and_evaluation.md
====================

# Part 4: 进阶、部署与评估 (Advanced, Deployment & Evaluation)

## 目标 (Goal)

在本教程的最终阶段，我们将把训练好的模型从研究原型转化为可用的服务。这包括实现模型推理、对其性能和能力进行严格评估，并探讨其在实际应用中的部署策略和未来扩展方向。

---

### 1. 长文本能力扩展 (Long-Text Capability Extension)

现代LLM需要处理越来越长的上下文。虽然基础Transformer模型的 `max_position_embeddings` 是固定的，但可以通过技术手段进行扩展。

*   **RoPE Scaling (NTK-aware, Dynamic):**
    *   **原理:** RoPE (Rotary Positional Embeddings) 是一种相对位置编码，通过旋转矩阵将位置信息编码到Attention的Q和K中。通过调整 RoPE 的基（base）或通过“NTK-aware”缩放，可以在不重新训练的情况下，有效地扩展模型的上下文窗口。
    *   **实现:** 这通常在模型加载时，通过修改模型的配置或直接修改 `transformers` 库的 `LlamaRotaryEmbedding` 类来完成。例如，将 `rope_theta` (默认10000) 调整到更大的值，或应用动态缩放因子。
    *   **本教程的实现:** 我们的 `src/models/language_model.py` 中的 `BaseLLM` 已经预留了位置编码的集成点。对于 `transformers` 库加载的模型，这些调整通常在 `AutoModel.from_pretrained` 之后通过修改 `model.config` 或直接在生成时传入 `rope_theta` 参数来完成。

*   **Position Interpolation (PI):**
    *   **原理:** PI 是一种简单而有效的方法，通过线性插值原始位置编码来扩展上下文。它将长序列的位置索引线性地“压缩”到模型原始的最大位置嵌入范围内。
    *   **实现:** PI 通常涉及修改模型的 `forward` 方法中处理位置编码的部分。

*   **训练长度:** 配置文件中的 `max_seq_length` 参数直接决定了模型在训练时能够处理的最大序列长度。如果您要预训练一个真正支持长上下文的模型，必须从一开始就使用长序列数据进行训练。

---

### 2. 模型推理与部署 (Model Inference & Deployment)

训练好的模型最终要投入使用。我们将提供一个简单的推理脚本，并讨论工业级的部署方案。

#### 2.1. 本地推理 CLI

*   **脚本**: `src/inference/inference.py`
*   **功能**: 加载您训练好的SFT或DPO模型（包括LoRA适配器），并提供一个简单的命令行界面，让您可以在终端中与模型进行交互。它会自动处理LoRA权重合并，以便进行高效推理。

*   **运行命令**:
    ```bash
    # 假设你已经完成了SFT训练，并且模型保存在 './checkpoints/sft-tinyllama-guanaco/final_model'
    bash scripts/run_inference.sh ./checkpoints/sft-tinyllama-guanaco/final_model
    ```
    *   你可以选择传递不同的模型路径来测试你的DPO模型或其他训练好的模型。
    *   如果推理过程中遇到显存问题，可以尝试减少 `max_new_tokens` 参数。

#### 2.2. 工业级部署方案

将LLM部署到生产环境需要考虑性能、成本、并发和可维护性。

*   **轻量级部署框架 (推荐):**
    *   **`vLLM`**: 一个高性能、低延迟的LLM推理和服务库。它使用PagedAttention（比FlashAttention更进一步）来高效管理GPU显存，并支持Continuous Batching，显著提高吞吐量。
    *   **`TGI (Text Generation Inference)`**: Hugging Face 开发的LLM推理服务器，由Rust实现，高性能且功能丰富，支持多种优化（如FlashAttention、quantization、stream generation）。
    *   **部署步骤**:
        1.  **打包模型**: 将您的模型（如果使用了LoRA，先执行 `model.merge_and_unload()` 将适配器合并到基础模型中，这在 [`docs/04_track_b_finetuning.md`](./04_track_b_finetuning.md) 中有概念性代码）转换为 `transformers` 格式。
        2.  **构建Docker镜像**: 使用 `vLLM` 或 `TGI` 提供的 Dockerfile 作为基础，将您的模型打包到镜像中。
        3.  **启动服务**: 在GPU实例上运行Docker容器，暴露API接口。
    *   **示例 (概念性 `Dockerfile` 片段):**
        ```dockerfile
        # FROM vllm/vllm-openai:latest
        # COPY your_merged_model_path /model
        # ENV MODEL=/model
        # CMD python -m vllm.entrypoints.api_server --model ${MODEL} --port 8000
        ```

*   **量化 (Quantization):**
    *   **目标**: 显著降低模型的显存占用和计算量，从而降低部署成本。
    *   **技术**:
        *   **`bitsandbytes`**: 运行时量化，支持4-bit (NF4) 和 8-bit 量化，可以在加载模型时直接应用。我们的SFT/DPO训练器中已经使用了`load_in_4bit=True`。
        *   **AWQ/GPTQ**: 离线量化技术，在模型训练后进行，将模型权重压缩到4-bit或更低，对推理性能影响小，但需要专门的量化工具。
    *   **实现**: 对于 `vLLM` 和 `TGI`，它们通常内置了对这些量化模型的支持。您只需在加载时指定量化类型。

---

### 3. 模型评估与对齐 (Model Evaluation & Alignment)

“无懈可击”的系统需要客观的证明。模型评估是科学验证模型能力的关键。

#### 3.1. 标准基准测试 (Standard Benchmarks)

*   **目的**: 衡量模型在特定学术任务上的客观能力，例如常识推理、数学、代码生成等。
*   **工具**: `lm-evaluation-harness` (通常简称为 `lm-eval`) 是业界标准的LLM评估工具。它集成了大量的学术数据集。
    *   **安装**: `pip install lm-eval[hf]`
*   **典型数据集**:
    *   **MMLU (Massive Multitask Language Understanding):** 衡量模型在57个不同学科（科学、人文、社会科学等）上的多任务理解能力。
    *   **GSM8K (Grade School Math 8K):** 衡量小学数学应用题的解决能力。
    *   **HumanEval:** 衡量代码生成能力。
*   **运行评估 (`scripts/run_evaluation.sh` & `src/evaluation/evaluate_llm.py`):**
    我们的 `src/evaluation/evaluate_llm.py` 脚本提供了一个**概念性**的入口。实际运行 `lm-eval` 通常需要直接在命令行调用。

    ```bash
    # 概念性运行脚本 (运行后会提示如何使用lm-eval的实际命令)
    bash scripts/run_evaluation.sh ./checkpoints/sft-tinyllama-guanaco/final_model "mmlu_flan_n_shot,arc_challenge" 20
    ```
    **注意:** 完整的 `lm-evaluation-harness` 运行可能需要数小时到数天，并消耗大量计算资源。

#### 3.2. 对齐评估 (Alignment Evaluation)

*   **目的**: 衡量模型生成内容的“有用性”、“无害性”和“遵循指令”的能力，即模型与人类偏好的对齐程度。
*   **工具与方法**:
    *   **MT-Bench**: 一个多轮对话基准测试，包含各种难度和类型的提示。通常使用一个更强大的“裁判”LLM（如 GPT-4）来评估模型生成的回复质量。
    *   **AlpacaEval**: 另一个自动化评估框架，通过对比模型生成内容与参考答案，并用裁判模型打分。
    *   **人工评估**: 最终极的评估方式，但成本极高。

*   **实现流程**:
    1.  **数据生成**: 使用您的模型对MT-Bench或AlpacaEval的提示集进行推理，生成回复。
    2.  **裁判打分**: 将模型生成的回复、原始提示以及（如果适用）参考回复提交给一个强大的外部LLM（如 GPT-4、Claude Opus）进行打分。
    3.  **结果分析**: 汇总裁判模型的评分，并进行统计分析。
    *   这通常需要编写独立的脚本，与外部API进行交互。

---

### 4. 环境与部署蓝图 (Environment & Deployment Blueprint)

本章节将概述在生产环境中部署和维护LLM所需的关键元素。

#### 4.1. 依赖清单 (Dependency Manifest)

*   在 `requirements.txt` 中已明确指定所有必需的软件依赖及其精确版本。这是实现可复现部署的第一步。
*   **生产环境额外依赖**: 对于生产部署，可能需要 `vLLM`, `text-generation-inference`, `fastapi`, `uvicorn` 等。

#### 4.2. 构建与打包指令 (Build & Packaging Commands)

*   **PyTorch模型**: 通常不需要特殊的“构建”步骤，直接使用Python包管理器安装依赖。
*   **Docker**: 推荐使用Docker将模型、代码和依赖打包成一个可移植的镜像。
    *   **`Dockerfile`**: 定义了构建镜像的步骤。
    *   **`docker build -t your-llm-service .`**: 构建Docker镜像。

#### 4.3. 环境设置指令 (Environment Setup Commands)

*   **生产环境**: 除了Python和PyTorch环境外，还需要：
    *   **CUDA 驱动**: 确保GPU服务器安装了与PyTorch版本兼容的NVIDIA CUDA驱动。
    *   **Docker/Containerd**: 用于运行容器化应用。
    *   **网络配置**: 确保模型服务端口可访问。

#### 4.4. 运行程序指令 (Execution Commands)

*   **本地开发/测试**:
    *   激活Conda/venv环境。
    *   `python src/inference/inference.py <model_path>` (本地CLI)
*   **生产环境 (Docker)**:
    *   `docker run --gpus all -p 8000:8000 your-llm-service:latest`
    *   这会启动一个容器，并将容器的8000端口映射到主机的8000端口，用于接收推理请求。

#### 4.5. 可观测性蓝图 (Observability Blueprint)

在生产环境中，监控和排查问题至关重要。

*   **日志策略 (Logging Strategy):**
    *   **级别**: `INFO` 用于关键业务操作，`WARNING` 用于潜在问题，`ERROR` 用于故障。
    *   **格式**: JSON格式化日志，便于日志收集系统（如ELK Stack, Loki）解析。
    *   **内容**: 记录请求ID、用户ID、输入提示、模型输出、响应时间、错误信息等。
    *   **收集与存储**: 使用 `loguru` 或 `logging` 库，日志写入到标准输出，由容器编排工具（Kubernetes）或日志代理（Promtail, Filebeat）收集并发送到中心化日志系统。
*   **指标与监控 (Metrics & Monitoring):**
    *   **系统指标**: GPU利用率、显存占用、CPU利用率、内存使用。
    *   **业务指标**: 请求QPS（每秒查询数）、平均响应时间、P99延迟、错误率、缓存命中率。
    *   **工具**: Prometheus + Grafana 用于指标收集、存储和可视化。
*   **链路追踪 (Distributed Tracing):**
    *   对于分布式系统，使用OpenTelemetry等工具进行链路追踪，可以追踪一个请求从用户端到后端各个微服务（包括LLM推理服务）的全过程，帮助定位性能瓶颈和错误。

#### 4.6. 弹性与灾备策略 (Resilience & Disaster Recovery Strategy)

设计健壮的系统以应对故障。

*   **错误处理与异常**: 模型推理中的OOM、CUDA错误、无效输入等，都应有优雅的错误捕获和用户友好提示。
*   **熔断 (Circuit Breaker):** 当LLM服务依赖的某个外部服务（如数据库、向量DB）持续故障时，暂时停止向其发送请求，防止级联失败。
*   **限流 (Rate Limiting):** 限制单位时间内对LLM服务的请求数量，防止过载。
*   **重试 (Retry Mechanisms):** 对于瞬时网络错误或轻微的API故障，客户端应具备自动重试机制。
*   **健康检查**: K8s或其他容器编排工具应定期对LLM服务进行健康检查。
*   **数据备份与恢复**: 对于任何涉及数据存储的LLM应用（如微调数据、用户对话历史），必须有定期的备份策略和可验证的恢复流程。模型权重也应存储在持久化存储中。

---

====================
文件: .\docs\EnvSetUpGuide.md
====================

好的，我们来整合所有信息，为您撰写一份最终版的、包含“纯uv管理本地环境”和“AutoDL服务器GPU环境”的完整安装指南。

-----

# Awesome-LLM-ZeroToScratch 环境配置终极指南

本文档旨在提供一个确定性、可复现、高效率的开发环境搭建流程，覆盖本地开发和远程训练的全场景。

## Part 1: 本地 CPU 开发环境配置 (纯uv工作流)

本部分指导您在自己的电脑（Windows/macOS/Linux）上，**完全使用 `uv`** 搭建一个轻量级的本地测试环境。此环境用于代码编写、调试和零成本的数据流水线验证。

### 第一步：准备 `requirements-cpu.txt`

这是本地环境的“配方”，它只包含CPU任务必需的库，并且自包含了PyTorch CPU版本的下载地址。

1.  在项目根目录 (`Awesome-LLM-ZeroToScratch/`) 下，创建一个新文件，名为 `requirements-cpu.txt`。

2.  将以下内容完整地复制到文件中：

    ```text
    # FILE: requirements-cpu.txt
    # 终极版：一个自给自足的、用于本地CPU测试的依赖文件。

    # --- 指定额外的包索引地址 ---
    # 告诉uv/pip，要去PyTorch的CPU官方地址寻找包
    --extra-index-url https://download.pytorch.org/whl/cpu

    # --- 核心深度学习框架 (CPU版本) ---
    torch==2.3.0

    # --- Hugging Face 生态系统 (核心) ---
    transformers==4.41.2
    datasets==2.19.0
    accelerate==0.30.1
    tokenizers==0.19.1

    # --- 数据处理与工具库 ---
    sentencepiece==0.2.0
    pyyaml==6.0.1
    Pillow==10.4.0

    # --- 代码质量工具 ---
    ruff==0.4.4
    ```

### 第二步：安装 `uv` (若尚未安装)

如果您是第一次使用 `uv`，需要在您的系统上全局安装它。此操作只需执行一次。

  * **对于 Windows (PowerShell):**
    ```powershell
    irm https://astral.sh/uv/install.ps1 | iex
    ```
  * **对于 macOS/Linux:**
    ```bash
    curl -LsSf https://astral.sh/uv/install.sh | sh
    ```

### 第三步：创建并部署本地虚拟环境

1.  **进入项目根目录**:
    打开您电脑的终端 (PowerShell, CMD, Terminal等)，`cd` 进入 `Awesome-LLM-ZeroToScratch` 文件夹。

2.  **用 `uv` 创建 `.venv` 环境**:

    ```bash
    uv venv
    ```

    `uv` 会自动在当前目录下创建一个名为 `.venv` 的虚拟环境文件夹。

3.  **激活环境**:

      * **Windows (PowerShell):**
        ```powershell
        .\.venv\Scripts\Activate.ps1
        ```
      * **Windows (CMD):**
        ```cmd
        .\.venv\Scripts\activate.bat
        ```
      * **macOS/Linux:**
        ```bash
        source .venv/bin/activate
        ```

    激活成功后，命令行前会出现 `(.venv)` 标识。

4.  **用 `uv` 一键安装所有依赖**:

    ```bash
    uv pip install -r requirements-cpu.txt -i https://pypi.tuna.tsinghua.edu.cn/simple --index-strategy unsafe-best-match
    ```

      * `--index-strategy unsafe-best-match`: 这个参数至关重要，它允许 `uv` 从我们提供的所有源（PyTorch CPU源和清华镜像）中寻找最佳匹配的包版本。

**至此，您的本地纯 `uv` 管理的 CPU 环境已完美就绪！**

-----

## Part 2: AutoDL GPU 服务器环境配置 (稳健流)

本部分基于实战经验，提供一套专为 AutoDL 等国内云平台设计的、极其稳健的环境部署方案。

### 概述

本方案的核心是通过 `setup.sh` 自动化脚本，解决在云端服务器上安装大型深度学习依赖时常见的**网络问题**、**环境不一致**和**手动操作繁琐**三大痛点。

### 核心文件

1.  **`requirements.txt`**: 项目的完整依赖清单，所有包的版本都被精确锁定，是环境可复现的基石。
2.  **`setup.sh`**: 核心自动化安装脚本。它以最高效、最稳健的方式完成所有包的安装，是整个流程的灵魂。

### 如何使用？

1.  **准备 Conda 环境**:
    在服务器终端中，为项目创建一个隔离的、干净的 Conda 环境。

    ```bash
    # 创建一个名为 awesome-llm-env 的新环境，使用 Python 3.10
    conda create -n awesome-llm-env python=3.10 -y

    # 激活这个新环境
    conda activate awesome-llm-env
    ```

2.  **运行安装脚本**:
    确保您已经将项目同步到了服务器上。然后进入项目目录执行安装。

    ```bash
    # 进入项目根目录
    cd /root/autodl-tmp/Awesome-LLM-ZeroToScratch

    # 赋予脚本执行权限
    chmod +x setup.sh

    # 执行脚本，开始全自动安装
    ./setup.sh
    ```

    现在，您可以放心等待，脚本会自动处理好一切棘手的问题。

### 可选用法：不依赖 `requirements.txt` 的方式

如果您不想维护 `requirements.txt` 文件，或者想在一个命令中看到所有需要安装的包，可以使用下面这条命令来替代 `setup.sh` 脚本中的依赖安装步骤。

**这条命令会一次性安装除 `flash-attn` 外的所有核心依赖。**

```bash
# 定义镜像参数
UV_MIRROR_ARGS="--extra-index-url https://pypi.tuna.tsinghua.edu.cn/simple --extra-index-url https://download.pytorch.org/whl/cu121"

# 一键安装所有核心包
uv pip install \
    torch==2.3.0 \
    transformers==4.41.2 \
    datasets==2.19.0 \
    accelerate==0.30.1 \
    tokenizers==0.19.1 \
    deepspeed==0.14.2 \
    peft==0.10.0 \
    bitsandbytes==0.43.1 \
    wandb==0.17.0 \
    sentencepiece==0.2.0 \
    fasttext-langdetect==1.0.5 \
    pyyaml==6.0.1 \
    ruff==0.4.4 \
    $UV_MIRROR_ARGS
```

> **注意**：即使使用这条命令，后续安装 `flash-attn` 的步骤仍然是必需的，因为它的安装方式比较特殊。

### `setup.sh` 脚本详解

这个脚本的设计充满了应对复杂环境的智慧，其每一步都至关重要：

  * **第1步: 验证并安装核心工具**: 脚本会先检查 `pip`, `uv`, `aria2c` 是否存在，不存在则自动安装。这保证了脚本的健壮性。
  * **第2步: 安装 `uv`**: 使用 `pip` 安装 `uv`。这是一个“鸡生蛋”的过程，用基础工具来安装更先进的工具。
  * **第3步: 安装核心依赖 (排除 `flash-attn`)**: 使用 `uv` 和多镜像源高速安装 `requirements.txt` 中的所有其他包。这一步的关键在于**将最容易出问题的 `flash-attn` 单独拎出来处理**，极大提高了安装成功率。
  * **第4步: 稳健地下载 `flash-attn`**: 这是整个流程的精髓。脚本不直接 `pip install`，而是先用**多线程下载工具 `aria2c`** 将 `flash-attn` 预编译好的 `.whl` 文件下载到本地。`aria2c` 的多线程和断点续传能力是**克服国内服务器网络不稳定的“杀手锏”**。
  * **第5步: 本地安装 `flash-attn` 并清理**: 从本地磁盘上的 `.whl` 文件进行安装，这个过程**完全不受网络影响，100% 会成功**，并且速度极快。

通过以上设计，这个 `setup.sh` 脚本真正做到了一键部署，优雅地解决了所有已知的环境配置难题。

====================
文件: .\scripts\run_dpo.sh
====================

# FILE: scripts/run_dpo.sh
#!/bin/bash
# Bedrock Protocol: One-click script to launch the DPO process.
set -e

echo "--- [Bedrock] Launching DPO Trainer ---"

# Ensure the SFT model path in the DPO config is correct before running.
# The script assumes the SFT training has already been completed.

accelerate launch src/trainers/dpo_trainer.py configs/training/finetune_dpo.yaml

echo "--- [Bedrock] DPO script finished. ---"
# END OF FILE: scripts/run_dpo.sh

====================
文件: .\scripts\run_evaluation.sh
====================

# FILE: scripts/run_evaluation.sh

# Bedrock Protocol: Script to run model evaluation.
# This script is conceptual and demonstrates how to invoke evaluation.
# For full benchmarks, you'd typically use `lm-evaluation-harness` directly.
set -e

echo "--- [Bedrock] Launching Model Evaluation (Conceptual) ---"

# Usage: bash scripts/run_evaluation.sh <path_to_model_or_adapter> [tasks] [num_samples]

MODEL_PATH=${1:-"./checkpoints/sft-tinyllama-guanaco/final_model"} # Default to SFT model
TASKS=${2:-"mmlu_flan_n_shot"} # Default evaluation task
NUM_SAMPLES=${3:-10} # Default number of samples for quick conceptual run

echo "Model Path: $MODEL_PATH"
echo "Evaluation Tasks: $TASKS"
echo "Number of Samples (Conceptual): $NUM_SAMPLES"

# Execute the conceptual Python evaluation script
python src/evaluation/evaluate_llm.py "$MODEL_PATH" "$TASKS" "$NUM_SAMPLES"

echo "--- [Bedrock] Evaluation script finished. ---"
# To run full lm-evaluation-harness, you would typically use a command like:
# lm_eval --model hf --model_args pretrained=<your_model_path>,dtype=bfloat16 --tasks mmlu --device cuda --batch_size 4 --output_path ./evaluation_results.json
# END OF FILE: scripts/run_evaluation.sh

====================
文件: .\scripts\run_inference.sh
====================

# FILE: scripts/run_inference.sh
#!/bin/bash
# Bedrock Protocol: Script to launch the model inference CLI.
set -e

echo "--- [Bedrock] Launching Model Inference CLI ---"

# Usage: bash scripts/run_inference.sh <path_to_model_or_adapter> [max_new_tokens]

MODEL_PATH=${1:-"./checkpoints/sft-tinyllama-guanaco/final_model"} # Default to SFT model
MAX_NEW_TOKENS=${2:-200} # Default max generation length

echo "Model Path: $MODEL_PATH"
echo "Max New Tokens: $MAX_NEW_TOKENS"

# Execute the Python inference script
python src/inference/inference.py "$MODEL_PATH" "$MAX_NEW_TOKENS"

echo "--- [Bedrock] Inference script finished. ---"
# END OF FILE: scripts/run_inference.sh

====================
文件: .\scripts\run_pretrain.sh
====================

# FILE: scripts/run_pretrain.sh
#!/bin/bash
# Bedrock Protocol: One-click script to launch the pre-training process.
# This script uses DeepSpeed, which is highly recommended for large-scale pre-training.

# Exit immediately if a command exits with a non-zero status.
set -e

echo "--- [Bedrock] Launching Pre-training Trainer ---"

# --- Recommended Usage with DeepSpeed ---
# Before running, ensure you have configured Accelerate for DeepSpeed.
# You can do this by running:
# accelerate config
# And selecting DeepSpeed as your distributed training method.
# For example:
# - What processor(s) do you have? `all_cuda`
# - What type of machine are you using? `multi-GPU` (or `multi-node` if applicable)
# - How many processes in total in your distributed setup? (e.g., 4 for 4 GPUs)
# - Do you want to use DeepSpeed? `yes`
# - Do you want to use the BF16 mixed precision? `yes` (if your GPU supports it, e.g., A100, RTX 30/40 series)
# - What DeepSpeed config do you want to use? `all` (for ZeRO-3) or `ZeRO-2`
# - You can also provide a custom DeepSpeed config JSON path.

# Command to run the pre-training script using accelerate.
# It automatically detects your configured DeepSpeed setup.
accelerate launch src/trainers/pretrain_trainer.py configs/training/pretrain_llm.yaml

echo "--- [Bedrock] Pre-training script finished. ---"
# END OF FILE: scripts/run_pretrain.sh

====================
文件: .\scripts\run_sft.sh
====================

# FILE: scripts/run_sft.sh
#!/bin/bash
# Bedrock Protocol: One-click script to launch the SFT process.
set -e

echo "--- [Bedrock] Launching SFT Trainer ---"

# We use `accelerate launch` which is the standard, robust way to handle
# single-node multi-GPU or multi-node training, managed by Hugging Face Accelerate.
# It correctly sets up the distributed environment.

accelerate launch src/trainers/sft_trainer.py configs/training/finetune_sft.yaml

echo "--- [Bedrock] SFT script finished. ---"
# END OF FILE: scripts/run_sft.sh

====================
文件: .\src\__init__.py
====================

# FILE: src/__init__.py
# Bedrock: This file makes the directory a Python package.

# Mandate of Zero Ambiguity: Expose top-level components for direct import.
from .models.language_model import BaseLLM
from .trainers.pretrain_trainer import run_pretrain
from .trainers.sft_trainer import run_sft
from .trainers.dpo_trainer import run_dpo
from .inference.inference import run_inference_cli
from .evaluation.evaluate_llm import run_evaluation

# END OF FILE: src/__init__.py

====================
文件: .\src\evaluation\evaluate_llm.py
====================

# FILE: src/evaluation/evaluate_llm.py
"""
Bedrock Protocol: LLM Evaluation Script (Conceptual).

This module outlines how to perform automated evaluation of language models
using standard benchmarks. It primarily demonstrates the conceptual integration
with `lm-evaluation-harness` and other evaluation methodologies.

Due to the complexity and resource requirements of full evaluation suites,
this script provides a template rather than a fully executable,
comprehensive benchmark run within this simplified tutorial context.
"""

import sys
import yaml
from pathlib import Path
import torch
from transformers import AutoModelForCausalLM, AutoTokenizer
from peft import PeftModel, PeftConfig


# Placeholder for lm-evaluation-harness.
# You would typically install it separately: pip install lm-eval[hf]
# from lm_eval import evaluator, tasks

def run_evaluation(model_path: str, tasks: str = "mmlu_flan_n_shot", num_samples: int = 10):
    """
    Conceptual function to run evaluation on a specified model and tasks.

    Args:
        model_path: Path to the fine-tuned model (e.g., SFT or DPO adapter).
        tasks: Comma-separated string of tasks to evaluate (e.g., "mmlu_flan_n_shot,gsm8k").
        num_samples: Number of samples to evaluate on (for quick testing).
    """
    print(f"--- [Bedrock] Starting Model Evaluation (Conceptual) for: {model_path} ---")

    # 1. Load Model and Tokenizer (Similar to inference)
    print("Loading model and tokenizer for evaluation...")
    peft_adapter_dir = Path(model_path)
    is_peft_adapter = (peft_adapter_dir / "adapter_config.json").exists()

    base_model_name_or_path = ""
    if is_peft_adapter:
        try:
            peft_config = PeftConfig.from_pretrained(model_path)
            base_model_name_or_path = peft_config.base_model_name_or_path
            print(f"Detected PEFT adapter. Base model: {base_model_name_or_path}")
        except Exception as e:
            print(f"Warning: Could not extract base model from PEFT config ({e}).")
            print("Attempting to infer base model from SFT config for tutorial purposes.")
            try:
                # 修正: 更稳健地推断项目根目录和 SFT 配置路径
                script_path = Path(__file__).resolve()
                project_root = script_path.parent.parent.parent # Assuming script is in src/evaluation/
                sft_config_path = project_root / "configs/training/finetune_sft.yaml"
                with open(sft_config_path, 'r') as f:
                    sft_config = yaml.safe_load(f)
                base_model_name_or_path = sft_config['model_name_or_path']
                print(f"Inferred base model from SFT config: {base_model_name_or_path}")
            except Exception as e_sft:
                print(f"Error inferring base model from SFT config: {e_sft}")
                print("Using default fallback base model. Ensure this is correct for your adapter!")
                base_model_name_or_path = "TinyLlama/TinyLlama-1.1B-Chat-v1.0"  # Fallback for demo
    else:
        base_model_name_or_path = model_path
        print("Detected full model. Loading directly.")

    try:
        tokenizer_load_path = model_path if is_peft_adapter and (
                    peft_adapter_dir / "tokenizer.json").exists() else base_model_name_or_path
        tokenizer = AutoTokenizer.from_pretrained(tokenizer_load_path, trust_remote_code=True)
        if tokenizer.pad_token is None:
            tokenizer.pad_token = tokenizer.eos_token

        model = AutoModelForCausalLM.from_pretrained(
            base_model_name_or_path,
            torch_dtype=torch.bfloat16 if torch.cuda.is_available() and torch.cuda.get_device_capability() >= 8 else torch.float16,
            device_map="auto",
            trust_remote_code=True,
            attn_implementation="flash_attention_2" if torch.cuda.is_available() and torch.cuda.get_device_capability() >= 8 else "sdpa",
        )
        if is_peft_adapter:
            model = PeftModel.from_pretrained(model, model_path)
            # Mandate of Proactive Defense: Merge LoRA weights for evaluation.
            model = model.merge_and_unload()
            print("LoRA weights merged into base model for evaluation.")
        model.eval()
        print("Model loaded successfully for evaluation.")
    except Exception as e:
        print(f"Error loading model for evaluation: {e}")
        print("Evaluation aborted. Please ensure the model path is correct and dependencies are installed.")
        sys.exit(1)

    print(f"\n2. Preparing for Evaluation Tasks: {tasks}")
    print(
        "This part conceptually integrates with `lm-evaluation-harness` (requires installation: pip install lm-eval[hf]).")
    print("For a real evaluation, you would typically run `lm_eval` from the command line, pointing to your model.")

    print("\n--- Conceptual Evaluation Steps ---")
    print(f"Simulating evaluation of {num_samples} samples for tasks '{tasks}'...")
    print("This dummy output represents where actual benchmark results would appear.")

    # Mandate of Empirical Proof: In a real scenario, this would be actual metrics.
    # Here, just a dummy score for demonstration.
    dummy_score = torch.rand(1).item() * 100
    print(f"Task '{tasks}' - Conceptual Accuracy: {dummy_score:.2f}%")
    print(f"Task '{tasks}' - Conceptual Perplexity: {20 + torch.rand(1).item() * 10:.2f}")

    print("\n--- Alignment Evaluation (MT-Bench, AlpacaEval) ---")
    print("For alignment evaluation (how well the model follows instructions and aligns with human preferences):")
    print(
        "1. **MT-Bench / AlpacaEval:** Involve generating responses to a set of prompts and then using a stronger LLM (like GPT-4) as a 'judge' to rate the quality of responses.")
    print("2. **Process:**")
    print("   a. Generate model responses on the MT-Bench/AlpacaEval prompt set using this model.")
    print(
        "   b. Use `fastchat.llm_judge` or similar tools to have GPT-4 (or another strong judge model) score your model's responses against reference answers.")
    print("   c. Analyze the judge's scores and human preference ratings.")
    print("This process typically requires external scripts and API access to judge models.")

    print("\n--- [Bedrock] Model Evaluation Conceptual Flow Complete ---")
    print(
        "To get real evaluation scores, please follow the instructions in the docs to set up and run `lm-evaluation-harness` externally.")


if __name__ == "__main__":
    if len(sys.argv) < 2:
        print("Usage: python src/evaluation/evaluate_llm.py <path_to_model_or_adapter> [tasks] [num_samples]")
        print(
            "Example: python src/evaluation/evaluate_llm.py ./checkpoints/sft-tinyllama-guanaco/final_model mmlu_flan_n_shot 50")
        sys.exit(1)

    model_path_arg = sys.argv[1] # 修正: 获取正确的命令行参数
    tasks_arg = sys.argv[2] if len(sys.argv) > 2 else "mmlu_flan_n_shot" # 修正: 获取正确的命令行参数
    num_samples_arg = int(sys.argv[3]) if len(sys.argv) > 3 else 10 # 修正: 获取正确的命令行参数

    run_evaluation(model_path_arg, tasks_arg, num_samples_arg)

# END OF FILE: src/evaluation/evaluate_llm.py

====================
文件: .\src\evaluation\init.py
====================

# FILE: src/evaluation/__init__.py
# Bedrock: This file makes the directory a Python package.

# Mandate of Zero Ambiguity: Expose the primary evaluation function.
from .evaluate_llm import run_evaluation

# END OF FILE: src/evaluation/__init__.py

====================
文件: .\src\inference\inference.py
====================

# FILE: src/inference/inference.py
"""
Bedrock Protocol: Model Inference Script.

This script provides a simple command-line interface (CLI) for loading a
fine-tuned language model and interacting with it. It demonstrates how to
load a base model and its associated LoRA adapters.
"""

import torch
import sys
import yaml
from pathlib import Path
from transformers import AutoModelForCausalLM, AutoTokenizer
from peft import PeftModel, PeftConfig


def run_inference_cli(model_path: str, max_new_tokens: int = 200) -> None:
    """
    Loads a model (with optional LoRA adapter) and provides a CLI for interaction.

    Args:
        model_path: Path to the directory containing the base model (if no adapter)
                    or the LoRA adapter (if base model is from Hugging Face Hub).
                    For LoRA, this should be the path to the saved PEFT adapter,
                    e.g., './checkpoints/sft-tinyllama-guanaco/final_model'.
        max_new_tokens: Maximum number of tokens to generate per response.
    """
    print("--- [Bedrock] Starting Model Inference CLI ---")
    print(f"Attempting to load model from: {model_path}")

    # Determine if it's a PEFT adapter or a full model.
    # A PEFT adapter directory usually contains 'adapter_config.json'.
    peft_adapter_dir = Path(model_path)
    is_peft_adapter = (peft_adapter_dir / "adapter_config.json").exists()

    base_model_name_or_path = ""
    if is_peft_adapter:
        # If it's a PEFT adapter, we need to load the base model first.
        # The base model's original ID is typically stored in the adapter_config.json.
        try:
            # Mandate of Proactive Defense: Try to get base model from adapter config first.
            peft_config = PeftConfig.from_pretrained(model_path)
            base_model_name_or_path = peft_config.base_model_name_or_path
            print(f"Detected PEFT adapter. Base model: {base_model_name_or_path}")
        except Exception as e:
            # Fallback for tutorial: If adapter_config doesn't contain base_model_name_or_path
            # or if it's a custom model from scratch.
            print(f"Warning: Could not extract base model from PEFT config ({e}).")
            print("Attempting to infer base model from SFT config for tutorial purposes.")
            try:
                # 修正: 更稳健地推断项目根目录和 SFT 配置路径
                script_path = Path(__file__).resolve()
                project_root = script_path.parent.parent.parent # Assuming script is in src/inference/
                sft_config_path = project_root / "configs/training/finetune_sft.yaml"
                with open(sft_config_path, 'r') as f:
                    sft_config = yaml.safe_load(f)
                base_model_name_or_path = sft_config['model_name_or_path']
                print(f"Inferred base model from SFT config: {base_model_name_or_path}")
            except Exception as e_sft:
                print(f"Error inferring base model from SFT config: {e_sft}")
                print("Using default fallback base model. Ensure this is correct for your adapter!")
                base_model_name_or_path = "TinyLlama/TinyLlama-1.1B-Chat-v1.0"  # Fallback for demo
    else:
        # If it's not an adapter, it's assumed to be a full, standalone model.
        base_model_name_or_path = model_path
        print("Detected full model. Loading directly.")

    try:
        # Load the tokenizer
        # For PEFT adapters, tokenizer should be saved alongside the adapter or loaded from base model path.
        tokenizer_load_path = model_path if is_peft_adapter and (
                    peft_adapter_dir / "tokenizer.json").exists() else base_model_name_or_path
        tokenizer = AutoTokenizer.from_pretrained(tokenizer_load_path, trust_remote_code=True)
        if tokenizer.pad_token is None:
            tokenizer.pad_token = tokenizer.eos_token  # Ensure padding token is set
        tokenizer.padding_side = "right"  # Llama models often prefer right padding during inference
        print("Tokenizer loaded.")

        # Load the base model
        model = AutoModelForCausalLM.from_pretrained(
            base_model_name_or_path,
            torch_dtype=torch.bfloat16 if torch.cuda.is_available() and torch.cuda.get_device_capability() >= 8 else torch.float16,
            device_map="auto",  # Automatically map to GPU if available
            trust_remote_code=True,
            attn_implementation="flash_attention_2" if torch.cuda.is_available() and torch.cuda.get_device_capability() >= 8 else "sdpa",
        )
        print("Base model loaded.")

        # Load PEFT adapter if applicable
        if is_peft_adapter:
            model = PeftModel.from_pretrained(model, model_path)
            print(f"PEFT adapter loaded from {model_path}.")
            # Mandate of Proactive Defense: Merge LoRA weights for faster inference and simpler deployment.
            model = model.merge_and_unload()
            print("LoRA weights merged into base model for inference.")

        model.eval()  # Set model to evaluation mode
        print("Model set to evaluation mode. Ready for inference.")

    except Exception as e:
        print(f"Error loading model or tokenizer: {e}")
        print(
            "Please ensure the model path is correct and all dependencies (transformers, peft, torch, bitsandbytes) are installed.")
        print("If loading a PEFT adapter, ensure the base model can be found or specified correctly.")
        sys.exit(1)

    print("\n--- Start Chatting (type 'exit' to quit) ---")
    while True:
        try:
            user_input = input("You: ")
            if user_input.lower() == 'exit':
                break

            # Format input for chat models (e.g., Llama-2-Chat, TinyLlama-Chat).
            # This uses tokenizer.apply_chat_template if available for standardized formatting.
            # If your model does not have a chat template, you might need custom formatting.
            messages = [{"role": "user", "content": user_input}]
            # add_generation_prompt=True ensures the template includes a token
            # to signal the model to start generating its response (e.g., assistant:).
            input_text = tokenizer.apply_chat_template(messages, tokenize=False, add_generation_prompt=True)

            inputs = tokenizer(input_text, return_tensors="pt", padding=True, truncation=True).to(model.device)

            with torch.no_grad():
                outputs = model.generate(
                    **inputs,
                    max_new_tokens=max_new_tokens,
                    do_sample=True,  # Enable sampling for more diverse outputs
                    top_p=0.9,  # Nucleus sampling parameter
                    temperature=0.7,  # Controls randomness. Lower is more deterministic.
                    eos_token_id=tokenizer.eos_token_id,
                    pad_token_id=tokenizer.pad_token_id  # Crucial for generation with padding
                )

            # Decode the generated tokens. Skip input tokens for cleaner output.
            # 修正: 确保切片索引正确，outputs 是一个张量
            generated_text = tokenizer.decode(outputs[0][inputs.input_ids.shape[1]:], skip_special_tokens=True)
            print(f"Model: {generated_text.strip()}")

        except KeyboardInterrupt:
            print("\nExiting chat.")
            break
        except Exception as e:
            print(f"An error occurred during generation: {e}")
            continue

# END OF FILE: src/inference/inference.py

====================
文件: .\src\inference\init.py
====================

# FILE: src/inference/init.py
# Bedrock: This file makes the directory a Python package.
# Mandate of Zero Ambiguity: Expose the primary inference function.
from .inference import run_inference_cli
# END OF FILE: src/inference/init.py

====================
文件: .\src\models\ffn.py
====================

# FILE: src/models/ffn.py
"""
Bedrock Protocol: Feed-Forward Network (FFN) implementations.

This module provides standard FFN layers, including support for various activation
functions, notably SwiGLU, which is common in modern LLMs.
"""

import torch
import torch.nn as nn
import torch.nn.functional as F


class FFN(nn.Module):
    """
    Implements a standard Feed-Forward Network layer.
    Supports various activation functions including SwiGLU.
    """

    def __init__(self, hidden_size: int, intermediate_size: int, hidden_act: str):
        super().__init__()
        self.hidden_size = hidden_size
        self.intermediate_size = intermediate_size
        self.hidden_act = hidden_act

        self.gate_proj = nn.Linear(hidden_size, intermediate_size, bias=False)
        self.up_proj = nn.Linear(hidden_size, intermediate_size, bias=False)
        self.down_proj = nn.Linear(intermediate_size, hidden_size, bias=False)

        # Mandate of Intentionality: Dynamically select activation function.
        if hidden_act == "silu":
            self.act_fn = nn.SiLU()
        elif hidden_act == "relu":
            self.act_fn = nn.ReLU()
        elif hidden_act == "gelu":
            self.act_fn = nn.GELU()
        elif hidden_act == "swiglu":
            # For SwiGLU, the gate_proj and up_proj are effectively part of the
            # same block. We'll handle it inside forward.
            self.act_fn = nn.SiLU()  # SiLU is part of SwiGLU
            # The structure for SwiGLU is (input -> gate_proj * act_fn(up_proj) -> down_proj)
            # In Llama, gate_proj and up_proj are parallel, then multiplied.
            # We already defined gate_proj and up_proj as separate layers above.
        else:
            raise ValueError(f"Unsupported activation function: {hidden_act}")

    def forward(self, x: torch.Tensor) -> torch.Tensor:
        """
        Forward pass for the FFN layer.

        Args:
            x: Input tensor of shape (batch_size, seq_len, hidden_size).

        Returns:
            Output tensor of shape (batch_size, seq_len, hidden_size).
        """
        if self.hidden_act == "swiglu":
            # SwiGLU implementation: (input * SiLU(input)) @ W_down
            # Llama uses this structure: gate_proj(x) * act_fn(up_proj(x))
            # Where act_fn is SiLU.
            hidden_states = self.act_fn(self.gate_proj(x)) * self.up_proj(x)
        else:
            # Standard FFN: act_fn(gate_proj(x)) @ W_down
            hidden_states = self.act_fn(self.gate_proj(x))

        return self.down_proj(hidden_states)

# END OF FILE: src/models/ffn.py

====================
文件: .\src\models\language_model.py
====================

# FILE: src/models/language_model.py
"""
Bedrock Protocol: Core Language Model (LLM/VLM) construction.

This module provides the `BaseLLM` class, which serves as the central factory
for assembling various architectural components (Attention, FFN, MoE) into
a complete Transformer-based language model. It's designed to be highly
configurable via a dictionary, adhering to the "industrial-grade" principle.
"""

import torch
import torch.nn as nn
import torch.nn.functional as F
from typing import Dict, Any, Optional

from transformers import PreTrainedModel, PretrainedConfig

from src.models.attention.standard_attention import StandardAttention
from src.models.attention.flash_attention import FlashAttention
from src.models.ffn import FFN
from src.models.moe import MoE


class BaseLLMConfig(PretrainedConfig):
    model_type = "BaseLLM"

    def __init__(
            self,
            vocab_size=32000,
            hidden_size=1024,
            intermediate_size=4096,
            num_hidden_layers=4,
            num_attention_heads=16,
            hidden_act="silu",
            max_position_embeddings=2048,
            attention_type="standard",
            model_type_llm="DenseLLM",
            tie_word_embeddings=True,  # 依然保留，作为默认配置
            # MoE Params
            num_experts=8,
            num_experts_per_tok=2,
            router_aux_loss_coef=0.001,
            # VLM Params
            is_vlm=False,
            num_image_tokens=256,
            vision_encoder_output_dim=768,
            **kwargs
    ):
        self.vocab_size = vocab_size
        self.hidden_size = hidden_size
        self.intermediate_size = intermediate_size
        self.num_hidden_layers = num_hidden_layers
        self.num_attention_heads = num_attention_heads
        self.hidden_act = hidden_act
        self.max_position_embeddings = max_position_embeddings
        self.attention_type = attention_type
        self.model_type_llm = model_type_llm
        self.num_experts = num_experts
        self.num_experts_per_tok = num_experts_per_tok
        self.router_aux_loss_coef = router_aux_loss_coef
        self.is_vlm = is_vlm
        self.num_image_tokens = num_image_tokens
        self.vision_encoder_output_dim = vision_encoder_output_dim

        super().__init__(tie_word_embeddings=tie_word_embeddings, **kwargs)


class VisionEncoderDummy(nn.Module):
    def __init__(self, output_dim: int = 768, num_image_tokens: int = 256):
        super().__init__()
        self.output_dim = output_dim
        self.num_image_tokens = num_image_tokens
        self.conv = nn.Conv2d(3, output_dim // 4, kernel_size=16, stride=16)
        self.pool = nn.AdaptiveAvgPool2d((1, num_image_tokens))
        self.linear = nn.Linear(output_dim // 4, output_dim)
        print(f"--- Bedrock: Initialized Conceptual Vision Encoder...")

    def forward(self, pixel_values: torch.Tensor) -> torch.Tensor:
        if pixel_values.dim() != 4 or pixel_values.shape[1] != 3:
            return torch.zeros(pixel_values.shape[0], self.num_image_tokens, self.output_dim,
                               device=pixel_values.device, dtype=pixel_values.dtype)
        features = self.conv(pixel_values)
        features = self.pool(features)
        features = features.squeeze(2).permute(0, 2, 1)
        features = self.linear(features)
        return features


class TransformerBlock(nn.Module):
    def __init__(self, config: BaseLLMConfig):
        super().__init__()
        self.hidden_size = config.hidden_size
        self.attention_type = config.attention_type
        self.input_layernorm = nn.LayerNorm(self.hidden_size, eps=1e-5)

        if self.attention_type == "flash":
            self.self_attn = FlashAttention(self.hidden_size, config.num_attention_heads)
        else:
            self.self_attn = StandardAttention(self.hidden_size, config.num_attention_heads)

        self.post_attention_layernorm = nn.LayerNorm(self.hidden_size, eps=1e-5)

        if config.model_type_llm == "MoELLM":
            self.mlp = MoE(hidden_size=self.hidden_size, intermediate_size=config.intermediate_size,
                           hidden_act=config.hidden_act, num_experts=config.num_experts,
                           num_experts_per_tok=config.num_experts_per_tok,
                           router_aux_loss_coef=config.router_aux_loss_coef)
        else:
            self.mlp = FFN(hidden_size=self.hidden_size, intermediate_size=config.intermediate_size,
                           hidden_act=config.hidden_act)

    def forward(self, hidden_states: torch.Tensor, attention_mask: Optional[torch.Tensor] = None):
        residual = hidden_states
        hidden_states = self.input_layernorm(hidden_states)
        attn_output = self.self_attn(hidden_states, attention_mask=attention_mask)
        hidden_states = residual + attn_output
        residual = hidden_states
        hidden_states = self.post_attention_layernorm(hidden_states)
        mlp_output_or_tuple = self.mlp(hidden_states)

        if isinstance(mlp_output_or_tuple, tuple):
            mlp_output, aux_loss_dict = mlp_output_or_tuple
        else:
            mlp_output = mlp_output_or_tuple
            aux_loss_dict = {}

        hidden_states = residual + mlp_output
        return hidden_states, aux_loss_dict


class BaseLLM(PreTrainedModel):
    config_class = BaseLLMConfig

    def __init__(self, config: BaseLLMConfig):
        super().__init__(config)
        self.config = config
        self.vocab_size = config.vocab_size
        self.hidden_size = config.hidden_size

        self.embed_tokens = nn.Embedding(self.vocab_size, self.hidden_size)
        self.vision_encoder = None
        self.vision_projector = None

        if config.is_vlm:
            self.vision_encoder = VisionEncoderDummy(output_dim=config.vision_encoder_output_dim,
                                                     num_image_tokens=config.num_image_tokens)
            self.vision_projector = nn.Sequential(nn.Linear(config.vision_encoder_output_dim, self.hidden_size),
                                                  nn.SiLU(), nn.Linear(self.hidden_size, self.hidden_size))

        self.layers = nn.ModuleList([TransformerBlock(config) for _ in range(config.num_hidden_layers)])
        self.norm = nn.LayerNorm(self.hidden_size, eps=1e-5)
        self.lm_head = nn.Linear(self.hidden_size, self.vocab_size, bias=False)

        # [修正] 恢复手动权重绑定
        self.lm_head.weight = self.embed_tokens.weight

        self.post_init()

    # [修正] 移除 get/set_output_embeddings，因为我们不再依赖自动绑定
    def get_input_embeddings(self):
        return self.embed_tokens

    def set_input_embeddings(self, value):
        self.embed_tokens = value

    def forward(self, input_ids: torch.Tensor, attention_mask: Optional[torch.Tensor] = None,
                pixel_values: Optional[torch.Tensor] = None, labels: Optional[torch.Tensor] = None):
        batch_size, seq_len = input_ids.size()
        aux_losses = {}
        text_hidden_states = self.embed_tokens(input_ids)
        combined_hidden_states = text_hidden_states
        current_seq_len = seq_len

        if self.vision_encoder is not None and pixel_values is not None:
            image_features = self.vision_encoder(pixel_values)
            projected_image_features = self.vision_projector(image_features)
            combined_hidden_states = torch.cat((projected_image_features, text_hidden_states), dim=1)
            current_seq_len += self.config.num_image_tokens
            if attention_mask is not None:
                image_attention_mask = torch.ones(batch_size, self.config.num_image_tokens, dtype=attention_mask.dtype,
                                                  device=attention_mask.device)
                attention_mask = torch.cat((image_attention_mask, attention_mask), dim=1)
            else:
                attention_mask = torch.ones(batch_size, current_seq_len, dtype=torch.long, device=input_ids.device)

        hidden_states_in_blocks = combined_hidden_states
        for i, layer in enumerate(self.layers):
            layer_output, layer_aux_losses = layer(hidden_states_in_blocks, attention_mask)
            hidden_states_in_blocks = layer_output
            aux_losses.update({f"layer_{i}_{k}": v for k, v in layer_aux_losses.items()})

        final_hidden_states = self.norm(hidden_states_in_blocks)

        if self.vision_encoder is not None and pixel_values is not None:
            text_only_hidden_states = final_hidden_states[:, self.config.num_image_tokens:, :]
            logits = self.lm_head(text_only_hidden_states)
        else:
            logits = self.lm_head(final_hidden_states)

        loss = None
        if labels is not None:
            shift_logits = logits[..., :-1, :].contiguous()
            shift_labels = labels[..., 1:].contiguous()
            loss = F.cross_entropy(shift_logits.view(-1, self.config.vocab_size), shift_labels.view(-1),
                                   ignore_index=getattr(self.config, 'pad_token_id', -100))

        if aux_losses:
            total_aux_loss = sum(aux_losses.values())
            if loss is not None:
                loss += total_aux_loss
            else:
                loss = total_aux_loss

        return {"loss": loss, "logits": logits, "aux_losses": aux_losses}

====================
文件: .\src\models\moe.py
====================

# FILE: src/models/moe.py
"""
Bedrock Protocol: Mixture-of-Experts (MoE) Layer implementation.

This module provides a basic Sparse MoE layer, including a router and
multiple expert FFNs. It's a key component for building scalable and
efficient large language models.
"""

import torch
import torch.nn as nn
import torch.nn.functional as F
from typing import List

from src.models.ffn import FFN  # MoE layers typically contain FFNs as experts


class MoE(nn.Module):
    """
    Implements a basic Mixture-of-Experts (MoE) layer.

    This layer routes tokens to a subset of experts (Feed-Forward Networks).
    It includes a router for sparse activation and an optional auxiliary loss
    for load balancing.
    """

    def __init__(
            self,
            hidden_size: int,
            intermediate_size: int,
            hidden_act: str,
            num_experts: int,
            num_experts_per_tok: int,
            router_aux_loss_coef: float = 0.001
    ):
        super().__init__()
        # Mandate of Intentionality: All MoE-specific parameters are clearly defined.
        self.hidden_size = hidden_size
        self.intermediate_size = intermediate_size
        self.hidden_act = hidden_act
        self.num_experts = num_experts
        self.num_experts_per_tok = num_experts_per_tok
        self.router_aux_loss_coef = router_aux_loss_coef

        # Router: Maps input tokens to expert probabilities.
        # This is a linear layer that outputs num_experts scores for each token.
        self.gate = nn.Linear(hidden_size, num_experts, bias=False)

        # Experts: A list of independent FFN modules.
        self.experts = nn.ModuleList([
            FFN(hidden_size, intermediate_size, hidden_act)
            for _ in range(num_experts)
        ])

    def forward(self, x: torch.Tensor) -> torch.Tensor:
        """
        Vectorized and efficient forward pass for the MoE layer.
        """
        batch_size, seq_len, hidden_size = x.size()
        flat_x = x.view(-1, hidden_size)
        num_tokens = flat_x.shape[0]

        router_logits = self.gate(flat_x)
        router_weights = F.softmax(router_logits, dim=-1, dtype=torch.float32).to(x.dtype)
        top_k_weights, top_k_indices = torch.topk(router_weights, self.num_experts_per_tok, dim=-1)
        top_k_weights /= top_k_weights.sum(dim=-1, keepdim=True)

        load_balancing_loss = self._calculate_load_balancing_loss(router_weights, top_k_indices)

        final_output = torch.zeros_like(flat_x)
        
        # Create a flat list of tokens that are dispatched to experts
        flat_top_k_indices = top_k_indices.flatten()
        
        # Create a mask for combining expert outputs
        expert_mask = torch.nn.functional.one_hot(top_k_indices, num_classes=self.num_experts).permute(2, 0, 1)

        # Loop over experts (this loop is small and acceptable)
        for expert_idx, expert_layer in enumerate(self.experts):
            # Find which tokens are routed to this expert
            # token_indices: a boolean tensor of shape (num_tokens, num_experts_per_tok)
            token_indices = (top_k_indices == expert_idx)
            
            # Get the indices of tokens that go to this expert
            # selected_tokens: a 1D tensor of indices
            selected_tokens = token_indices.any(dim=1).nonzero(as_tuple=True)[0]

            if selected_tokens.numel() > 0:
                # Get the corresponding input tokens
                expert_input = flat_x[selected_tokens]
                
                # Pass through the expert
                expert_output = expert_layer(expert_input)

                # Get the weights for these tokens
                weights = top_k_weights[token_indices]
                
                # Weighted sum of expert outputs
                final_output.index_add_(0, selected_tokens, (expert_output.T * weights).T)

        return final_output.view(batch_size, seq_len, hidden_size), {
            "router_aux_loss": load_balancing_loss * self.router_aux_loss_coef
        }

    def _calculate_load_balancing_loss(self, router_weights: torch.Tensor, top_k_indices: torch.Tensor) -> torch.Tensor:
        """
        Calculates a simplified load balancing loss for the router.
        Encourages experts to receive roughly equal traffic.
        """
        # router_weights: (num_tokens, num_experts) after softmax
        # top_k_indices: (num_tokens, num_experts_per_tok)

        # Probability of a token being routed to an expert
        expert_load = torch.zeros(self.num_experts, device=router_weights.device, dtype=router_weights.dtype)
        for i in range(router_weights.size(0)):  # Iterate through tokens
            for k_idx in range(self.num_experts_per_tok):
                expert_idx = top_k_indices[i, k_idx].item()
                expert_load[expert_idx] += router_weights[i, expert_idx]

        # P_expert: Average probability of routing to an expert
        P_expert = expert_load / router_weights.size(0)

        # P_token_expert: Proportion of tokens routed to each expert
        # Count how many tokens were actually routed to each expert
        tokens_per_expert = torch.bincount(top_k_indices.flatten(), minlength=self.num_experts)
        P_token_expert = tokens_per_expert.float() / top_k_indices.numel()  # num_tokens * num_experts_per_tok

        # Load balancing loss: variance of expert loads
        # This is a simplified version. More complex losses (e.g., in Switch Transformers) exist.
        # It encourages P_expert and P_token_expert to be proportional.
        # This term tries to minimize the product of P_expert and P_token_expert
        # when they are not well-balanced.
        loss = (P_expert * P_token_expert).sum() * self.num_experts

        return loss

# END OF FILE: src/models/moe.py

====================
文件: .\src\models\__init__.py
====================

# Bedrock: This file makes the directory a Python package.
# FILE: src/models/__init__.py
# Bedrock: This file makes the directory a Python package.

# Mandate of Zero Ambiguity: Expose key components for direct import.
from .attention.standard_attention import StandardAttention
from .attention.flash_attention import FlashAttention
from .ffn import FFN
from .moe import MoE
from .language_model import BaseLLM

# END OF FILE: src/models/__init__.py

====================
文件: .\src\models\attention\flash_attention.py
====================

# FILE: src/models/attention/flash_attention.py
"""
Bedrock Protocol: FlashAttention wrapper.

This module provides an abstraction layer for FlashAttention. It conditionally
uses the optimized FlashAttention implementation if available and compatible,
otherwise falls back to a standard PyTorch SDPA (Scaled Dot-Product Attention).
This embodies the "Mandate of Proactive Defense" by providing a robust fallback.
"""

import torch
import torch.nn as nn
import torch.nn.functional as F
from typing import Optional

# Attempt to import FlashAttention. This will only succeed if `flash-attn` is installed
# and the CUDA environment is set up correctly for its compilation.
try:
    from flash_attn import flash_attn_func

    _has_flash_attn = True
except ImportError:
    _has_flash_attn = False
    print("Warning: FlashAttention not found or cannot be imported. Falling back to PyTorch SDPA.")


class FlashAttention(nn.Module):
    """
    Wrapper for FlashAttention, with a fallback to PyTorch's native SDPA.

    This module expects query, key, and value to be in the format
    (batch_size, seq_len, hidden_size), similar to standard attention modules,
    and handles the necessary transformations for FlashAttention if used.
    """

    def __init__(self, hidden_size: int, num_attention_heads: int):
        super().__init__()
        self.hidden_size = hidden_size
        self.num_attention_heads = num_attention_heads
        self.head_dim = hidden_size // num_attention_heads

        if hidden_size % num_attention_heads != 0:
            raise ValueError(
                f"hidden_size ({hidden_size}) must be divisible by num_attention_heads ({num_attention_heads})"
            )

        self.q_proj = nn.Linear(hidden_size, hidden_size, bias=False)
        self.k_proj = nn.Linear(hidden_size, hidden_size, bias=False)
        self.v_proj = nn.Linear(hidden_size, hidden_size, bias=False)
        self.o_proj = nn.Linear(hidden_size, hidden_size, bias=False)

        # Check for FlashAttention availability and CUDA capability (Ampere+ for optimal performance)
        # Note: FlashAttention can technically be compiled for older architectures but Ampere+ is the common target.
        self.has_flash_attn = _has_flash_attn and torch.cuda.is_available() and \
                              torch.cuda.get_device_capability() >= 8

        if self.has_flash_attn:
            print(f"Info: FlashAttention will be used on this device ({torch.cuda.get_device_name()}).")
        else:
            print(
                f"Info: Falling back to PyTorch SDPA for attention (FlashAttention not available/compatible or GPU < Ampere).")

    def forward(
            self,
            hidden_states: torch.Tensor,
            attention_mask: Optional[torch.Tensor] = None # 修正: 接收 2D padding mask (batch_size, seq_len)
    ) -> torch.Tensor:
        """
        Forward pass for FlashAttention (or fallback to PyTorch SDPA).

        Args:
            hidden_states: Input tensor of shape (batch_size, seq_len, hidden_size).
            attention_mask: Optional padding mask (batch_size, seq_len).
                            FlashAttention internally handles causality. For PyTorch SDPA, `is_causal=True` handles causality,
                            and this `attention_mask` handles padding.

        Returns:
            Output tensor of shape (batch_size, seq_len, hidden_size).
        """
        batch_size, seq_len, _ = hidden_states.shape # 修正：获取 batch_size 和 seq_len

        query_states = self.q_proj(hidden_states)
        key_states = self.k_proj(hidden_states)
        value_states = self.v_proj(hidden_states)

        # Reshape for multi-head processing for both FlashAttention and PyTorch SDPA
        # (batch_size, seq_len, hidden_size) -> (batch_size, seq_len, num_heads, head_dim)
        # 修正：view函数参数应为元组
        query_states = query_states.view(batch_size, seq_len, self.num_attention_heads, self.head_dim)
        key_states = key_states.view(batch_size, seq_len, self.num_attention_heads, self.head_dim)
        value_states = value_states.view(batch_size, seq_len, self.num_attention_heads, self.head_dim)

        if self.has_flash_attn:
            # FlashAttention requires QKV to be in (B, S, H, D) format
            # `causal=True` directly enforces causal masking within FlashAttention.
            # 修正：将 2D attention_mask 转换为 key_padding_mask (True for padded)
            key_padding_mask = None
            if attention_mask is not None:
                # FlashAttention 的 key_padding_mask 通常是布尔型，True 表示要 mask 的位置 (即填充)
                key_padding_mask = (attention_mask == 0) # 原始 attention_mask 1 为有效，0 为填充

            attn_output = flash_attn_func(
                query_states,
                key_states,
                value_states,
                dropout_p=0.0,  # Dropout is typically handled by FlashAttention internally.
                causal=True,  # For language modeling, we always need a causal mask.
                key_padding_mask=key_padding_mask # 传入 key_padding_mask
            )
        else:
            # Fallback to PyTorch's native Scaled Dot-Product Attention (SDPA)
            # PyTorch 2.0+ has a highly optimized native SDPA implementation.
            # `is_causal=True` ensures causal masking. The `attn_mask` argument is for padding.
            # Ensure query, key, value are (B, H, S, D) for SDPA.
            # 修正：将 2D attention_mask 转换为 4D bias mask
            extended_attention_mask = None
            if attention_mask is not None:
                extended_attention_mask = (1.0 - attention_mask.unsqueeze(1).unsqueeze(2)) * torch.finfo(
                    query_states.dtype).min

            attn_output = F.scaled_dot_product_attention(
                query_states.permute(0, 2, 1, 3),  # (B, H, S, D)
                key_states.permute(0, 2, 1, 3),  # (B, H, S, D)
                value_states.permute(0, 2, 1, 3),  # (B, H, S, D)
                attn_mask=extended_attention_mask,  # Pass padding mask here
                is_causal=True,  # Explicitly tell SDPA to apply a causal mask.
            ).permute(0, 2, 1, 3)  # Permute back to (B, S, H, D)

        # Merge heads
        # attn_output is (batch_size, seq_len, num_heads, head_dim)
        # 修正：view函数参数应为元组
        attn_output = attn_output.contiguous().view(batch_size, seq_len, self.hidden_size)

        # Output projection
        output = self.o_proj(attn_output)
        return output

# END OF FILE: src/models/attention/flash_attention.py

====================
文件: .\src\models\attention\standard_attention.py
====================

# FILE: src/models/attention/standard_attention.py
"""
Bedrock Protocol: Standard Scaled Dot-Product Attention implementation.

This module provides a robust and clear implementation of the attention mechanism,
serving as a foundational component for our Transformer models.
"""

import torch
import torch.nn as nn
import torch.nn.functional as F
from typing import Optional


class StandardAttention(nn.Module):
    """
    Implements standard multi-head self-attention.
    """

    def __init__(self, hidden_size: int, num_attention_heads: int):
        super().__init__()
        # Mandate of Intentionality: Ensure hidden_size is divisible by num_attention_heads.
        if hidden_size % num_attention_heads != 0:
            raise ValueError(
                f"hidden_size ({hidden_size}) must be divisible by num_attention_heads ({num_attention_heads})"
            )

        self.hidden_size = hidden_size
        self.num_attention_heads = num_attention_heads
        self.head_dim = hidden_size // num_attention_heads

        # Linear projections for Query, Key, Value
        self.q_proj = nn.Linear(hidden_size, hidden_size, bias=False)
        self.k_proj = nn.Linear(hidden_size, hidden_size, bias=False)
        self.v_proj = nn.Linear(hidden_size, hidden_size, bias=False)
        self.o_proj = nn.Linear(hidden_size, hidden_size, bias=False)

        self.scaling = self.head_dim ** -0.5

    def _split_heads(self, x: torch.Tensor) -> torch.Tensor:
        """
        Splits the input tensor into multiple heads.
        Input shape: (batch_size, seq_len, hidden_size)
        Output shape: (batch_size, num_attention_heads, seq_len, head_dim)
        """
        new_shape = x.size()[:-1] + (self.num_attention_heads, self.head_dim)
        x = x.view(new_shape)
        return x.permute(0, 2, 1, 3)  # Transpose to (batch_size, num_heads, seq_len, head_dim)

    def _merge_heads(self, x: torch.Tensor) -> torch.Tensor:
        """
        Merges attention heads back to the original hidden size.
        Input shape: (batch_size, num_attention_heads, seq_len, head_dim)
        Output shape: (batch_size, seq_len, hidden_size)
        """
        x = x.permute(0, 2, 1, 3).contiguous()  # Transpose back and make contiguous
        new_shape = x.size()[:-2] + (self.hidden_size,)
        return x.view(new_shape)

    def forward(
            self,
            hidden_states: torch.Tensor,
            attention_mask: Optional[torch.Tensor] = None  # 修正: 接收 2D padding mask (batch_size, seq_len)
    ) -> torch.Tensor:
        """
        Forward pass for standard multi-head self-attention.

        Args:
            hidden_states: Input tensor of shape (batch_size, seq_len, hidden_size).
            attention_mask: Optional padding mask tensor of shape (batch_size, seq_len).
                            This mask will be combined with the causal mask internally.

        Returns:
            Output tensor of shape (batch_size, seq_len, hidden_size).
        """
        batch_size, seq_len, _ = hidden_states.size()

        # Project query, key, value
        query_states = self.q_proj(hidden_states)
        key_states = self.k_proj(hidden_states)
        value_states = self.v_proj(hidden_states)

        # Split into heads
        query_states = self._split_heads(query_states)  # (bs, num_heads, seq_len, head_dim)
        key_states = self._split_heads(key_states)  # (bs, num_heads, seq_len, head_dim)
        value_states = self._split_heads(value_states)  # (bs, num_heads, seq_len, head_dim)

        # Apply RoPE (Rotary Positional Embeddings) - conceptual placeholder
        # For a full implementation, RoPE would be applied here to query_states and key_states.
        # This tutorial focuses on the core architecture rather than advanced position embeddings.

        # Compute attention scores
        # (bs, num_heads, seq_len, head_dim) @ (bs, num_heads, head_dim, seq_len)
        # attn_scores = torch.matmul(query_states, key_states.transpose(-1, -2)) * self.scaling # No longer needed with SDPA

        # Apply attention mask: Combine causal mask and padding mask
        # 修正: 将 2D padding mask 转换为 4D bias mask
        extended_attention_mask = None
        if attention_mask is not None:
            # Expand to (batch_size, 1, 1, seq_len) and convert to bias format (-inf for masked, 0 for not)
            extended_attention_mask = (1.0 - attention_mask.unsqueeze(1).unsqueeze(2)) * torch.finfo(
                query_states.dtype).min


        attn_output = F.scaled_dot_product_attention(
            query_states,
            key_states,
            value_states,
            attn_mask=extended_attention_mask,  # Pass padding mask here
            is_causal=True  # Explicitly apply causal mask
        )

        # Merge heads and project back to hidden_size
        attn_output = self._merge_heads(attn_output)  # (bs, seq_len, hidden_size)
        output = self.o_proj(attn_output)

        return output

# END OF FILE: src/models/attention/standard_attention.py

====================
文件: .\src\models\attention\__init__.py
====================

# Bedrock: This file makes the directory a Python package.

from .flash_attention import FlashAttention
from .standard_attention import StandardAttention

====================
文件: .\src\trainers\dpo_trainer.py
====================

# FILE: src/trainers/dpo_trainer.py
"""
Bedrock Protocol: Direct Preference Optimization (DPO) Trainer.

This script uses the Hugging Face TRL library to perform DPO, a form of
reinforcement learning from human feedback (RLHF) that is more stable and
computationally efficient than traditional PPO.
"""
import sys
from pathlib import Path
import yaml
import torch
from datasets import load_dataset
from transformers import (
    AutoModelForCausalLM,
    AutoTokenizer,
    TrainingArguments,
    BitsAndBytesConfig,
)
from peft import LoraConfig
from trl import DPOTrainer


def format_dpo_dataset(example: dict) -> dict:
    """
    Formats a single example from the source dataset to the required DPO format.
    The TRL DPOTrainer expects 'prompt', 'chosen', and 'rejected' columns.
    """
    # Assuming the dataset already has 'prompt', 'chosen', 'rejected' fields.
    # If your dataset format is different (e.g., 'question', 'answer_good', 'answer_bad'),
    # you would map them here.
    return {
        "prompt": example["prompt"],
        "chosen": example["chosen"],
        "rejected": example["rejected"],
    }


def run_dpo(config_path: str) -> None:
    """
    Main function to execute the DPO process.

    Args:
        config_path: Path to the YAML configuration file.
    """
    print("--- [Bedrock] Initiating Direct Preference Optimization (DPO) ---")

    # 1. Load Configuration
    print(f"Loading configuration from: {config_path}")
    with open(config_path, 'r') as f:
        config = yaml.safe_load(f)

    # 2. Load Dataset
    print(f"Loading dataset: {config['dataset_name']}")
    dataset = load_dataset(config['dataset_name'], split="train")

    # Subset for quick demo if specified in config
    if 'dataset_subset_size' in config and config['dataset_subset_size'] > 0:
        dataset = dataset.select(range(config['dataset_subset_size']))

    dataset = dataset.map(format_dpo_dataset)
    print(f"Dataset loaded and formatted with {len(dataset)} samples.")

    # 3. Load SFT-tuned Model and Tokenizer
    print(f"Loading base SFT model for DPO: {config['model_name_or_path']}")
    # Determine the compute dtype for quantization based on config and GPU capabilities
    torch_dtype = torch.float16
    if config['bf16'] and (torch.cuda.is_available() and torch.cuda.get_device_capability() >= 8):
        torch_dtype = torch.bfloat16
    elif config['fp16'] and torch.cuda.is_available():
        torch_dtype = torch.float16

    quant_config = BitsAndBytesConfig(
        load_in_4bit=True,
        bnb_4bit_quant_type="nf4",
        bnb_4bit_compute_dtype=torch_dtype,
        bnb_4bit_use_double_quant=True,
    )

    model = AutoModelForCausalLM.from_pretrained(
        config['model_name_or_path'],
        quantization_config=quant_config,
        device_map="auto",
        trust_remote_code=True,
        attn_implementation="flash_attention_2" if torch.cuda.is_available() and torch.cuda.get_device_capability() >= 8 else "sdpa",
    )
    model.config.use_cache = False  # Disable cache during training

    # The reference model for DPO is a non-trainable copy of the initial model.
    # TRL handles its creation automatically if you don't provide one, using the same config.

    tokenizer = AutoTokenizer.from_pretrained(config['model_name_or_path'], trust_remote_code=True)
    if tokenizer.pad_token is None:
        tokenizer.pad_token = tokenizer.eos_token  # Ensure padding token is set
    print("Model and tokenizer loaded successfully.")

    # 4. Configure PEFT (LoRA)
    print("Configuring PEFT with LoRA...")
    peft_config = LoraConfig(
        r=config['lora_r'],
        lora_alpha=config['lora_alpha'],
        lora_dropout=config['lora_dropout'],
        target_modules=config['lora_target_modules'],
        bias="none",
        task_type="CAUSAL_LM",
    )

    # 5. Configure Training Arguments
    print("Setting up training arguments...")
    training_args = TrainingArguments(
        output_dir=config['output_dir'],
        num_train_epochs=config['num_train_epochs'],
        per_device_train_batch_size=config['per_device_train_batch_size'],
        per_device_eval_batch_size=config['per_device_eval_batch_size'],
        gradient_accumulation_steps=config['gradient_accumulation_steps'],
        optim=config['optim'],
        learning_rate=config['learning_rate'],
        weight_decay=config['weight_decay'],  # Added for consistency
        bf16=config['bf16'],
        fp16=config['fp16'],  # Added for consistency
        max_grad_norm=config['max_grad_norm'],  # Added for consistency
        logging_steps=config['logging_steps'],
        lr_scheduler_type=config['lr_scheduler_type'],
        report_to=config['report_to'],
        run_name=config['run_name'],
        remove_unused_columns=False,  # Necessary for DPO with custom dataset columns
    )

    # 6. Initialize and Run DPO Trainer
    print("Initializing DPOTrainer...")
    dpo_trainer = DPOTrainer(
        model,
        args=training_args,
        train_dataset=dataset,
        tokenizer=tokenizer,
        peft_config=peft_config,
        beta=config['beta'],
        max_prompt_length=config['max_prompt_length'],
        max_length=config['max_length'],
        # eval_dataset=dataset_eval # Can add evaluation set if available
    )

    print("--- DPO Training Started ---")
    dpo_trainer.train()
    print("--- DPO Training Finished ---")

    # 7. Save Final Adapter Model and Tokenizer
    # Mandate of Empirical Proof: Save the model in a reproducible, standard format.
    final_model_path = Path(config['output_dir']) / "final_model"
    print(f"Saving final DPO-tuned adapter model to {final_model_path}...")
    dpo_trainer.save_model(str(final_model_path))  # Saves PEFT adapter and its config
    # Save the tokenizer separately to ensure it's available with the adapter
    tokenizer.save_pretrained(str(final_model_path))
    print("Model and tokenizer saved successfully.")

    print("\n--- [Bedrock] DPO Process Complete ---")


if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python src/trainers/dpo_trainer.py <path_to_config.yaml>")
        sys.exit(1)

    config_file_path = sys.argv[1] # 修正: 获取正确的命令行参数
    run_dpo(config_file_path)

# END OF FILE: src/trainers/dpo_trainer.py

====================
文件: .\src\trainers\pretrain_trainer.py
====================

# FILE: src/trainers/pretrain_trainer.py
"""
Bedrock Protocol: Main Pre-training Trainer.

This script orchestrates the end-to-end pre-training of a language model,
from loading data and model configuration to running the distributed training loop.
It integrates Hugging Face Accelerate and supports DeepSpeed for advanced parallelism.
"""

import sys
import os
from pathlib import Path
import yaml
import torch
import torch.nn.functional as F
from datasets import load_from_disk
from transformers import AutoTokenizer, get_scheduler
from accelerate import Accelerator
from accelerate.utils import set_seed
from torch.utils.data import DataLoader
from tqdm.auto import tqdm
import wandb

# Ensure project root is in path for imports
script_path = Path(__file__).resolve()
project_root = script_path.parent.parent.parent
sys.path.append(str(project_root))

from src.models.language_model import BaseLLM, BaseLLMConfig


def get_total_params(model: torch.nn.Module) -> int:
    """Calculates the total number of trainable parameters in a model."""
    return sum(p.numel() for p in model.parameters() if p.requires_grad)


def run_pretrain(config_path: str) -> None:
    """
    Main function to execute the pre-training process.

    Args:
        config_path: Path to the YAML configuration file.
    """
    print("--- [Bedrock] Initiating From-Scratch Pre-training ---")

    # 1. Load Configuration
    print(f"Loading configuration from: {config_path}")
    with open(config_path, 'r') as f:
        config = yaml.safe_load(f)

    # 2. Initialize Accelerator
    accelerator = Accelerator(
        mixed_precision=config.get('mixed_precision', 'no'),
        log_with=config.get('report_to'),
        project_dir=config['output_dir']
    )

    set_seed(int(config['seed']))

    # 3. Experiment Tracking (WandB)
    if accelerator.is_main_process and config.get('report_to') == "wandb":
        wandb.init(
            project="Awesome-LLM-ZeroToScratch",
            name=config['run_name'],
            config=config
        )
        print("WandB initialized.")

    # 4. Load Model Architecture Configuration
    model_config_path = project_root / config['model_config_path']
    print(f"Loading model architecture configuration from: {model_config_path}")
    with open(model_config_path, 'r') as f:
        model_config_dict = yaml.safe_load(f)

    model_config_dict['model_type_llm'] = model_config_dict.pop('model_type', 'DenseLLM')

    # 5. Load Tokenizer
    tokenizer_path_str = model_config_dict['tokenizer_path']
    hf_tokenizer_path_str = f"{tokenizer_path_str}_hf"
    tokenizer_load_path = project_root / hf_tokenizer_path_str
    if not tokenizer_load_path.exists():
        tokenizer_load_path = Path(tokenizer_path_str + "_hf")
    print(f"Loading tokenizer from Hugging Face format: {tokenizer_load_path}")
    tokenizer = AutoTokenizer.from_pretrained(str(tokenizer_load_path), trust_remote_code=True, use_fast=True)
    if tokenizer.pad_token is None:
        tokenizer.pad_token = tokenizer.eos_token
    print("Tokenizer loaded successfully.")

    # 6. Load Dataset and Tokenize
    dataset_dir = project_root / config['dataset_dir']
    print(f"Loading dataset from: {dataset_dir}")
    raw_dataset = load_from_disk(str(dataset_dir))

    def tokenize_function(examples):
        return tokenizer(examples[config['dataset_text_field']], max_length=int(config['max_seq_length']),
                         truncation=True, padding="max_length")

    num_processes_for_map = min(os.cpu_count() or 1, 8)
    tokenized_dataset = raw_dataset.map(tokenize_function, batched=True,
                                        remove_columns=raw_dataset['train'].column_names,
                                        num_proc=num_processes_for_map, desc="Tokenizing dataset")
    tokenized_dataset.set_format(type='torch', columns=['input_ids', 'attention_mask'])
    train_dataloader = DataLoader(tokenized_dataset["train"], shuffle=True,
                                  batch_size=int(config['per_device_train_batch_size']))
    eval_dataloader = DataLoader(tokenized_dataset["validation"], batch_size=int(config['per_device_train_batch_size']))
    print("Dataset tokenized and DataLoaders prepared.")

    # 7. Initialize Model
    print("Initializing model architecture...")
    model_config_dict['vocab_size'] = tokenizer.vocab_size
    model_config_dict['pad_token_id'] = tokenizer.pad_token_id
    model_config_obj = BaseLLMConfig(**model_config_dict)

    model = BaseLLM(model_config_obj)
    print(f"Model initialized with {get_total_params(model) / 1e9:.2f} Billion parameters.")

    # 8. Setup Optimizer and Scheduler
    print("Setting up optimizer and learning rate scheduler...")
    optimizer = torch.optim.AdamW(
        model.parameters(),
        lr=float(config['learning_rate']),
        weight_decay=float(config['weight_decay']),
        betas=(float(config['adam_beta1']), float(config['adam_beta2'])),
        eps=float(config['adam_epsilon'])
    )
    num_training_steps = int(config['max_steps']) if int(config['max_steps']) > 0 else len(train_dataloader) // int(
        config['gradient_accumulation_steps']) * int(config['num_train_epochs'])
    lr_scheduler = get_scheduler(
        name=config['lr_scheduler_type'],
        optimizer=optimizer,
        num_warmup_steps=int(num_training_steps * float(config['warmup_ratio'])),
        num_training_steps=num_training_steps
    )
    print(f"Total training steps: {num_training_steps}")

    # 9. Prepare for Distributed Training with Accelerate
    model, optimizer, train_dataloader, eval_dataloader, lr_scheduler = accelerator.prepare(
        model, optimizer, train_dataloader, eval_dataloader, lr_scheduler
    )
    print("Model, Optimizer, DataLoaders, and Scheduler prepared for training.")

    # 10. Training Loop
    print("\n--- Training Started ---")
    progress_bar = tqdm(range(num_training_steps), disable=not accelerator.is_local_main_process)
    completed_steps = 0

    model.train()
    while completed_steps < num_training_steps:
        for step, batch in enumerate(train_dataloader):
            if completed_steps >= num_training_steps:
                break

            with accelerator.accumulate(model):
                outputs = model(
                    input_ids=batch['input_ids'],
                    attention_mask=batch['attention_mask'],
                    labels=batch['input_ids']
                )
                loss = outputs['loss']

                accelerator.backward(loss)
                optimizer.step()
                lr_scheduler.step()
                optimizer.zero_grad()

            if accelerator.sync_gradients:
                progress_bar.update(1)
                completed_steps += 1

                if accelerator.is_main_process:
                    log_dict = {"train_loss": loss.item(), "learning_rate": lr_scheduler.get_last_lr()[0]}
                    accelerator.log(log_dict, step=completed_steps)
                    progress_bar.set_description(f"Loss: {loss.item():.4f}")

                # [修正] 将 save_steps 从字符串转换为整数
                save_steps = int(config.get('save_steps', 0))
                if completed_steps > 0 and save_steps > 0 and completed_steps % save_steps == 0:
                    output_path = Path(config['output_dir']) / f"step_{completed_steps}"
                    accelerator.wait_for_everyone()
                    unwrapped_model = accelerator.unwrap_model(model)

                    if accelerator.is_main_process:
                        # [修正] 在保存前，强制更新配置对象以确保一致性
                        unwrapped_model.config.tie_word_embeddings = True

                        unwrapped_model.save_pretrained(str(output_path))
                        tokenizer.save_pretrained(str(output_path))
                        print(f"Checkpoint saved at step {completed_steps} to {output_path}")

    progress_bar.close()
    print("--- Training Finished ---")

    if accelerator.is_main_process:
        final_model_path = Path(config['output_dir']) / "final_model"
        accelerator.wait_for_everyone()
        unwrapped_model = accelerator.unwrap_model(model)

        # [修正] 在最终保存前，也强制更新配置对象
        unwrapped_model.config.tie_word_embeddings = True

        unwrapped_model.save_pretrained(str(final_model_path))
        tokenizer.save_pretrained(str(final_model_path))
        print(f"Final model and tokenizer saved to {final_model_path}")
        if config.get('report_to') == "wandb":
            wandb.finish()

    print("\n--- [Bedrock] Pre-training Process Complete ---")


if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python src/trainers/pretrain_trainer.py <path_to_config.yaml>")
        sys.exit(1)
    config_file_path = sys.argv[1]
    run_pretrain(config_file_path)

====================
文件: .\src\trainers\sft_trainer.py
====================

# FILE: src/trainers/sft_trainer.py
"""
Bedrock Protocol: Supervised Fine-Tuning (SFT) Trainer.

This script uses the Hugging Face TRL library to perform SFT on a language model
using Parameter-Efficient Fine-Tuning (PEFT) with LoRA. It is designed to be
driven by a YAML configuration file.
"""

import sys
from pathlib import Path
import yaml
import torch
from datasets import load_dataset
from transformers import (
    AutoModelForCausalLM,
    AutoTokenizer,
    TrainingArguments,
    BitsAndBytesConfig,
)
from peft import LoraConfig
from trl import SFTTrainer


def run_sft(config_path: str) -> None:
    """
    Main function to execute the SFT process.

    Args:
        config_path: Path to the YAML configuration file.
    """
    print("--- [Bedrock] Initiating Supervised Fine-Tuning (SFT) ---")

    # 1. Load Configuration
    print(f"Loading configuration from: {config_path}")
    with open(config_path, 'r') as f:
        config = yaml.safe_load(f)

    # 2. Load Dataset
    print(f"Loading dataset: {config['dataset_name']}")
    # For a smaller demo, consider using a subset: dataset = load_dataset(..., split="train[:1000]")
    dataset = load_dataset(config['dataset_name'], split="train")
    print(f"Dataset loaded with {len(dataset)} samples.")

    # 3. Load Model and Tokenizer
    print(f"Loading base model: {config['model_name_or_path']}")

    # Mandate of Proactive Defense: Use quantization to reduce memory footprint.
    # Convert string 'bf16' to torch.bfloat16 (and 'fp16' to torch.float16)
    torch_dtype = torch.float16
    if config['bf16'] and (torch.cuda.is_available() and torch.cuda.get_device_capability() >= 8):
        torch_dtype = torch.bfloat16
    elif config['fp16'] and torch.cuda.is_available():
        torch_dtype = torch.float16

    quant_config = BitsAndBytesConfig(
        load_in_4bit=True,
        bnb_4bit_quant_type="nf4",  # NormalFloat4 quantization
        bnb_4bit_compute_dtype=torch_dtype,  # Compute in bf16 or fp16
        bnb_4bit_use_double_quant=True,  # Apply double quantization
    )

    model = AutoModelForCausalLM.from_pretrained(
        config['model_name_or_path'],
        quantization_config=quant_config,
        device_map="auto",  # Automatically map model layers to available devices
        trust_remote_code=True,
        # Use FlashAttention 2 if available and compatible GPU (Ampere or newer)
        attn_implementation="flash_attention_2" if torch.cuda.is_available() and torch.cuda.get_device_capability() >= 8 else "sdpa",
    )
    model.config.use_cache = False  # Disable cache for training speed
    model.config.pretraining_tp = 1  # Required for DeepSpeed zero3 sometimes

    tokenizer = AutoTokenizer.from_pretrained(
        config['model_name_or_path'],
        trust_remote_code=True
    )
    # Ensure padding token is set, crucial for batching and generation
    if tokenizer.pad_token is None:
        tokenizer.pad_token = tokenizer.eos_token
    tokenizer.padding_side = "right"  # Llama models often prefer right padding during inference/training

    print("Model and tokenizer loaded successfully.")

    # 4. Configure PEFT (LoRA)
    print("Configuring PEFT with LoRA...")
    peft_config = LoraConfig(
        r=config['lora_r'],
        lora_alpha=config['lora_alpha'],
        lora_dropout=config['lora_dropout'],
        target_modules=config['lora_target_modules'],
        bias="none",  # Common setting for LoRA on bias weights
        task_type="CAUSAL_LM",  # Specify task type
    )
    print("PEFT configured.")

    # 5. Configure Training Arguments
    print("Setting up training arguments...")
    training_args = TrainingArguments(
        output_dir=config['output_dir'],
        num_train_epochs=config['num_train_epochs'],
        per_device_train_batch_size=config['per_device_train_batch_size'],
        gradient_accumulation_steps=config['gradient_accumulation_steps'],
        optim=config['optim'],
        save_steps=config['save_steps'],
        logging_steps=config['logging_steps'],
        learning_rate=config['learning_rate'],
        weight_decay=config['weight_decay'],
        fp16=config['fp16'],
        bf16=config['bf16'],
        max_grad_norm=config['max_grad_norm'],
        max_steps=config['max_steps'],
        warmup_ratio=config['warmup_ratio'],
        lr_scheduler_type=config['lr_scheduler_type'],
        report_to=config['report_to'],
        run_name=config['run_name'],
        # Evaluation is optional, can be enabled with eval_steps, etc.
        # evaluation_strategy="steps",
        # eval_steps=config['eval_steps'],
        # save_total_limit=config['save_total_limit'] # Limit number of checkpoints
    )
    print("Training arguments set.")

    # 6. Initialize and Run Trainer
    print("Initializing SFTTrainer...")
    trainer = SFTTrainer(
        model=model,
        tokenizer=tokenizer,
        train_dataset=dataset,
        peft_config=peft_config,
        dataset_text_field=config['dataset_text_field'],
        max_seq_length=config['max_seq_length'],
        args=training_args,
        packing=True,  # Set to True for more efficient packing of short examples into longer sequences.
        # Can provide better throughput but might complicate dataset debugging.
    )

    print("--- Training Started ---")
    trainer.train()
    print("--- Training Finished ---")

    # 7. Save Final Adapter Model and Tokenizer
    # Mandate of Empirical Proof: Save the model in a reproducible, standard format.
    # The adapter is saved, not the full model, to keep file size small.
    final_model_path = Path(config['output_dir']) / "final_model"
    print(f"Saving final adapter model to {final_model_path}...")
    trainer.save_model(str(final_model_path))  # Saves PEFT adapter and its config
    # Save the tokenizer separately to ensure it's available with the adapter
    tokenizer.save_pretrained(str(final_model_path))
    print("Model and tokenizer saved successfully.")

    print("\n--- [Bedrock] SFT Process Complete ---")


if __name__ == "__main__":
    if len(sys.argv) != 2:
        print("Usage: python src/trainers/sft_trainer.py <path_to_config.yaml>")
        sys.exit(1)

    config_file_path = sys.argv[1] # 修正: 获取正确的命令行参数
    run_sft(config_file_path)

# END OF FILE: src/trainers/sft_trainer.py

====================
文件: .\src\trainers\__init__.py
====================

# Bedrock: This file makes the directory a Python package.
# FILE: src/trainers/__init__.py
# Bedrock: This file makes the directory a Python package.

# Mandate of Zero Ambiguity: Expose key trainer functions for direct import.
from .pretrain_trainer import run_pretrain
from .sft_trainer import run_sft
from .dpo_trainer import run_dpo

# END OF FILE: src/trainers/__init__.py

====================
文件: .\src\utils\__init__.py
====================

# Bedrock: This file makes the directory a Python package.


====================
文件: .\wandb\run-20250720_183054-bhxdr6dx\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1000
logging_steps:
  desc: null
  value: 10
eval_steps:
  desc: null
  value: 1000
max_steps:
  desc: null
  value: 50000
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753007454
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_183054-bhxdr6dx\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_184140-mbn6jttr\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1000
logging_steps:
  desc: null
  value: 10
eval_steps:
  desc: null
  value: 1000
max_steps:
  desc: null
  value: 50000
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753008100
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_184140-mbn6jttr\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_184718-zfwgmbv2\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1000
logging_steps:
  desc: null
  value: 10
eval_steps:
  desc: null
  value: 1000
max_steps:
  desc: null
  value: 50000
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753008438
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_184718-zfwgmbv2\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_190257-hfv4nedu\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1000
logging_steps:
  desc: null
  value: 10
eval_steps:
  desc: null
  value: 1000
max_steps:
  desc: null
  value: 50000
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753009377
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_190257-hfv4nedu\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_190641-2a5id9w2\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1000
logging_steps:
  desc: null
  value: 10
eval_steps:
  desc: null
  value: 1000
max_steps:
  desc: null
  value: 50000
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753009601
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_190641-2a5id9w2\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_191553-pqoo5wmq\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1000
logging_steps:
  desc: null
  value: 10
eval_steps:
  desc: null
  value: 1000
max_steps:
  desc: null
  value: 50000
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753010153
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_191553-pqoo5wmq\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_191928-thzchan2\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1000
logging_steps:
  desc: null
  value: 10
eval_steps:
  desc: null
  value: 1000
max_steps:
  desc: null
  value: 50000
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753010368
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_191928-thzchan2\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_192023-z801iw56\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1000
logging_steps:
  desc: null
  value: 10
eval_steps:
  desc: null
  value: 1000
max_steps:
  desc: null
  value: 50000
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753010423
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_192023-z801iw56\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_192329-n8tk764y\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1000
logging_steps:
  desc: null
  value: 10
eval_steps:
  desc: null
  value: 1000
max_steps:
  desc: null
  value: 50000
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753010609
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_192329-n8tk764y\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_192600-y0ve7qr8\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1
logging_steps:
  desc: null
  value: 11
eval_steps:
  desc: null
  value: 1
max_steps:
  desc: null
  value: 100
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753010760
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_192600-y0ve7qr8\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_194354-441nrq5u\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1
logging_steps:
  desc: null
  value: 11
eval_steps:
  desc: null
  value: 1
max_steps:
  desc: null
  value: 100
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753011834
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_194354-441nrq5u\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_203907-vmzh55uw\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1
logging_steps:
  desc: null
  value: 11
eval_steps:
  desc: null
  value: 1
max_steps:
  desc: null
  value: 100
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753015147
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_203907-vmzh55uw\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_204438-nu3adish\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1
logging_steps:
  desc: null
  value: 11
eval_steps:
  desc: null
  value: 1
max_steps:
  desc: null
  value: 100
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753015478
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_204438-nu3adish\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

====================
文件: .\wandb\run-20250720_205009-xfjkvm1a\files\config.yaml
====================

wandb_version: 1

seed:
  desc: null
  value: 42
output_dir:
  desc: null
  value: ./checkpoints/pretrain_llm_demo
save_steps:
  desc: null
  value: 1
logging_steps:
  desc: null
  value: 11
eval_steps:
  desc: null
  value: 1
max_steps:
  desc: null
  value: 100
num_train_epochs:
  desc: null
  value: -1
model_config_path:
  desc: null
  value: configs/model/0.5B_dense.yaml
dataset_dir:
  desc: null
  value: ./data/processed/wikitext
dataset_text_field:
  desc: null
  value: text
max_seq_length:
  desc: null
  value: 1024
optimizer:
  desc: null
  value: adamw_torch
learning_rate:
  desc: null
  value: 3e-4
weight_decay:
  desc: null
  value: 0.01
adam_beta1:
  desc: null
  value: 0.9
adam_beta2:
  desc: null
  value: 0.95
adam_epsilon:
  desc: null
  value: 1e-8
max_grad_norm:
  desc: null
  value: 1.0
lr_scheduler_type:
  desc: null
  value: cosine
warmup_ratio:
  desc: null
  value: 0.01
per_device_train_batch_size:
  desc: null
  value: 2
gradient_accumulation_steps:
  desc: null
  value: 16
mixed_precision:
  desc: null
  value: bf16
deepspeed_config:
  desc: null
  value: ''
use_torch_compile:
  desc: null
  value: true
report_to:
  desc: null
  value: wandb
run_name:
  desc: null
  value: pretrain-0.5b-dense-demo
_wandb:
  desc: null
  value:
    python_version: 3.11.13
    cli_version: 0.17.0
    framework: huggingface
    huggingface_version: 4.41.2
    is_jupyter_run: false
    is_kaggle_kernel: false
    start_time: 1753015809
    t:
      1:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      2:
      - 1
      - 11
      - 49
      - 51
      - 55
      - 71
      - 84
      - 98
      3:
      - 13
      - 16
      - 23
      4: 3.11.13
      5: 0.17.0
      6: 4.41.2
      8:
      - 3
      - 5
      13: windows-amd64


====================
文件: .\wandb\run-20250720_205009-xfjkvm1a\files\requirements.txt
====================

GitPython==3.1.44
Jinja2==3.1.6
MarkupSafe==3.0.2
PyYAML==6.0.1
Pygments==2.19.2
accelerate==0.30.1
aiohappyeyeballs==2.6.1
aiohttp==3.12.14
aiosignal==1.4.0
annotated-types==0.7.0
attrs==25.3.0
bitsandbytes==0.43.1
certifi==2025.7.14
charset-normalizer==3.4.2
click==8.2.1
colorama==0.4.6
datasets==2.19.0
dill==0.3.8
docker-pycreds==0.4.0
docstring_parser==0.16
filelock==3.18.0
frozenlist==1.7.0
fsspec==2024.3.1
gitdb==4.0.12
hf_transfer==0.1.9
huggingface-hub==0.33.4
idna==3.10
intel-openmp==2021.4.0
markdown-it-py==3.0.0
mdurl==0.1.2
mkl==2021.4.0
mpmath==1.3.0
multidict==6.6.3
multiprocess==0.70.16
networkx==3.5
numpy==1.26.4
packaging==25.0
pandas==2.3.1
peft==0.10.0
pillow==10.4.0
pip==24.0
platformdirs==4.3.8
propcache==0.3.2
protobuf==4.25.8
psutil==7.0.0
pyarrow-hotfix==0.7
pyarrow==21.0.0
pydantic==2.11.7
pydantic_core==2.33.2
python-dateutil==2.9.0.post0
pytz==2025.2
regex==2024.11.6
requests==2.32.4
rich==14.0.0
ruff==0.4.4
safetensors==0.5.3
sentencepiece==0.2.0
sentry-sdk==2.33.0
setproctitle==1.3.6
setuptools==65.5.0
shtab==1.7.2
six==1.17.0
smmap==5.0.2
sympy==1.14.0
tbb==2021.13.1
tokenizers==0.19.1
torch==2.3.0+cpu
torchvision==0.18.0+cpu
tqdm==4.66.4
transformers==4.41.2
trl==0.8.6
typeguard==4.4.4
typing-inspection==0.4.1
typing_extensions==4.14.1
tyro==0.9.26
tzdata==2025.2
urllib3==2.5.0
wandb==0.17.0
xxhash==3.5.0
yarl==1.20.1

